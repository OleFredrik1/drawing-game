{
  "{\"filename\":\"/home/nitrous/gulpfile.babel.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "del",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "del"
              }
            ]
          },
          {
            "source": "gulp",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gulp"
              }
            ]
          },
          {
            "source": "grunt",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "grunt"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "through2",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "through2"
              }
            ]
          },
          {
            "source": "gulp-load-plugins",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gulpLoadPlugins"
              }
            ]
          },
          {
            "source": "http",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "http"
              }
            ]
          },
          {
            "source": "open",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "open"
              }
            ]
          },
          {
            "source": "lazypipe",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "lazypipe"
              }
            ]
          },
          {
            "source": "nodemon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "nodemon"
              }
            ]
          },
          {
            "source": "karma",
            "imported": [
              "Server"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Server",
                "local": "KarmaServer"
              }
            ]
          },
          {
            "source": "run-sequence",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "runSequence"
              }
            ]
          },
          {
            "source": "gulp-protractor",
            "imported": [
              "protractor",
              "webdriver_update"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "protractor",
                "local": "protractor"
              },
              {
                "kind": "named",
                "imported": "webdriver_update",
                "local": "webdriver_update"
              }
            ]
          },
          {
            "source": "isparta",
            "imported": [
              "Instrumenter"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Instrumenter",
                "local": "Instrumenter"
              }
            ]
          },
          {
            "source": "webpack-stream",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "webpack"
              }
            ]
          },
          {
            "source": "./webpack.make",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "makeWebpackConfig"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/gulpfile.babel.js",
      "filenameRelative": "/home/nitrous/gulpfile.babel.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "gulpfile.babel.js",
      "sourceFileName": "gulpfile.babel.js",
      "sourceRoot": "/home/nitrous",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "gulpfile.babel"
    },
    "ignored": false,
    "code": "// Generated on 2016-10-02 using generator-angular-fullstack 4.1.0\n'use strict';\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _del = require('del');\n\nvar _del2 = _interopRequireDefault(_del);\n\nvar _gulp = require('gulp');\n\nvar _gulp2 = _interopRequireDefault(_gulp);\n\nvar _grunt = require('grunt');\n\nvar _grunt2 = _interopRequireDefault(_grunt);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _through = require('through2');\n\nvar _through2 = _interopRequireDefault(_through);\n\nvar _gulpLoadPlugins = require('gulp-load-plugins');\n\nvar _gulpLoadPlugins2 = _interopRequireDefault(_gulpLoadPlugins);\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _open = require('open');\n\nvar _open2 = _interopRequireDefault(_open);\n\nvar _lazypipe = require('lazypipe');\n\nvar _lazypipe2 = _interopRequireDefault(_lazypipe);\n\nvar _nodemon = require('nodemon');\n\nvar _nodemon2 = _interopRequireDefault(_nodemon);\n\nvar _karma = require('karma');\n\nvar _runSequence = require('run-sequence');\n\nvar _runSequence2 = _interopRequireDefault(_runSequence);\n\nvar _gulpProtractor = require('gulp-protractor');\n\nvar _isparta = require('isparta');\n\nvar _webpackStream = require('webpack-stream');\n\nvar _webpackStream2 = _interopRequireDefault(_webpackStream);\n\nvar _webpack = require('./webpack.make');\n\nvar _webpack2 = _interopRequireDefault(_webpack);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar plugins = (0, _gulpLoadPlugins2.default)();\nvar config;\n\nvar clientPath = 'client';\nvar serverPath = 'server';\nvar paths = {\n    client: {\n        assets: clientPath + '/assets/**/*',\n        images: clientPath + '/assets/images/**/*',\n        revManifest: clientPath + '/assets/rev-manifest.json',\n        scripts: [clientPath + '/**/!(*.spec|*.mock).js'],\n        styles: [clientPath + '/{app,components}/**/*.styl'],\n        mainStyle: clientPath + '/app/app.styl',\n        views: clientPath + '/{app,components}/**/*.pug',\n        mainView: clientPath + '/index.html',\n        test: [clientPath + '/{app,components}/**/*.{spec,mock}.js'],\n        e2e: ['e2e/**/*.spec.js']\n    },\n    server: {\n        scripts: [serverPath + '/**/!(*.spec|*.integration).js', '!' + serverPath + '/config/local.env.sample.js'],\n        json: [serverPath + '/**/*.json'],\n        test: {\n            integration: [serverPath + '/**/*.integration.js', 'mocha.global.js'],\n            unit: [serverPath + '/**/*.spec.js', 'mocha.global.js']\n        }\n    },\n    karma: 'karma.conf.js',\n    dist: 'dist'\n};\n\n/********************\n * Helper functions\n ********************/\n\nfunction onServerLog(log) {\n    console.log(plugins.util.colors.white('[') + plugins.util.colors.yellow('nodemon') + plugins.util.colors.white('] ') + log.message);\n}\n\nfunction checkAppReady(cb) {\n    var options = {\n        host: 'localhost',\n        port: config.port\n    };\n    _http2.default.get(options, function () {\n        return cb(true);\n    }).on('error', function () {\n        return cb(false);\n    });\n}\n\n// Call page until first success\nfunction whenServerReady(cb) {\n    var serverReady = false;\n    var appReadyInterval = setInterval(function () {\n        return checkAppReady(function (ready) {\n            if (!ready || serverReady) {\n                return;\n            }\n            clearInterval(appReadyInterval);\n            serverReady = true;\n            cb();\n        });\n    }, 100);\n}\n\n/********************\n * Reusable pipelines\n ********************/\n\nvar lintClientScripts = (0, _lazypipe2.default)().pipe(plugins.eslint, clientPath + '/.eslintrc').pipe(plugins.eslint.format);\n\nvar lintClientTestScripts = (0, _lazypipe2.default)().pipe(plugins.eslint, {\n    configFile: clientPath + '/.eslintrc',\n    envs: ['browser', 'es6', 'mocha']\n}).pipe(plugins.eslint.format);\n\nvar lintServerScripts = (0, _lazypipe2.default)().pipe(plugins.eslint, serverPath + '/.eslintrc').pipe(plugins.eslint.format);\n\nvar lintServerTestScripts = (0, _lazypipe2.default)().pipe(plugins.eslint, {\n    configFile: serverPath + '/.eslintrc',\n    envs: ['node', 'es6', 'mocha']\n}).pipe(plugins.eslint.format);\n\nvar transpileServer = (0, _lazypipe2.default)().pipe(plugins.sourcemaps.init).pipe(plugins.babel, {\n    plugins: ['transform-class-properties', 'transform-runtime']\n}).pipe(plugins.sourcemaps.write, '.');\n\nvar mocha = (0, _lazypipe2.default)().pipe(plugins.mocha, {\n    reporter: 'spec',\n    timeout: 5000,\n    require: ['./mocha.conf']\n});\n\nvar istanbul = (0, _lazypipe2.default)().pipe(plugins.istanbul.writeReports).pipe(plugins.istanbulEnforcer, {\n    thresholds: {\n        global: {\n            lines: 80,\n            statements: 80,\n            branches: 80,\n            functions: 80\n        }\n    },\n    coverageDirectory: './coverage',\n    rootDirectory: ''\n});\n\n/********************\n * Env\n ********************/\n\n_gulp2.default.task('env:all', function () {\n    var localConfig = void 0;\n    try {\n        localConfig = require('./' + serverPath + '/config/local.env');\n    } catch (e) {\n        localConfig = {};\n    }\n    plugins.env({\n        vars: localConfig\n    });\n});\n_gulp2.default.task('env:test', function () {\n    plugins.env({\n        vars: { NODE_ENV: 'test' }\n    });\n});\n_gulp2.default.task('env:prod', function () {\n    plugins.env({\n        vars: { NODE_ENV: 'production' }\n    });\n});\n\n/********************\n * Tasks\n ********************/\n\n_gulp2.default.task('inject', function (cb) {\n    (0, _runSequence2.default)(['inject:styl'], cb);\n});\n\n_gulp2.default.task('inject:styl', function () {\n    return _gulp2.default.src(paths.client.mainStyle).pipe(plugins.inject(_gulp2.default.src(_lodash2.default.union(paths.client.styles, ['!' + paths.client.mainStyle]), { read: false }).pipe(plugins.sort()), {\n        starttag: '/* inject:styl */',\n        endtag: '/* endinject */',\n        transform: function transform(filepath) {\n            var newPath = filepath.replace('/' + clientPath + '/app/', '').replace('/' + clientPath + '/components/', '../components/').replace(/_(.*).styl/, function (match, p1, offset, string) {\n                return p1;\n            }).replace('.styl', '');\n            return '@import \\'' + newPath + '\\';';\n        }\n    })).pipe(_gulp2.default.dest(clientPath + '/app'));\n});\n\n_gulp2.default.task('webpack:dev', function () {\n    var webpackDevConfig = (0, _webpack2.default)({ DEV: true });\n    return _gulp2.default.src(webpackDevConfig.entry.app).pipe(plugins.plumber()).pipe((0, _webpackStream2.default)(webpackDevConfig)).pipe(_gulp2.default.dest('.tmp'));\n});\n\n_gulp2.default.task('webpack:dist', function () {\n    var _this = this;\n\n    var webpackDistConfig = (0, _webpack2.default)({ BUILD: true });\n    return _gulp2.default.src(webpackDistConfig.entry.app).pipe((0, _webpackStream2.default)(webpackDistConfig)).on('error', function (err) {\n        _this.emit('end'); // Recover from errors\n    }).pipe(_gulp2.default.dest(paths.dist + '/client'));\n});\n\n_gulp2.default.task('webpack:test', function () {\n    var webpackTestConfig = (0, _webpack2.default)({ TEST: true });\n    return _gulp2.default.src(webpackTestConfig.entry.app).pipe((0, _webpackStream2.default)(webpackTestConfig)).pipe(_gulp2.default.dest('.tmp'));\n});\n\n_gulp2.default.task('webpack:e2e', function () {\n    var webpackE2eConfig = (0, _webpack2.default)({ E2E: true });\n    return _gulp2.default.src(webpackE2eConfig.entry.app).pipe((0, _webpackStream2.default)(webpackE2eConfig)).pipe(_gulp2.default.dest('.tmp'));\n});\n\n_gulp2.default.task('styles', function () {\n    return _gulp2.default.src(paths.client.mainStyle).pipe(styles()).pipe(_gulp2.default.dest('.tmp/app'));\n});\n\n_gulp2.default.task('transpile:server', function () {\n    return _gulp2.default.src(_lodash2.default.union(paths.server.scripts, paths.server.json)).pipe(transpileServer()).pipe(_gulp2.default.dest(paths.dist + '/' + serverPath));\n});\n\n_gulp2.default.task('lint:scripts', function (cb) {\n    return (0, _runSequence2.default)(['lint:scripts:client', 'lint:scripts:server'], cb);\n});\n\n_gulp2.default.task('lint:scripts:client', function () {\n    return _gulp2.default.src(_lodash2.default.union(paths.client.scripts, _lodash2.default.map(paths.client.test, function (blob) {\n        return '!' + blob;\n    }))).pipe(lintClientScripts());\n});\n\n_gulp2.default.task('lint:scripts:server', function () {\n    return _gulp2.default.src(_lodash2.default.union(paths.server.scripts, _lodash2.default.map(paths.server.test, function (blob) {\n        return '!' + blob;\n    }))).pipe(lintServerScripts());\n});\n\n_gulp2.default.task('lint:scripts:clientTest', function () {\n    return _gulp2.default.src(paths.client.test).pipe(lintClientScripts());\n});\n\n_gulp2.default.task('lint:scripts:serverTest', function () {\n    return _gulp2.default.src(paths.server.test).pipe(lintServerTestScripts());\n});\n\n_gulp2.default.task('jscs', function () {\n    return _gulp2.default.src(_lodash2.default.union(paths.client.scripts, paths.server.scripts)).pipe(plugins.jscs()).pipe(plugins.jscs.reporter());\n});\n\n_gulp2.default.task('clean:tmp', function () {\n    return (0, _del2.default)(['.tmp/**/*'], { dot: true });\n});\n\n_gulp2.default.task('start:client', function (cb) {\n    whenServerReady(function () {\n        (0, _open2.default)('http://localhost:' + config.browserSyncPort);\n        cb();\n    });\n});\n\n_gulp2.default.task('start:server', function () {\n    process.env.NODE_ENV = process.env.NODE_ENV || 'development';\n    config = require('./' + serverPath + '/config/environment');\n    (0, _nodemon2.default)('-w ' + serverPath + ' ' + serverPath).on('log', onServerLog);\n});\n\n_gulp2.default.task('start:server:prod', function () {\n    process.env.NODE_ENV = process.env.NODE_ENV || 'production';\n    config = require('./' + paths.dist + '/' + serverPath + '/config/environment');\n    (0, _nodemon2.default)('-w ' + paths.dist + '/' + serverPath + ' ' + paths.dist + '/' + serverPath).on('log', onServerLog);\n});\n\n_gulp2.default.task('start:inspector', function () {\n    _gulp2.default.src([]).pipe(plugins.nodeInspector({\n        debugPort: 5858\n    }));\n});\n\n_gulp2.default.task('start:server:debug', function () {\n    process.env.NODE_ENV = process.env.NODE_ENV || 'development';\n    config = require('./' + serverPath + '/config/environment');\n    (0, _nodemon2.default)('-w ' + serverPath + ' --debug=5858 --debug-brk ' + serverPath).on('log', onServerLog);\n});\n\n_gulp2.default.task('watch', function () {\n    var testFiles = _lodash2.default.union(paths.client.test, paths.server.test.unit, paths.server.test.integration);\n\n    plugins.watch(_lodash2.default.union(paths.server.scripts, testFiles)).pipe(plugins.plumber()).pipe(lintServerScripts());\n\n    plugins.watch(_lodash2.default.union(paths.server.test.unit, paths.server.test.integration)).pipe(plugins.plumber()).pipe(lintServerTestScripts());\n});\n\n_gulp2.default.task('serve', function (cb) {\n    (0, _runSequence2.default)(['clean:tmp', 'lint:scripts', 'inject', 'copy:fonts:dev', 'env:all'],\n    // 'webpack:dev',\n    ['start:server', 'start:client'], 'watch', cb);\n});\n\n_gulp2.default.task('serve:debug', function (cb) {\n    (0, _runSequence2.default)(['clean:tmp', 'lint:scripts', 'inject', 'copy:fonts:dev', 'env:all'], 'webpack:dev', 'start:inspector', ['start:server:debug', 'start:client'], 'watch', cb);\n});\n\n_gulp2.default.task('serve:dist', function (cb) {\n    (0, _runSequence2.default)('build', 'env:all', 'env:prod', ['start:server:prod', 'start:client'], cb);\n});\n\n_gulp2.default.task('test', function (cb) {\n    return (0, _runSequence2.default)('test:server', 'test:client', cb);\n});\n\n_gulp2.default.task('test:server', function (cb) {\n    (0, _runSequence2.default)('env:all', 'env:test', 'mocha:unit', 'mocha:integration', cb);\n});\n\n_gulp2.default.task('mocha:unit', function () {\n    return _gulp2.default.src(paths.server.test.unit).pipe(mocha());\n});\n\n_gulp2.default.task('mocha:integration', function () {\n    return _gulp2.default.src(paths.server.test.integration).pipe(mocha());\n});\n\n_gulp2.default.task('test:server:coverage', function (cb) {\n    (0, _runSequence2.default)('coverage:pre', 'env:all', 'env:test', 'coverage:unit', 'coverage:integration', cb);\n});\n\n_gulp2.default.task('coverage:pre', function () {\n    return _gulp2.default.src(paths.server.scripts)\n    // Covering files\n    .pipe(plugins.istanbul({\n        instrumenter: _isparta.Instrumenter, // Use the isparta instrumenter (code coverage for ES6)\n        includeUntested: true\n    }))\n    // Force `require` to return covered files\n    .pipe(plugins.istanbul.hookRequire());\n});\n\n_gulp2.default.task('coverage:unit', function () {\n    return _gulp2.default.src(paths.server.test.unit).pipe(mocha()).pipe(istanbul());\n    // Creating the reports after tests ran\n});\n\n_gulp2.default.task('coverage:integration', function () {\n    return _gulp2.default.src(paths.server.test.integration).pipe(mocha()).pipe(istanbul());\n    // Creating the reports after tests ran\n});\n\n// Downloads the selenium webdriver\n_gulp2.default.task('webdriver_update', _gulpProtractor.webdriver_update);\n\n_gulp2.default.task('test:e2e', ['webpack:e2e', 'env:all', 'env:test', 'start:server', 'webdriver_update'], function (cb) {\n    _gulp2.default.src(paths.client.e2e).pipe((0, _gulpProtractor.protractor)({\n        configFile: 'protractor.conf.js'\n    })).on('error', function (e) {\n        throw e;\n    }).on('end', function () {\n        process.exit();\n    });\n});\n\n_gulp2.default.task('test:client', function (done) {\n    new _karma.Server({\n        configFile: __dirname + '/' + paths.karma,\n        singleRun: true\n    }, function (err) {\n        done(err);\n        process.exit(err);\n    }).start();\n});\n\n/********************\n * Build\n ********************/\n\n_gulp2.default.task('build', function (cb) {\n    (0, _runSequence2.default)(['clean:dist', 'clean:tmp'], 'inject', 'transpile:server', ['build:images'], ['copy:extras', 'copy:assets', 'copy:fonts:dist', 'copy:server', 'webpack:dist'], 'revReplaceWebpack', cb);\n});\n\n_gulp2.default.task('clean:dist', function () {\n    return (0, _del2.default)([paths.dist + '/!(.git*|.openshift|Procfile)**'], { dot: true });\n});\n\n_gulp2.default.task('build:images', function () {\n    return _gulp2.default.src(paths.client.images).pipe(plugins.imagemin([plugins.imagemin.optipng({ optimizationLevel: 5 }), plugins.imagemin.jpegtran({ progressive: true }), plugins.imagemin.gifsicle({ interlaced: true }), plugins.imagemin.svgo({ plugins: [{ removeViewBox: false }] })])).pipe(plugins.rev()).pipe(_gulp2.default.dest(paths.dist + '/' + clientPath + '/assets/images')).pipe(plugins.rev.manifest(paths.dist + '/' + paths.client.revManifest, {\n        base: paths.dist + '/' + clientPath + '/assets',\n        merge: true\n    })).pipe(_gulp2.default.dest(paths.dist + '/' + clientPath + '/assets'));\n});\n\n_gulp2.default.task('revReplaceWebpack', function () {\n    return _gulp2.default.src('dist/client/app.*.js').pipe(plugins.revReplace({ manifest: _gulp2.default.src(paths.dist + '/' + paths.client.revManifest) })).pipe(_gulp2.default.dest('dist/client'));\n});\n\n_gulp2.default.task('copy:extras', function () {\n    return _gulp2.default.src([clientPath + '/favicon.ico', clientPath + '/robots.txt', clientPath + '/.htaccess'], { dot: true }).pipe(_gulp2.default.dest(paths.dist + '/' + clientPath));\n});\n\n/**\n * turns 'boostrap/fonts/font.woff' into 'boostrap/font.woff'\n */\nfunction flatten() {\n    return _through2.default.obj(function (file, enc, next) {\n        if (!file.isDirectory()) {\n            try {\n                var dir = _path2.default.dirname(file.relative).split(_path2.default.sep)[0];\n                var fileName = _path2.default.normalize(_path2.default.basename(file.path));\n                file.path = _path2.default.join(file.base, _path2.default.join(dir, fileName));\n                this.push(file);\n            } catch (e) {\n                this.emit('error', new Error(e));\n            }\n        }\n        next();\n    });\n}\n_gulp2.default.task('copy:fonts:dev', function () {\n    return _gulp2.default.src('node_modules/{bootstrap,font-awesome}/fonts/*').pipe(flatten()).pipe(_gulp2.default.dest(clientPath + '/assets/fonts'));\n});\n_gulp2.default.task('copy:fonts:dist', function () {\n    return _gulp2.default.src('node_modules/{bootstrap,font-awesome}/fonts/*').pipe(flatten()).pipe(_gulp2.default.dest(paths.dist + '/' + clientPath + '/assets/fonts'));\n});\n\n_gulp2.default.task('copy:assets', function () {\n    return _gulp2.default.src([paths.client.assets, '!' + paths.client.images]).pipe(_gulp2.default.dest(paths.dist + '/' + clientPath + '/assets'));\n});\n\n_gulp2.default.task('copy:server', function () {\n    return _gulp2.default.src(['package.json'], { cwdbase: true }).pipe(_gulp2.default.dest(paths.dist));\n});\n\n/********************\n * Grunt ported tasks\n ********************/\n\n_grunt2.default.initConfig({\n    buildcontrol: {\n        options: {\n            dir: paths.dist,\n            commit: true,\n            push: true,\n            connectCommits: false,\n            message: 'Built %sourceName% from commit %sourceCommit% on branch %sourceBranch%'\n        },\n        heroku: {\n            options: {\n                remote: 'heroku',\n                branch: 'master'\n            }\n        },\n        openshift: {\n            options: {\n                remote: 'openshift',\n                branch: 'master'\n            }\n        }\n    }\n});\n\n_grunt2.default.loadNpmTasks('grunt-build-control');\n\n_gulp2.default.task('buildcontrol:heroku', function (done) {\n    _grunt2.default.tasks(['buildcontrol:heroku'], //you can add more grunt tasks in this array\n    { gruntfile: false }, //don't look for a Gruntfile - there is none. :-)\n    function () {\n        done();\n    });\n});\n_gulp2.default.task('buildcontrol:openshift', function (done) {\n    _grunt2.default.tasks(['buildcontrol:openshift'], //you can add more grunt tasks in this array\n    { gruntfile: false }, //don't look for a Gruntfile - there is none. :-)\n    function () {\n        done();\n    });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1bHBmaWxlLmJhYmVsLmpzIl0sIm5hbWVzIjpbInBsdWdpbnMiLCJjb25maWciLCJjbGllbnRQYXRoIiwic2VydmVyUGF0aCIsInBhdGhzIiwiY2xpZW50IiwiYXNzZXRzIiwiaW1hZ2VzIiwicmV2TWFuaWZlc3QiLCJzY3JpcHRzIiwic3R5bGVzIiwibWFpblN0eWxlIiwidmlld3MiLCJtYWluVmlldyIsInRlc3QiLCJlMmUiLCJzZXJ2ZXIiLCJqc29uIiwiaW50ZWdyYXRpb24iLCJ1bml0Iiwia2FybWEiLCJkaXN0Iiwib25TZXJ2ZXJMb2ciLCJsb2ciLCJjb25zb2xlIiwidXRpbCIsImNvbG9ycyIsIndoaXRlIiwieWVsbG93IiwibWVzc2FnZSIsImNoZWNrQXBwUmVhZHkiLCJjYiIsIm9wdGlvbnMiLCJob3N0IiwicG9ydCIsImdldCIsIm9uIiwid2hlblNlcnZlclJlYWR5Iiwic2VydmVyUmVhZHkiLCJhcHBSZWFkeUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJyZWFkeSIsImNsZWFySW50ZXJ2YWwiLCJsaW50Q2xpZW50U2NyaXB0cyIsInBpcGUiLCJlc2xpbnQiLCJmb3JtYXQiLCJsaW50Q2xpZW50VGVzdFNjcmlwdHMiLCJjb25maWdGaWxlIiwiZW52cyIsImxpbnRTZXJ2ZXJTY3JpcHRzIiwibGludFNlcnZlclRlc3RTY3JpcHRzIiwidHJhbnNwaWxlU2VydmVyIiwic291cmNlbWFwcyIsImluaXQiLCJiYWJlbCIsIndyaXRlIiwibW9jaGEiLCJyZXBvcnRlciIsInRpbWVvdXQiLCJyZXF1aXJlIiwiaXN0YW5idWwiLCJ3cml0ZVJlcG9ydHMiLCJpc3RhbmJ1bEVuZm9yY2VyIiwidGhyZXNob2xkcyIsImdsb2JhbCIsImxpbmVzIiwic3RhdGVtZW50cyIsImJyYW5jaGVzIiwiZnVuY3Rpb25zIiwiY292ZXJhZ2VEaXJlY3RvcnkiLCJyb290RGlyZWN0b3J5IiwidGFzayIsImxvY2FsQ29uZmlnIiwiZSIsImVudiIsInZhcnMiLCJOT0RFX0VOViIsInNyYyIsImluamVjdCIsInVuaW9uIiwicmVhZCIsInNvcnQiLCJzdGFydHRhZyIsImVuZHRhZyIsInRyYW5zZm9ybSIsImZpbGVwYXRoIiwibmV3UGF0aCIsInJlcGxhY2UiLCJtYXRjaCIsInAxIiwib2Zmc2V0Iiwic3RyaW5nIiwiZGVzdCIsIndlYnBhY2tEZXZDb25maWciLCJERVYiLCJlbnRyeSIsImFwcCIsInBsdW1iZXIiLCJ3ZWJwYWNrRGlzdENvbmZpZyIsIkJVSUxEIiwiZXJyIiwiZW1pdCIsIndlYnBhY2tUZXN0Q29uZmlnIiwiVEVTVCIsIndlYnBhY2tFMmVDb25maWciLCJFMkUiLCJtYXAiLCJibG9iIiwianNjcyIsImRvdCIsImJyb3dzZXJTeW5jUG9ydCIsInByb2Nlc3MiLCJub2RlSW5zcGVjdG9yIiwiZGVidWdQb3J0IiwidGVzdEZpbGVzIiwid2F0Y2giLCJpbnN0cnVtZW50ZXIiLCJpbmNsdWRlVW50ZXN0ZWQiLCJob29rUmVxdWlyZSIsImV4aXQiLCJfX2Rpcm5hbWUiLCJzaW5nbGVSdW4iLCJkb25lIiwic3RhcnQiLCJpbWFnZW1pbiIsIm9wdGlwbmciLCJvcHRpbWl6YXRpb25MZXZlbCIsImpwZWd0cmFuIiwicHJvZ3Jlc3NpdmUiLCJnaWZzaWNsZSIsImludGVybGFjZWQiLCJzdmdvIiwicmVtb3ZlVmlld0JveCIsInJldiIsIm1hbmlmZXN0IiwiYmFzZSIsIm1lcmdlIiwicmV2UmVwbGFjZSIsImZsYXR0ZW4iLCJvYmoiLCJmaWxlIiwiZW5jIiwibmV4dCIsImlzRGlyZWN0b3J5IiwiZGlyIiwiZGlybmFtZSIsInJlbGF0aXZlIiwic3BsaXQiLCJzZXAiLCJmaWxlTmFtZSIsIm5vcm1hbGl6ZSIsImJhc2VuYW1lIiwicGF0aCIsImpvaW4iLCJwdXNoIiwiRXJyb3IiLCJjd2RiYXNlIiwiaW5pdENvbmZpZyIsImJ1aWxkY29udHJvbCIsImNvbW1pdCIsImNvbm5lY3RDb21taXRzIiwiaGVyb2t1IiwicmVtb3RlIiwiYnJhbmNoIiwib3BlbnNoaWZ0IiwibG9hZE5w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QUxEOztBQU9BOzs7O0FBSUEsZ0JBQU15SSxVQUFOLENBQWlCO0FBQ2JDLGtCQUFjO0FBQ1YvSCxpQkFBUztBQUNMaUgsaUJBQUs3SSxNQUFNaUIsSUFETjtBQUVMMkksb0JBQVEsSUFGSDtBQUdMTCxrQkFBTSxJQUhEO0FBSUxNLDRCQUFnQixLQUpYO0FBS0xwSSxxQkFBUztBQUxKLFNBREM7QUFRVnFJLGdCQUFRO0FBQ0psSSxxQkFBUztBQUNMbUksd0JBQVEsUUFESDtBQUVMQyx3QkFBUTtBQUZIO0FBREwsU0FSRTtBQWNWQyxtQkFBVztBQUNQckkscUJBQVM7QUFDTG1JLHdCQUFRLFdBREg7QUFFTEMsd0JBQVE7QUFGSDtBQURGO0FBZEQ7QUFERCxDQUFqQjs7QUF3QkEsZ0JBQU1FLFlBQU4sQ0FBbUIscUJBQW5COztBQUVBLGVBQUs5RixJQUFMLENBQVUscUJBQVYsRUFBaUMsVUFBU21ELElBQVQsRUFBZTtBQUM1QyxvQkFBTTRDLEtBQU4sQ0FDSSxDQUFDLHFCQUFELENBREosRUFDZ0M7QUFDNUIsTUFBQ0MsV0FBVyxLQUFaLEVBRkosRUFFd0I7QUFDcEIsZ0JBQVc7QUFBQzdDO0FBQVEsS0FIeEI7QUFLSCxDQU5EO0FBT0EsZUFBS25ELElBQUwsQ0FBVSx3QkFBVixFQUFvQyxVQUFTbUQsSUFBVCxFQUFlO0FBQy9DLG9CQUFNNEMsS0FBTixDQUNJLENBQUMsd0JBQUQsQ0FESixFQUNtQztBQUMvQixNQUFDQyxXQUFXLEtBQVosRUFGSixFQUV3QjtBQUNwQixnQkFBVztBQUFDN0M7QUFBUSxLQUh4QjtBQUtILENBTkQiLCJmaWxlIjoiZ3VscGZpbGUuYmFiZWwuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBvbiAyMDE2LTEwLTAyIHVzaW5nIGdlbmVyYXRvci1hbmd1bGFyLWZ1bGxzdGFjayA0LjEuMFxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGRlbCBmcm9tICdkZWwnO1xuaW1wb3J0IGd1bHAgZnJvbSAnZ3VscCc7XG5pbXBvcnQgZ3J1bnQgZnJvbSAnZ3J1bnQnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgdGhyb3VnaDIgZnJvbSAndGhyb3VnaDInO1xuaW1wb3J0IGd1bHBMb2FkUGx1Z2lucyBmcm9tICdndWxwLWxvYWQtcGx1Z2lucyc7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBvcGVuIGZyb20gJ29wZW4nO1xuaW1wb3J0IGxhenlwaXBlIGZyb20gJ2xhenlwaXBlJztcbmltcG9ydCBub2RlbW9uIGZyb20gJ25vZGVtb24nO1xuaW1wb3J0IHtTZXJ2ZXIgYXMgS2FybWFTZXJ2ZXJ9IGZyb20gJ2thcm1hJztcbmltcG9ydCBydW5TZXF1ZW5jZSBmcm9tICdydW4tc2VxdWVuY2UnO1xuaW1wb3J0IHtwcm90cmFjdG9yLCB3ZWJkcml2ZXJfdXBkYXRlfSBmcm9tICdndWxwLXByb3RyYWN0b3InO1xuaW1wb3J0IHtJbnN0cnVtZW50ZXJ9IGZyb20gJ2lzcGFydGEnO1xuaW1wb3J0IHdlYnBhY2sgZnJvbSAnd2VicGFjay1zdHJlYW0nO1xuaW1wb3J0IG1ha2VXZWJwYWNrQ29uZmlnIGZyb20gJy4vd2VicGFjay5tYWtlJztcblxudmFyIHBsdWdpbnMgPSBndWxwTG9hZFBsdWdpbnMoKTtcbnZhciBjb25maWc7XG5cbmNvbnN0IGNsaWVudFBhdGggPSAnY2xpZW50JztcbmNvbnN0IHNlcnZlclBhdGggPSAnc2VydmVyJztcbmNvbnN0IHBhdGhzID0ge1xuICAgIGNsaWVudDoge1xuICAgICAgICBhc3NldHM6IGAke2NsaWVudFBhdGh9L2Fzc2V0cy8qKi8qYCxcbiAgICAgICAgaW1hZ2VzOiBgJHtjbGllbnRQYXRofS9hc3NldHMvaW1hZ2VzLyoqLypgLFxuICAgICAgICByZXZNYW5pZmVzdDogYCR7Y2xpZW50UGF0aH0vYXNzZXRzL3Jldi1tYW5pZmVzdC5qc29uYCxcbiAgICAgICAgc2NyaXB0czogW1xuICAgICAgICAgICAgYCR7Y2xpZW50UGF0aH0vKiovISgqLnNwZWN8Ki5tb2NrKS5qc2BcbiAgICAgICAgXSxcbiAgICAgICAgc3R5bGVzOiBbYCR7Y2xpZW50UGF0aH0ve2FwcCxjb21wb25lbnRzfS8qKi8qLnN0eWxgXSxcbiAgICAgICAgbWFpblN0eWxlOiBgJHtjbGllbnRQYXRofS9hcHAvYXBwLnN0eWxgLFxuICAgICAgICB2aWV3czogYCR7Y2xpZW50UGF0aH0ve2FwcCxjb21wb25lbnRzfS8qKi8qLnB1Z2AsXG4gICAgICAgIG1haW5WaWV3OiBgJHtjbGllbnRQYXRofS9pbmRleC5odG1sYCxcbiAgICAgICAgdGVzdDogW2Ake2NsaWVudFBhdGh9L3thcHAsY29tcG9uZW50c30vKiovKi57c3BlYyxtb2NrfS5qc2BdLFxuICAgICAgICBlMmU6IFsnZTJlLyoqLyouc3BlYy5qcyddXG4gICAgfSxcbiAgICBzZXJ2ZXI6IHtcbiAgICAgICAgc2NyaXB0czogW1xuICAgICAgICAgIGAke3NlcnZlclBhdGh9LyoqLyEoKi5zcGVjfCouaW50ZWdyYXRpb24pLmpzYCxcbiAgICAgICAgICBgISR7c2VydmVyUGF0aH0vY29uZmlnL2xvY2FsLmVudi5zYW1wbGUuanNgXG4gICAgICAgIF0sXG4gICAgICAgIGpzb246IFtgJHtzZXJ2ZXJQYXRofS8qKi8qLmpzb25gXSxcbiAgICAgICAgdGVzdDoge1xuICAgICAgICAgIGludGVncmF0aW9uOiBbYCR7c2VydmVyUGF0aH0vKiovKi5pbnRlZ3JhdGlvbi5qc2AsICdtb2NoYS5nbG9iYWwuanMnXSxcbiAgICAgICAgICB1bml0OiBbYCR7c2VydmVyUGF0aH0vKiovKi5zcGVjLmpzYCwgJ21vY2hhLmdsb2JhbC5qcyddXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGthcm1hOiAna2FybWEuY29uZi5qcycsXG4gICAgZGlzdDogJ2Rpc3QnXG59O1xuXG4vKioqKioqKioqKioqKioqKioqKipcbiAqIEhlbHBlciBmdW5jdGlvbnNcbiAqKioqKioqKioqKioqKioqKioqKi9cblxuZnVuY3Rpb24gb25TZXJ2ZXJMb2cobG9nKSB7XG4gICAgY29uc29sZS5sb2cocGx1Z2lucy51dGlsLmNvbG9ycy53aGl0ZSgnWycpICtcbiAgICAgICAgcGx1Z2lucy51dGlsLmNvbG9ycy55ZWxsb3coJ25vZGVtb24nKSArXG4gICAgICAgIHBsdWdpbnMudXRpbC5jb2xvcnMud2hpdGUoJ10gJykgK1xuICAgICAgICBsb2cubWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQXBwUmVhZHkoY2IpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gICAgICAgIHBvcnQ6IGNvbmZpZy5wb3J0XG4gICAgfTtcbiAgICBodHRwXG4gICAgICAgIC5nZXQob3B0aW9ucywgKCkgPT4gY2IodHJ1ZSkpXG4gICAgICAgIC5vbignZXJyb3InLCAoKSA9PiBjYihmYWxzZSkpO1xufVxuXG4vLyBDYWxsIHBhZ2UgdW50aWwgZmlyc3Qgc3VjY2Vzc1xuZnVuY3Rpb24gd2hlblNlcnZlclJlYWR5KGNiKSB7XG4gICAgdmFyIHNlcnZlclJlYWR5ID0gZmFsc2U7XG4gICAgdmFyIGFwcFJlYWR5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICBjaGVja0FwcFJlYWR5KChyZWFkeSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZWFkeSB8fCBzZXJ2ZXJSZWFkeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYXBwUmVhZHlJbnRlcnZhbCk7XG4gICAgICAgICAgICBzZXJ2ZXJSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICBjYigpO1xuICAgICAgICB9KSxcbiAgICAgICAgMTAwKTtcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqXG4gKiBSZXVzYWJsZSBwaXBlbGluZXNcbiAqKioqKioqKioqKioqKioqKioqKi9cblxubGV0IGxpbnRDbGllbnRTY3JpcHRzID0gbGF6eXBpcGUoKVxuICAgIC5waXBlKHBsdWdpbnMuZXNsaW50LCBgJHtjbGllbnRQYXRofS8uZXNsaW50cmNgKVxuICAgIC5waXBlKHBsdWdpbnMuZXNsaW50LmZvcm1hdCk7XG5cbmNvbnN0IGxpbnRDbGllbnRUZXN0U2NyaXB0cyA9IGxhenlwaXBlKClcbiAgICAucGlwZShwbHVnaW5zLmVzbGludCwge1xuICAgICAgICBjb25maWdGaWxlOiBgJHtjbGllbnRQYXRofS8uZXNsaW50cmNgLFxuICAgICAgICBlbnZzOiBbXG4gICAgICAgICAgICAnYnJvd3NlcicsXG4gICAgICAgICAgICAnZXM2JyxcbiAgICAgICAgICAgICdtb2NoYSdcbiAgICAgICAgXVxuICAgIH0pXG4gICAgLnBpcGUocGx1Z2lucy5lc2xpbnQuZm9ybWF0KTtcblxubGV0IGxpbnRTZXJ2ZXJTY3JpcHRzID0gbGF6eXBpcGUoKVxuICAgIC5waXBlKHBsdWdpbnMuZXNsaW50LCBgJHtzZXJ2ZXJQYXRofS8uZXNsaW50cmNgKVxuICAgIC5waXBlKHBsdWdpbnMuZXNsaW50LmZvcm1hdCk7XG5cbmxldCBsaW50U2VydmVyVGVzdFNjcmlwdHMgPSBsYXp5cGlwZSgpXG4gICAgLnBpcGUocGx1Z2lucy5lc2xpbnQsIHtcbiAgICAgICAgY29uZmlnRmlsZTogYCR7c2VydmVyUGF0aH0vLmVzbGludHJjYCxcbiAgICAgICAgZW52czogW1xuICAgICAgICAgICAgJ25vZGUnLFxuICAgICAgICAgICAgJ2VzNicsXG4gICAgICAgICAgICAnbW9jaGEnXG4gICAgICAgIF1cbiAgICB9KVxuICAgIC5waXBlKHBsdWdpbnMuZXNsaW50LmZvcm1hdCk7XG5cbmxldCB0cmFuc3BpbGVTZXJ2ZXIgPSBsYXp5cGlwZSgpXG4gICAgLnBpcGUocGx1Z2lucy5zb3VyY2VtYXBzLmluaXQpXG4gICAgLnBpcGUocGx1Z2lucy5iYWJlbCwge1xuICAgICAgICBwbHVnaW5zOiBbXG4gICAgICAgICAgICAndHJhbnNmb3JtLWNsYXNzLXByb3BlcnRpZXMnLFxuICAgICAgICAgICAgJ3RyYW5zZm9ybS1ydW50aW1lJ1xuICAgICAgICBdXG4gICAgfSlcbiAgICAucGlwZShwbHVnaW5zLnNvdXJjZW1hcHMud3JpdGUsICcuJyk7XG5cbmxldCBtb2NoYSA9IGxhenlwaXBlKClcbiAgICAucGlwZShwbHVnaW5zLm1vY2hhLCB7XG4gICAgICAgIHJlcG9ydGVyOiAnc3BlYycsXG4gICAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgICAgIHJlcXVpcmU6IFtcbiAgICAgICAgICAgICcuL21vY2hhLmNvbmYnXG4gICAgICAgIF1cbiAgICB9KTtcblxubGV0IGlzdGFuYnVsID0gbGF6eXBpcGUoKVxuICAgIC5waXBlKHBsdWdpbnMuaXN0YW5idWwud3JpdGVSZXBvcnRzKVxuICAgIC5waXBlKHBsdWdpbnMuaXN0YW5idWxFbmZvcmNlciwge1xuICAgICAgICB0aHJlc2hvbGRzOiB7XG4gICAgICAgICAgICBnbG9iYWw6IHtcbiAgICAgICAgICAgICAgICBsaW5lczogODAsXG4gICAgICAgICAgICAgICAgc3RhdGVtZW50czogODAsXG4gICAgICAgICAgICAgICAgYnJhbmNoZXM6IDgwLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uczogODBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY292ZXJhZ2VEaXJlY3Rvcnk6ICcuL2NvdmVyYWdlJyxcbiAgICAgICAgcm9vdERpcmVjdG9yeSA6ICcnXG4gICAgfSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKlxuICogRW52XG4gKioqKioqKioqKioqKioqKioqKiovXG5cbmd1bHAudGFzaygnZW52OmFsbCcsICgpID0+IHtcbiAgICBsZXQgbG9jYWxDb25maWc7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9jYWxDb25maWcgPSByZXF1aXJlKGAuLyR7c2VydmVyUGF0aH0vY29uZmlnL2xvY2FsLmVudmApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9jYWxDb25maWcgPSB7fTtcbiAgICB9XG4gICAgcGx1Z2lucy5lbnYoe1xuICAgICAgICB2YXJzOiBsb2NhbENvbmZpZ1xuICAgIH0pO1xufSk7XG5ndWxwLnRhc2soJ2Vudjp0ZXN0JywgKCkgPT4ge1xuICAgIHBsdWdpbnMuZW52KHtcbiAgICAgICAgdmFyczoge05PREVfRU5WOiAndGVzdCd9XG4gICAgfSk7XG59KTtcbmd1bHAudGFzaygnZW52OnByb2QnLCAoKSA9PiB7XG4gICAgcGx1Z2lucy5lbnYoe1xuICAgICAgICB2YXJzOiB7Tk9ERV9FTlY6ICdwcm9kdWN0aW9uJ31cbiAgICB9KTtcbn0pO1xuXG4vKioqKioqKioqKioqKioqKioqKipcbiAqIFRhc2tzXG4gKioqKioqKioqKioqKioqKioqKiovXG5cbmd1bHAudGFzaygnaW5qZWN0JywgY2IgPT4ge1xuICAgIHJ1blNlcXVlbmNlKFsnaW5qZWN0OnN0eWwnXSwgY2IpO1xufSk7XG5cbmd1bHAudGFzaygnaW5qZWN0OnN0eWwnLCAoKSA9PiB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKHBhdGhzLmNsaWVudC5tYWluU3R5bGUpXG4gICAgICAgIC5waXBlKHBsdWdpbnMuaW5qZWN0KFxuICAgICAgICAgICAgZ3VscC5zcmMoXy51bmlvbihwYXRocy5jbGllbnQuc3R5bGVzLCBbJyEnICsgcGF0aHMuY2xpZW50Lm1haW5TdHlsZV0pLCB7cmVhZDogZmFsc2V9KVxuICAgICAgICAgICAgICAgIC5waXBlKHBsdWdpbnMuc29ydCgpKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGFydHRhZzogJy8qIGluamVjdDpzdHlsICovJyxcbiAgICAgICAgICAgICAgICBlbmR0YWc6ICcvKiBlbmRpbmplY3QgKi8nLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogKGZpbGVwYXRoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdQYXRoID0gZmlsZXBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKGAvJHtjbGllbnRQYXRofS9hcHAvYCwgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShgLyR7Y2xpZW50UGF0aH0vY29tcG9uZW50cy9gLCAnLi4vY29tcG9uZW50cy8nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL18oLiopLnN0eWwvLCAobWF0Y2gsIHAxLCBvZmZzZXQsIHN0cmluZykgPT4gcDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnLnN0eWwnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQGltcG9ydCAnJHtuZXdQYXRofSc7YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgLnBpcGUoZ3VscC5kZXN0KGAke2NsaWVudFBhdGh9L2FwcGApKTtcbn0pO1xuXG5ndWxwLnRhc2soJ3dlYnBhY2s6ZGV2JywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgd2VicGFja0RldkNvbmZpZyA9IG1ha2VXZWJwYWNrQ29uZmlnKHsgREVWOiB0cnVlIH0pO1xuICAgIHJldHVybiBndWxwLnNyYyh3ZWJwYWNrRGV2Q29uZmlnLmVudHJ5LmFwcClcbiAgICAgICAgLnBpcGUocGx1Z2lucy5wbHVtYmVyKCkpXG4gICAgICAgIC5waXBlKHdlYnBhY2sod2VicGFja0RldkNvbmZpZykpXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnLnRtcCcpKTtcbn0pO1xuXG5ndWxwLnRhc2soJ3dlYnBhY2s6ZGlzdCcsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHdlYnBhY2tEaXN0Q29uZmlnID0gbWFrZVdlYnBhY2tDb25maWcoeyBCVUlMRDogdHJ1ZSB9KTtcbiAgICByZXR1cm4gZ3VscC5zcmMod2VicGFja0Rpc3RDb25maWcuZW50cnkuYXBwKVxuICAgICAgICAucGlwZSh3ZWJwYWNrKHdlYnBhY2tEaXN0Q29uZmlnKSlcbiAgICAgICAgLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ2VuZCcpOyAvLyBSZWNvdmVyIGZyb20gZXJyb3JzXG4gICAgICAgIH0pXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdChgJHtwYXRocy5kaXN0fS9jbGllbnRgKSk7XG59KTtcblxuZ3VscC50YXNrKCd3ZWJwYWNrOnRlc3QnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB3ZWJwYWNrVGVzdENvbmZpZyA9IG1ha2VXZWJwYWNrQ29uZmlnKHsgVEVTVDogdHJ1ZSB9KTtcbiAgICByZXR1cm4gZ3VscC5zcmMod2VicGFja1Rlc3RDb25maWcuZW50cnkuYXBwKVxuICAgICAgICAucGlwZSh3ZWJwYWNrKHdlYnBhY2tUZXN0Q29uZmlnKSlcbiAgICAgICAgLnBpcGUoZ3VscC5kZXN0KCcudG1wJykpO1xufSk7XG5cbmd1bHAudGFzaygnd2VicGFjazplMmUnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB3ZWJwYWNrRTJlQ29uZmlnID0gbWFrZVdlYnBhY2tDb25maWcoeyBFMkU6IHRydWUgfSk7XG4gICAgcmV0dXJuIGd1bHAuc3JjKHdlYnBhY2tFMmVDb25maWcuZW50cnkuYXBwKVxuICAgICAgICAucGlwZSh3ZWJwYWNrKHdlYnBhY2tFMmVDb25maWcpKVxuICAgICAgICAucGlwZShndWxwLmRlc3QoJy50bXAnKSk7XG59KTtcblxuZ3VscC50YXNrKCdzdHlsZXMnLCAoKSA9PiB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKHBhdGhzLmNsaWVudC5tYWluU3R5bGUpXG4gICAgICAgIC5waXBlKHN0eWxlcygpKVxuICAgICAgICAucGlwZShndWxwLmRlc3QoJy50bXAvYXBwJykpO1xufSk7XG5cbmd1bHAudGFzaygndHJhbnNwaWxlOnNlcnZlcicsICgpID0+IHtcbiAgICByZXR1cm4gZ3VscC5zcmMoXy51bmlvbihwYXRocy5zZXJ2ZXIuc2NyaXB0cywgcGF0aHMuc2VydmVyLmpzb24pKVxuICAgICAgICAucGlwZSh0cmFuc3BpbGVTZXJ2ZXIoKSlcbiAgICAgICAgLnBpcGUoZ3VscC5kZXN0KGAke3BhdGhzLmRpc3R9LyR7c2VydmVyUGF0aH1gKSk7XG59KTtcblxuZ3VscC50YXNrKCdsaW50OnNjcmlwdHMnLCBjYiA9PiBydW5TZXF1ZW5jZShbJ2xpbnQ6c2NyaXB0czpjbGllbnQnLCAnbGludDpzY3JpcHRzOnNlcnZlciddLCBjYikpO1xuXG5ndWxwLnRhc2soJ2xpbnQ6c2NyaXB0czpjbGllbnQnLCAoKSA9PiB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKF8udW5pb24oXG4gICAgICAgIHBhdGhzLmNsaWVudC5zY3JpcHRzLFxuICAgICAgICBfLm1hcChwYXRocy5jbGllbnQudGVzdCwgYmxvYiA9PiAnIScgKyBibG9iKVxuICAgICkpXG4gICAgICAgIC5waXBlKGxpbnRDbGllbnRTY3JpcHRzKCkpO1xufSk7XG5cbmd1bHAudGFzaygnbGludDpzY3JpcHRzOnNlcnZlcicsICgpID0+IHtcbiAgICByZXR1cm4gZ3VscC5zcmMoXy51bmlvbihwYXRocy5zZXJ2ZXIuc2NyaXB0cywgXy5tYXAocGF0aHMuc2VydmVyLnRlc3QsIGJsb2IgPT4gJyEnICsgYmxvYikpKVxuICAgICAgICAucGlwZShsaW50U2VydmVyU2NyaXB0cygpKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2xpbnQ6c2NyaXB0czpjbGllbnRUZXN0JywgKCkgPT4ge1xuICAgIHJldHVybiBndWxwLnNyYyhwYXRocy5jbGllbnQudGVzdClcbiAgICAgICAgLnBpcGUobGludENsaWVudFNjcmlwdHMoKSk7XG59KTtcblxuZ3VscC50YXNrKCdsaW50OnNjcmlwdHM6c2VydmVyVGVzdCcsICgpID0+IHtcbiAgICByZXR1cm4gZ3VscC5zcmMocGF0aHMuc2VydmVyLnRlc3QpXG4gICAgICAgIC5waXBlKGxpbnRTZXJ2ZXJUZXN0U2NyaXB0cygpKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2pzY3MnLCAoKSA9PiB7XG4gIHJldHVybiBndWxwLnNyYyhfLnVuaW9uKHBhdGhzLmNsaWVudC5zY3JpcHRzLCBwYXRocy5zZXJ2ZXIuc2NyaXB0cykpXG4gICAgICAucGlwZShwbHVnaW5zLmpzY3MoKSlcbiAgICAgIC5waXBlKHBsdWdpbnMuanNjcy5yZXBvcnRlcigpKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2NsZWFuOnRtcCcsICgpID0+IGRlbChbJy50bXAvKiovKiddLCB7ZG90OiB0cnVlfSkpO1xuXG5ndWxwLnRhc2soJ3N0YXJ0OmNsaWVudCcsIGNiID0+IHtcbiAgICB3aGVuU2VydmVyUmVhZHkoKCkgPT4ge1xuICAgICAgICBvcGVuKCdodHRwOi8vbG9jYWxob3N0OicgKyBjb25maWcuYnJvd3NlclN5bmNQb3J0KTtcbiAgICAgICAgY2IoKTtcbiAgICB9KTtcbn0pO1xuXG5ndWxwLnRhc2soJ3N0YXJ0OnNlcnZlcicsICgpID0+IHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCc7XG4gICAgY29uZmlnID0gcmVxdWlyZShgLi8ke3NlcnZlclBhdGh9L2NvbmZpZy9lbnZpcm9ubWVudGApO1xuICAgIG5vZGVtb24oYC13ICR7c2VydmVyUGF0aH0gJHtzZXJ2ZXJQYXRofWApXG4gICAgICAgIC5vbignbG9nJywgb25TZXJ2ZXJMb2cpO1xufSk7XG5cbmd1bHAudGFzaygnc3RhcnQ6c2VydmVyOnByb2QnLCAoKSA9PiB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAncHJvZHVjdGlvbic7XG4gICAgY29uZmlnID0gcmVxdWlyZShgLi8ke3BhdGhzLmRpc3R9LyR7c2VydmVyUGF0aH0vY29uZmlnL2Vudmlyb25tZW50YCk7XG4gICAgbm9kZW1vbihgLXcgJHtwYXRocy5kaXN0fS8ke3NlcnZlclBhdGh9ICR7cGF0aHMuZGlzdH0vJHtzZXJ2ZXJQYXRofWApXG4gICAgICAgIC5vbignbG9nJywgb25TZXJ2ZXJMb2cpO1xufSk7XG5cbmd1bHAudGFzaygnc3RhcnQ6aW5zcGVjdG9yJywgKCkgPT4ge1xuICAgIGd1bHAuc3JjKFtdKVxuICAgICAgICAucGlwZShwbHVnaW5zLm5vZGVJbnNwZWN0b3Ioe1xuICAgICAgICAgIGRlYnVnUG9ydDogNTg1OFxuICAgICAgICB9KSk7XG59KTtcblxuZ3VscC50YXNrKCdzdGFydDpzZXJ2ZXI6ZGVidWcnLCAoKSA9PiB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xuICAgIGNvbmZpZyA9IHJlcXVpcmUoYC4vJHtzZXJ2ZXJQYXRofS9jb25maWcvZW52aXJvbm1lbnRgKTtcbiAgICBub2RlbW9uKGAtdyAke3NlcnZlclBhdGh9IC0tZGVidWc9NTg1OCAtLWRlYnVnLWJyayAke3NlcnZlclBhdGh9YClcbiAgICAgICAgLm9uKCdsb2cnLCBvblNlcnZlckxvZyk7XG59KTtcblxuZ3VscC50YXNrKCd3YXRjaCcsICgpID0+IHtcbiAgICB2YXIgdGVzdEZpbGVzID0gXy51bmlvbihwYXRocy5jbGllbnQudGVzdCwgcGF0aHMuc2VydmVyLnRlc3QudW5pdCwgcGF0aHMuc2VydmVyLnRlc3QuaW50ZWdyYXRpb24pO1xuXG4gICAgcGx1Z2lucy53YXRjaChfLnVuaW9uKHBhdGhzLnNlcnZlci5zY3JpcHRzLCB0ZXN0RmlsZXMpKVxuICAgICAgICAucGlwZShwbHVnaW5zLnBsdW1iZXIoKSlcbiAgICAgICAgLnBpcGUobGludFNlcnZlclNjcmlwdHMoKSk7XG5cbiAgICBwbHVnaW5zLndhdGNoKF8udW5pb24ocGF0aHMuc2VydmVyLnRlc3QudW5pdCwgcGF0aHMuc2VydmVyLnRlc3QuaW50ZWdyYXRpb24pKVxuICAgICAgICAucGlwZShwbHVnaW5zLnBsdW1iZXIoKSlcbiAgICAgICAgLnBpcGUobGludFNlcnZlclRlc3RTY3JpcHRzKCkpO1xufSk7XG5cbmd1bHAudGFzaygnc2VydmUnLCBjYiA9PiB7XG4gICAgcnVuU2VxdWVuY2UoXG4gICAgICAgIFtcbiAgICAgICAgICAgICdjbGVhbjp0bXAnLFxuICAgICAgICAgICAgJ2xpbnQ6c2NyaXB0cycsXG4gICAgICAgICAgICAnaW5qZWN0JyxcbiAgICAgICAgICAgICdjb3B5OmZvbnRzOmRldicsXG4gICAgICAgICAgICAnZW52OmFsbCdcbiAgICAgICAgXSxcbiAgICAgICAgLy8gJ3dlYnBhY2s6ZGV2JyxcbiAgICAgICAgWydzdGFydDpzZXJ2ZXInLCAnc3RhcnQ6Y2xpZW50J10sXG4gICAgICAgICd3YXRjaCcsXG4gICAgICAgIGNiXG4gICAgKTtcbn0pO1xuXG5ndWxwLnRhc2soJ3NlcnZlOmRlYnVnJywgY2IgPT4ge1xuICAgIHJ1blNlcXVlbmNlKFxuICAgICAgICBbXG4gICAgICAgICAgICAnY2xlYW46dG1wJyxcbiAgICAgICAgICAgICdsaW50OnNjcmlwdHMnLFxuICAgICAgICAgICAgJ2luamVjdCcsXG4gICAgICAgICAgICAnY29weTpmb250czpkZXYnLFxuICAgICAgICAgICAgJ2VudjphbGwnXG4gICAgICAgIF0sXG4gICAgICAgICd3ZWJwYWNrOmRldicsXG4gICAgICAgICdzdGFydDppbnNwZWN0b3InLFxuICAgICAgICBbJ3N0YXJ0OnNlcnZlcjpkZWJ1ZycsICdzdGFydDpjbGllbnQnXSxcbiAgICAgICAgJ3dhdGNoJyxcbiAgICAgICAgY2JcbiAgICApO1xufSk7XG5cbmd1bHAudGFzaygnc2VydmU6ZGlzdCcsIGNiID0+IHtcbiAgICBydW5TZXF1ZW5jZShcbiAgICAgICAgJ2J1aWxkJyxcbiAgICAgICAgJ2VudjphbGwnLFxuICAgICAgICAnZW52OnByb2QnLFxuICAgICAgICBbJ3N0YXJ0OnNlcnZlcjpwcm9kJywgJ3N0YXJ0OmNsaWVudCddLFxuICAgICAgICBjYik7XG59KTtcblxuZ3VscC50YXNrKCd0ZXN0JywgY2IgPT4ge1xuICAgIHJldHVybiBydW5TZXF1ZW5jZSgndGVzdDpzZXJ2ZXInLCAndGVzdDpjbGllbnQnLCBjYik7XG59KTtcblxuZ3VscC50YXNrKCd0ZXN0OnNlcnZlcicsIGNiID0+IHtcbiAgICBydW5TZXF1ZW5jZShcbiAgICAgICAgJ2VudjphbGwnLFxuICAgICAgICAnZW52OnRlc3QnLFxuICAgICAgICAnbW9jaGE6dW5pdCcsXG4gICAgICAgICdtb2NoYTppbnRlZ3JhdGlvbicsXG4gICAgICAgIGNiKTtcbn0pO1xuXG5ndWxwLnRhc2soJ21vY2hhOnVuaXQnLCAoKSA9PiB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKHBhdGhzLnNlcnZlci50ZXN0LnVuaXQpXG4gICAgICAgIC5waXBlKG1vY2hhKCkpO1xufSk7XG5cbmd1bHAudGFzaygnbW9jaGE6aW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKHBhdGhzLnNlcnZlci50ZXN0LmludGVncmF0aW9uKVxuICAgICAgICAucGlwZShtb2NoYSgpKTtcbn0pO1xuXG5ndWxwLnRhc2soJ3Rlc3Q6c2VydmVyOmNvdmVyYWdlJywgY2IgPT4ge1xuICBydW5TZXF1ZW5jZSgnY292ZXJhZ2U6cHJlJyxcbiAgICAgICAgICAgICAgJ2VudjphbGwnLFxuICAgICAgICAgICAgICAnZW52OnRlc3QnLFxuICAgICAgICAgICAgICAnY292ZXJhZ2U6dW5pdCcsXG4gICAgICAgICAgICAgICdjb3ZlcmFnZTppbnRlZ3JhdGlvbicsXG4gICAgICAgICAgICAgIGNiKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2NvdmVyYWdlOnByZScsICgpID0+IHtcbiAgcmV0dXJuIGd1bHAuc3JjKHBhdGhzLnNlcnZlci5zY3JpcHRzKVxuICAgIC8vIENvdmVyaW5nIGZpbGVzXG4gICAgLnBpcGUocGx1Z2lucy5pc3RhbmJ1bCh7XG4gICAgICAgIGluc3RydW1lbnRlcjogSW5zdHJ1bWVudGVyLCAvLyBVc2UgdGhlIGlzcGFydGEgaW5zdHJ1bWVudGVyIChjb2RlIGNvdmVyYWdlIGZvciBFUzYpXG4gICAgICAgIGluY2x1ZGVVbnRlc3RlZDogdHJ1ZVxuICAgIH0pKVxuICAgIC8vIEZvcmNlIGByZXF1aXJlYCB0byByZXR1cm4gY292ZXJlZCBmaWxlc1xuICAgIC5waXBlKHBsdWdpbnMuaXN0YW5idWwuaG9va1JlcXVpcmUoKSk7XG59KTtcblxuZ3VscC50YXNrKCdjb3ZlcmFnZTp1bml0JywgKCkgPT4ge1xuICAgIHJldHVybiBndWxwLnNyYyhwYXRocy5zZXJ2ZXIudGVzdC51bml0KVxuICAgICAgICAucGlwZShtb2NoYSgpKVxuICAgICAgICAucGlwZShpc3RhbmJ1bCgpKVxuICAgICAgICAvLyBDcmVhdGluZyB0aGUgcmVwb3J0cyBhZnRlciB0ZXN0cyByYW5cbn0pO1xuXG5ndWxwLnRhc2soJ2NvdmVyYWdlOmludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIHJldHVybiBndWxwLnNyYyhwYXRocy5zZXJ2ZXIudGVzdC5pbnRlZ3JhdGlvbilcbiAgICAgICAgLnBpcGUobW9jaGEoKSlcbiAgICAgICAgLnBpcGUoaXN0YW5idWwoKSlcbiAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHJlcG9ydHMgYWZ0ZXIgdGVzdHMgcmFuXG59KTtcblxuLy8gRG93bmxvYWRzIHRoZSBzZWxlbml1bSB3ZWJkcml2ZXJcbmd1bHAudGFzaygnd2ViZHJpdmVyX3VwZGF0ZScsIHdlYmRyaXZlcl91cGRhdGUpO1xuXG5ndWxwLnRhc2soJ3Rlc3Q6ZTJlJywgWyd3ZWJwYWNrOmUyZScsICdlbnY6YWxsJywgJ2Vudjp0ZXN0JywgJ3N0YXJ0OnNlcnZlcicsICd3ZWJkcml2ZXJfdXBkYXRlJ10sIGNiID0+IHtcbiAgICBndWxwLnNyYyhwYXRocy5jbGllbnQuZTJlKVxuICAgICAgICAucGlwZShwcm90cmFjdG9yKHtcbiAgICAgICAgICAgIGNvbmZpZ0ZpbGU6ICdwcm90cmFjdG9yLmNvbmYuanMnLFxuICAgICAgICB9KSlcbiAgICAgICAgLm9uKCdlcnJvcicsIGUgPT4geyB0aHJvdyBlIH0pXG4gICAgICAgIC5vbignZW5kJywgKCkgPT4geyBwcm9jZXNzLmV4aXQoKSB9KTtcbn0pO1xuXG5ndWxwLnRhc2soJ3Rlc3Q6Y2xpZW50JywgZG9uZSA9PiB7XG4gICAgbmV3IEthcm1hU2VydmVyKHtcbiAgICAgIGNvbmZpZ0ZpbGU6IGAke19fZGlybmFtZX0vJHtwYXRocy5rYXJtYX1gLFxuICAgICAgc2luZ2xlUnVuOiB0cnVlXG4gICAgfSwgZXJyID0+IHtcbiAgICAgICAgZG9uZShlcnIpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoZXJyKTtcbiAgICB9KS5zdGFydCgpO1xufSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKlxuICogQnVpbGRcbiAqKioqKioqKioqKioqKioqKioqKi9cblxuZ3VscC50YXNrKCdidWlsZCcsIGNiID0+IHtcbiAgICBydW5TZXF1ZW5jZShcbiAgICAgICAgW1xuICAgICAgICAgICAgJ2NsZWFuOmRpc3QnLFxuICAgICAgICAgICAgJ2NsZWFuOnRtcCdcbiAgICAgICAgXSxcbiAgICAgICAgJ2luamVjdCcsXG4gICAgICAgICd0cmFuc3BpbGU6c2VydmVyJyxcbiAgICAgICAgW1xuICAgICAgICAgICAgJ2J1aWxkOmltYWdlcydcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgICAgJ2NvcHk6ZXh0cmFzJyxcbiAgICAgICAgICAgICdjb3B5OmFzc2V0cycsXG4gICAgICAgICAgICAnY29weTpmb250czpkaXN0JyxcbiAgICAgICAgICAgICdjb3B5OnNlcnZlcicsXG4gICAgICAgICAgICAnd2VicGFjazpkaXN0J1xuICAgICAgICBdLFxuICAgICAgICAncmV2UmVwbGFjZVdlYnBhY2snLFxuICAgICAgICBjYik7XG59KTtcblxuZ3VscC50YXNrKCdjbGVhbjpkaXN0JywgKCkgPT4gZGVsKFtgJHtwYXRocy5kaXN0fS8hKC5naXQqfC5vcGVuc2hpZnR8UHJvY2ZpbGUpKipgXSwge2RvdDogdHJ1ZX0pKTtcblxuZ3VscC50YXNrKCdidWlsZDppbWFnZXMnLCAoKSA9PiB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKHBhdGhzLmNsaWVudC5pbWFnZXMpXG4gICAgICAgIC5waXBlKHBsdWdpbnMuaW1hZ2VtaW4oW1xuICAgICAgICAgICAgcGx1Z2lucy5pbWFnZW1pbi5vcHRpcG5nKHtvcHRpbWl6YXRpb25MZXZlbDogNX0pLFxuICAgICAgICAgICAgcGx1Z2lucy5pbWFnZW1pbi5qcGVndHJhbih7cHJvZ3Jlc3NpdmU6IHRydWV9KSxcbiAgICAgICAgICAgIHBsdWdpbnMuaW1hZ2VtaW4uZ2lmc2ljbGUoe2ludGVybGFjZWQ6IHRydWV9KSxcbiAgICAgICAgICAgIHBsdWdpbnMuaW1hZ2VtaW4uc3Znbyh7cGx1Z2luczogW3tyZW1vdmVWaWV3Qm94OiBmYWxzZX1dfSlcbiAgICAgICAgXSkpXG4gICAgICAgIC5waXBlKHBsdWdpbnMucmV2KCkpXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdChgJHtwYXRocy5kaXN0fS8ke2NsaWVudFBhdGh9L2Fzc2V0cy9pbWFnZXNgKSlcbiAgICAgICAgLnBpcGUocGx1Z2lucy5yZXYubWFuaWZlc3QoYCR7cGF0aHMuZGlzdH0vJHtwYXRocy5jbGllbnQucmV2TWFuaWZlc3R9YCwge1xuICAgICAgICAgICAgYmFzZTogYCR7cGF0aHMuZGlzdH0vJHtjbGllbnRQYXRofS9hc3NldHNgLFxuICAgICAgICAgICAgbWVyZ2U6IHRydWVcbiAgICAgICAgfSkpXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdChgJHtwYXRocy5kaXN0fS8ke2NsaWVudFBhdGh9L2Fzc2V0c2ApKTtcbn0pO1xuXG5ndWxwLnRhc2soJ3JldlJlcGxhY2VXZWJwYWNrJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKCdkaXN0L2NsaWVudC9hcHAuKi5qcycpXG4gICAgICAgIC5waXBlKHBsdWdpbnMucmV2UmVwbGFjZSh7bWFuaWZlc3Q6IGd1bHAuc3JjKGAke3BhdGhzLmRpc3R9LyR7cGF0aHMuY2xpZW50LnJldk1hbmlmZXN0fWApfSkpXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdCgnZGlzdC9jbGllbnQnKSk7XG59KTtcblxuZ3VscC50YXNrKCdjb3B5OmV4dHJhcycsICgpID0+IHtcbiAgICByZXR1cm4gZ3VscC5zcmMoW1xuICAgICAgICBgJHtjbGllbnRQYXRofS9mYXZpY29uLmljb2AsXG4gICAgICAgIGAke2NsaWVudFBhdGh9L3JvYm90cy50eHRgLFxuICAgICAgICBgJHtjbGllbnRQYXRofS8uaHRhY2Nlc3NgXG4gICAgXSwgeyBkb3Q6IHRydWUgfSlcbiAgICAgICAgLnBpcGUoZ3VscC5kZXN0KGAke3BhdGhzLmRpc3R9LyR7Y2xpZW50UGF0aH1gKSk7XG59KTtcblxuLyoqXG4gKiB0dXJucyAnYm9vc3RyYXAvZm9udHMvZm9udC53b2ZmJyBpbnRvICdib29zdHJhcC9mb250LndvZmYnXG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW4oKSB7XG4gICAgcmV0dXJuIHRocm91Z2gyLm9iaihmdW5jdGlvbihmaWxlLCBlbmMsIG5leHQpIHtcbiAgICAgICAgaWYoIWZpbGUuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgZGlyID0gcGF0aC5kaXJuYW1lKGZpbGUucmVsYXRpdmUpLnNwbGl0KHBhdGguc2VwKVswXTtcbiAgICAgICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSBwYXRoLm5vcm1hbGl6ZShwYXRoLmJhc2VuYW1lKGZpbGUucGF0aCkpO1xuICAgICAgICAgICAgICAgIGZpbGUucGF0aCA9IHBhdGguam9pbihmaWxlLmJhc2UsIHBhdGguam9pbihkaXIsIGZpbGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKGZpbGUpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcihlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH0pO1xufVxuZ3VscC50YXNrKCdjb3B5OmZvbnRzOmRldicsICgpID0+IHtcbiAgICByZXR1cm4gZ3VscC5zcmMoJ25vZGVfbW9kdWxlcy97Ym9vdHN0cmFwLGZvbnQtYXdlc29tZX0vZm9udHMvKicpXG4gICAgICAgIC5waXBlKGZsYXR0ZW4oKSlcbiAgICAgICAgLnBpcGUoZ3VscC5kZXN0KGAke2NsaWVudFBhdGh9L2Fzc2V0cy9mb250c2ApKTtcbn0pO1xuZ3VscC50YXNrKCdjb3B5OmZvbnRzOmRpc3QnLCAoKSA9PiB7XG4gICAgcmV0dXJuIGd1bHAuc3JjKCdub2RlX21vZHVsZXMve2Jvb3RzdHJhcCxmb250LWF3ZXNvbWV9L2ZvbnRzLyonKVxuICAgICAgICAucGlwZShmbGF0dGVuKCkpXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdChgJHtwYXRocy5kaXN0fS8ke2NsaWVudFBhdGh9L2Fzc2V0cy9mb250c2ApKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2NvcHk6YXNzZXRzJywgKCkgPT4ge1xuICAgIHJldHVybiBndWxwLnNyYyhbcGF0aHMuY2xpZW50LmFzc2V0cywgJyEnICsgcGF0aHMuY2xpZW50LmltYWdlc10pXG4gICAgICAgIC5waXBlKGd1bHAuZGVzdChgJHtwYXRocy5kaXN0fS8ke2NsaWVudFBhdGh9L2Fzc2V0c2ApKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2NvcHk6c2VydmVyJywgKCkgPT4ge1xuICAgIHJldHVybiBndWxwLnNyYyhbXG4gICAgICAgICdwYWNrYWdlLmpzb24nXG4gICAgXSwge2N3ZGJhc2U6IHRydWV9KVxuICAgICAgICAucGlwZShndWxwLmRlc3QocGF0aHMuZGlzdCkpO1xufSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKlxuICogR3J1bnQgcG9ydGVkIHRhc2tzXG4gKioqKioqKioqKioqKioqKioqKiovXG5cbmdydW50LmluaXRDb25maWcoe1xuICAgIGJ1aWxkY29udHJvbDoge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBkaXI6IHBhdGhzLmRpc3QsXG4gICAgICAgICAgICBjb21taXQ6IHRydWUsXG4gICAgICAgICAgICBwdXNoOiB0cnVlLFxuICAgICAgICAgICAgY29ubmVjdENvbW1pdHM6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0J1aWx0ICVzb3VyY2VOYW1lJSBmcm9tIGNvbW1pdCAlc291cmNlQ29tbWl0JSBvbiBicmFuY2ggJXNvdXJjZUJyYW5jaCUnXG4gICAgICAgIH0sXG4gICAgICAgIGhlcm9rdToge1xuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHJlbW90ZTogJ2hlcm9rdScsXG4gICAgICAgICAgICAgICAgYnJhbmNoOiAnbWFzdGVyJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuc2hpZnQ6IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICByZW1vdGU6ICdvcGVuc2hpZnQnLFxuICAgICAgICAgICAgICAgIGJyYW5jaDogJ21hc3RlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5ncnVudC5sb2FkTnBtVGFza3MoJ2dydW50LWJ1aWxkLWNvbnRyb2wnKTtcblxuZ3VscC50YXNrKCdidWlsZGNvbnRyb2w6aGVyb2t1JywgZnVuY3Rpb24oZG9uZSkge1xuICAgIGdydW50LnRhc2tzKFxuICAgICAgICBbJ2J1aWxkY29udHJvbDpoZXJva3UnXSwgICAgLy95b3UgY2FuIGFkZCBtb3JlIGdydW50IHRhc2tzIGluIHRoaXMgYXJyYXlcbiAgICAgICAge2dydW50ZmlsZTogZmFsc2V9LCAvL2Rvbid0IGxvb2sgZm9yIGEgR3J1bnRmaWxlIC0gdGhlcmUgaXMgbm9uZS4gOi0pXG4gICAgICAgIGZ1bmN0aW9uKCkge2RvbmUoKTt9XG4gICAgKTtcbn0pO1xuZ3VscC50YXNrKCdidWlsZGNvbnRyb2w6b3BlbnNoaWZ0JywgZnVuY3Rpb24oZG9uZSkge1xuICAgIGdydW50LnRhc2tzKFxuICAgICAgICBbJ2J1aWxkY29udHJvbDpvcGVuc2hpZnQnXSwgICAgLy95b3UgY2FuIGFkZCBtb3JlIGdydW50IHRhc2tzIGluIHRoaXMgYXJyYXlcbiAgICAgICAge2dydW50ZmlsZTogZmFsc2V9LCAvL2Rvbid0IGxvb2sgZm9yIGEgR3J1bnRmaWxlIC0gdGhlcmUgaXMgbm9uZS4gOi0pXG4gICAgICAgIGZ1bmN0aW9uKCkge2RvbmUoKTt9XG4gICAgKTtcbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "gulpfile.babel.js"
      ],
      "names": [
        "plugins",
        "config",
        "clientPath",
        "serverPath",
        "paths",
        "client",
        "assets",
        "images",
        "revManifest",
        "scripts",
        "styles",
        "mainStyle",
        "views",
        "mainView",
        "test",
        "e2e",
        "server",
        "json",
        "integration",
        "unit",
        "karma",
        "dist",
        "onServerLog",
        "log",
        "console",
        "util",
        "colors",
        "white",
        "yellow",
        "message",
        "checkAppReady",
        "cb",
        "options",
        "host",
        "port",
        "get",
        "on",
        "whenServerReady",
        "serverReady",
        "appReadyInterval",
        "setInterval",
        "ready",
        "clearInterval",
        "lintClientScripts",
        "pipe",
        "eslint",
        "format",
        "lintClientTestScripts",
        "configFile",
        "envs",
        "lintServerScripts",
        "lintServerTestScripts",
        "transpileServer",
        "sourcemaps",
        "init",
        "babel",
        "write",
        "mocha",
        "reporter",
        "timeout",
        "require",
        "istanbul",
        "writeReports",
        "istanbulEnforcer",
        "thresholds",
        "global",
        "lines",
        "statements",
        "branches",
        "functions",
        "coverageDirectory",
        "rootDirectory",
        "task",
        "localConfig",
        "e",
        "env",
        "vars",
        "NODE_ENV",
        "src",
        "inject",
        "union",
        "read",
        "sort",
        "starttag",
        "endtag",
        "transform",
        "filepath",
        "newPath",
        "replace",
        "match",
        "p1",
        "offset",
        "string",
        "dest",
        "webpackDevConfig",
        "DEV",
        "entry",
        "app",
        "plumber",
        "webpackDistConfig",
        "BUILD",
        "err",
        "emit",
        "webpackTestConfig",
        "TEST",
        "webpackE2eConfig",
        "E2E",
        "map",
        "blob",
        "jscs",
        "dot",
        "browserSyncPort",
        "process",
        "nodeInspector",
        "debugPort",
        "testFiles",
        "watch",
        "instrumenter",
        "includeUntested",
        "hookRequire",
        "exit",
        "__dirname",
        "singleRun",
        "done",
        "start",
        "imagemin",
        "optipng",
        "optimizationLevel",
        "jpegtran",
        "progressive",
        "gifsicle",
        "interlaced",
        "svgo",
        "removeViewBox",
        "rev",
        "manifest",
        "base",
        "merge",
        "revReplace",
        "flatten",
        "obj",
        "file",
        "enc",
        "next",
        "isDirectory",
        "dir",
        "dirname",
        "relative",
        "split",
        "sep",
        "fileName",
        "normalize",
        "basename",
        "path",
        "join",
        "push",
        "Error",
        "cwdbase",
        "initConfig",
        "buildcontrol",
        "commit",
        "connectCommits",
        "heroku",
        "remote",
        "branch",
        "openshift",
        "loadNpmTasks",
        "tasks",
        "gruntfile"
      ],
      "mappings": "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",
      "file": "gulpfile.babel.js",
      "sourceRoot": "/home/nitrous",
      "sourcesContent": [
        "// Generated on 2016-10-02 using generator-angular-fullstack 4.1.0\n'use strict';\n\nimport _ from 'lodash';\nimport del from 'del';\nimport gulp from 'gulp';\nimport grunt from 'grunt';\nimport path from 'path';\nimport through2 from 'through2';\nimport gulpLoadPlugins from 'gulp-load-plugins';\nimport http from 'http';\nimport open from 'open';\nimport lazypipe from 'lazypipe';\nimport nodemon from 'nodemon';\nimport {Server as KarmaServer} from 'karma';\nimport runSequence from 'run-sequence';\nimport {protractor, webdriver_update} from 'gulp-protractor';\nimport {Instrumenter} from 'isparta';\nimport webpack from 'webpack-stream';\nimport makeWebpackConfig from './webpack.make';\n\nvar plugins = gulpLoadPlugins();\nvar config;\n\nconst clientPath = 'client';\nconst serverPath = 'server';\nconst paths = {\n    client: {\n        assets: `${clientPath}/assets/**/*`,\n        images: `${clientPath}/assets/images/**/*`,\n        revManifest: `${clientPath}/assets/rev-manifest.json`,\n        scripts: [\n            `${clientPath}/**/!(*.spec|*.mock).js`\n        ],\n        styles: [`${clientPath}/{app,components}/**/*.styl`],\n        mainStyle: `${clientPath}/app/app.styl`,\n        views: `${clientPath}/{app,components}/**/*.pug`,\n        mainView: `${clientPath}/index.html`,\n        test: [`${clientPath}/{app,components}/**/*.{spec,mock}.js`],\n        e2e: ['e2e/**/*.spec.js']\n    },\n    server: {\n        scripts: [\n          `${serverPath}/**/!(*.spec|*.integration).js`,\n          `!${serverPath}/config/local.env.sample.js`\n        ],\n        json: [`${serverPath}/**/*.json`],\n        test: {\n          integration: [`${serverPath}/**/*.integration.js`, 'mocha.global.js'],\n          unit: [`${serverPath}/**/*.spec.js`, 'mocha.global.js']\n        }\n    },\n    karma: 'karma.conf.js',\n    dist: 'dist'\n};\n\n/********************\n * Helper functions\n ********************/\n\nfunction onServerLog(log) {\n    console.log(plugins.util.colors.white('[') +\n        plugins.util.colors.yellow('nodemon') +\n        plugins.util.colors.white('] ') +\n        log.message);\n}\n\nfunction checkAppReady(cb) {\n    var options = {\n        host: 'localhost',\n        port: config.port\n    };\n    http\n        .get(options, () => cb(true))\n        .on('error', () => cb(false));\n}\n\n// Call page until first success\nfunction whenServerReady(cb) {\n    var serverReady = false;\n    var appReadyInterval = setInterval(() =>\n        checkAppReady((ready) => {\n            if (!ready || serverReady) {\n                return;\n            }\n            clearInterval(appReadyInterval);\n            serverReady = true;\n            cb();\n        }),\n        100);\n}\n\n/********************\n * Reusable pipelines\n ********************/\n\nlet lintClientScripts = lazypipe()\n    .pipe(plugins.eslint, `${clientPath}/.eslintrc`)\n    .pipe(plugins.eslint.format);\n\nconst lintClientTestScripts = lazypipe()\n    .pipe(plugins.eslint, {\n        configFile: `${clientPath}/.eslintrc`,\n        envs: [\n            'browser',\n            'es6',\n            'mocha'\n        ]\n    })\n    .pipe(plugins.eslint.format);\n\nlet lintServerScripts = lazypipe()\n    .pipe(plugins.eslint, `${serverPath}/.eslintrc`)\n    .pipe(plugins.eslint.format);\n\nlet lintServerTestScripts = lazypipe()\n    .pipe(plugins.eslint, {\n        configFile: `${serverPath}/.eslintrc`,\n        envs: [\n            'node',\n            'es6',\n            'mocha'\n        ]\n    })\n    .pipe(plugins.eslint.format);\n\nlet transpileServer = lazypipe()\n    .pipe(plugins.sourcemaps.init)\n    .pipe(plugins.babel, {\n        plugins: [\n            'transform-class-properties',\n            'transform-runtime'\n        ]\n    })\n    .pipe(plugins.sourcemaps.write, '.');\n\nlet mocha = lazypipe()\n    .pipe(plugins.mocha, {\n        reporter: 'spec',\n        timeout: 5000,\n        require: [\n            './mocha.conf'\n        ]\n    });\n\nlet istanbul = lazypipe()\n    .pipe(plugins.istanbul.writeReports)\n    .pipe(plugins.istanbulEnforcer, {\n        thresholds: {\n            global: {\n                lines: 80,\n                statements: 80,\n                branches: 80,\n                functions: 80\n            }\n        },\n        coverageDirectory: './coverage',\n        rootDirectory : ''\n    });\n\n/********************\n * Env\n ********************/\n\ngulp.task('env:all', () => {\n    let localConfig;\n    try {\n        localConfig = require(`./${serverPath}/config/local.env`);\n    } catch (e) {\n        localConfig = {};\n    }\n    plugins.env({\n        vars: localConfig\n    });\n});\ngulp.task('env:test', () => {\n    plugins.env({\n        vars: {NODE_ENV: 'test'}\n    });\n});\ngulp.task('env:prod', () => {\n    plugins.env({\n        vars: {NODE_ENV: 'production'}\n    });\n});\n\n/********************\n * Tasks\n ********************/\n\ngulp.task('inject', cb => {\n    runSequence(['inject:styl'], cb);\n});\n\ngulp.task('inject:styl', () => {\n    return gulp.src(paths.client.mainStyle)\n        .pipe(plugins.inject(\n            gulp.src(_.union(paths.client.styles, ['!' + paths.client.mainStyle]), {read: false})\n                .pipe(plugins.sort()),\n            {\n                starttag: '/* inject:styl */',\n                endtag: '/* endinject */',\n                transform: (filepath) => {\n                    let newPath = filepath\n                        .replace(`/${clientPath}/app/`, '')\n                        .replace(`/${clientPath}/components/`, '../components/')\n                        .replace(/_(.*).styl/, (match, p1, offset, string) => p1)\n                        .replace('.styl', '');\n                    return `@import '${newPath}';`;\n                }\n            }))\n        .pipe(gulp.dest(`${clientPath}/app`));\n});\n\ngulp.task('webpack:dev', function() {\n    const webpackDevConfig = makeWebpackConfig({ DEV: true });\n    return gulp.src(webpackDevConfig.entry.app)\n        .pipe(plugins.plumber())\n        .pipe(webpack(webpackDevConfig))\n        .pipe(gulp.dest('.tmp'));\n});\n\ngulp.task('webpack:dist', function() {\n    const webpackDistConfig = makeWebpackConfig({ BUILD: true });\n    return gulp.src(webpackDistConfig.entry.app)\n        .pipe(webpack(webpackDistConfig))\n        .on('error', (err) => {\n          this.emit('end'); // Recover from errors\n        })\n        .pipe(gulp.dest(`${paths.dist}/client`));\n});\n\ngulp.task('webpack:test', function() {\n    const webpackTestConfig = makeWebpackConfig({ TEST: true });\n    return gulp.src(webpackTestConfig.entry.app)\n        .pipe(webpack(webpackTestConfig))\n        .pipe(gulp.dest('.tmp'));\n});\n\ngulp.task('webpack:e2e', function() {\n    const webpackE2eConfig = makeWebpackConfig({ E2E: true });\n    return gulp.src(webpackE2eConfig.entry.app)\n        .pipe(webpack(webpackE2eConfig))\n        .pipe(gulp.dest('.tmp'));\n});\n\ngulp.task('styles', () => {\n    return gulp.src(paths.client.mainStyle)\n        .pipe(styles())\n        .pipe(gulp.dest('.tmp/app'));\n});\n\ngulp.task('transpile:server', () => {\n    return gulp.src(_.union(paths.server.scripts, paths.server.json))\n        .pipe(transpileServer())\n        .pipe(gulp.dest(`${paths.dist}/${serverPath}`));\n});\n\ngulp.task('lint:scripts', cb => runSequence(['lint:scripts:client', 'lint:scripts:server'], cb));\n\ngulp.task('lint:scripts:client', () => {\n    return gulp.src(_.union(\n        paths.client.scripts,\n        _.map(paths.client.test, blob => '!' + blob)\n    ))\n        .pipe(lintClientScripts());\n});\n\ngulp.task('lint:scripts:server', () => {\n    return gulp.src(_.union(paths.server.scripts, _.map(paths.server.test, blob => '!' + blob)))\n        .pipe(lintServerScripts());\n});\n\ngulp.task('lint:scripts:clientTest', () => {\n    return gulp.src(paths.client.test)\n        .pipe(lintClientScripts());\n});\n\ngulp.task('lint:scripts:serverTest', () => {\n    return gulp.src(paths.server.test)\n        .pipe(lintServerTestScripts());\n});\n\ngulp.task('jscs', () => {\n  return gulp.src(_.union(paths.client.scripts, paths.server.scripts))\n      .pipe(plugins.jscs())\n      .pipe(plugins.jscs.reporter());\n});\n\ngulp.task('clean:tmp', () => del(['.tmp/**/*'], {dot: true}));\n\ngulp.task('start:client', cb => {\n    whenServerReady(() => {\n        open('http://localhost:' + config.browserSyncPort);\n        cb();\n    });\n});\n\ngulp.task('start:server', () => {\n    process.env.NODE_ENV = process.env.NODE_ENV || 'development';\n    config = require(`./${serverPath}/config/environment`);\n    nodemon(`-w ${serverPath} ${serverPath}`)\n        .on('log', onServerLog);\n});\n\ngulp.task('start:server:prod', () => {\n    process.env.NODE_ENV = process.env.NODE_ENV || 'production';\n    config = require(`./${paths.dist}/${serverPath}/config/environment`);\n    nodemon(`-w ${paths.dist}/${serverPath} ${paths.dist}/${serverPath}`)\n        .on('log', onServerLog);\n});\n\ngulp.task('start:inspector', () => {\n    gulp.src([])\n        .pipe(plugins.nodeInspector({\n          debugPort: 5858\n        }));\n});\n\ngulp.task('start:server:debug', () => {\n    process.env.NODE_ENV = process.env.NODE_ENV || 'development';\n    config = require(`./${serverPath}/config/environment`);\n    nodemon(`-w ${serverPath} --debug=5858 --debug-brk ${serverPath}`)\n        .on('log', onServerLog);\n});\n\ngulp.task('watch', () => {\n    var testFiles = _.union(paths.client.test, paths.server.test.unit, paths.server.test.integration);\n\n    plugins.watch(_.union(paths.server.scripts, testFiles))\n        .pipe(plugins.plumber())\n        .pipe(lintServerScripts());\n\n    plugins.watch(_.union(paths.server.test.unit, paths.server.test.integration))\n        .pipe(plugins.plumber())\n        .pipe(lintServerTestScripts());\n});\n\ngulp.task('serve', cb => {\n    runSequence(\n        [\n            'clean:tmp',\n            'lint:scripts',\n            'inject',\n            'copy:fonts:dev',\n            'env:all'\n        ],\n        // 'webpack:dev',\n        ['start:server', 'start:client'],\n        'watch',\n        cb\n    );\n});\n\ngulp.task('serve:debug', cb => {\n    runSequence(\n        [\n            'clean:tmp',\n            'lint:scripts',\n            'inject',\n            'copy:fonts:dev',\n            'env:all'\n        ],\n        'webpack:dev',\n        'start:inspector',\n        ['start:server:debug', 'start:client'],\n        'watch',\n        cb\n    );\n});\n\ngulp.task('serve:dist', cb => {\n    runSequence(\n        'build',\n        'env:all',\n        'env:prod',\n        ['start:server:prod', 'start:client'],\n        cb);\n});\n\ngulp.task('test', cb => {\n    return runSequence('test:server', 'test:client', cb);\n});\n\ngulp.task('test:server', cb => {\n    runSequence(\n        'env:all',\n        'env:test',\n        'mocha:unit',\n        'mocha:integration',\n        cb);\n});\n\ngulp.task('mocha:unit', () => {\n    return gulp.src(paths.server.test.unit)\n        .pipe(mocha());\n});\n\ngulp.task('mocha:integration', () => {\n    return gulp.src(paths.server.test.integration)\n        .pipe(mocha());\n});\n\ngulp.task('test:server:coverage', cb => {\n  runSequence('coverage:pre',\n              'env:all',\n              'env:test',\n              'coverage:unit',\n              'coverage:integration',\n              cb);\n});\n\ngulp.task('coverage:pre', () => {\n  return gulp.src(paths.server.scripts)\n    // Covering files\n    .pipe(plugins.istanbul({\n        instrumenter: Instrumenter, // Use the isparta instrumenter (code coverage for ES6)\n        includeUntested: true\n    }))\n    // Force `require` to return covered files\n    .pipe(plugins.istanbul.hookRequire());\n});\n\ngulp.task('coverage:unit', () => {\n    return gulp.src(paths.server.test.unit)\n        .pipe(mocha())\n        .pipe(istanbul())\n        // Creating the reports after tests ran\n});\n\ngulp.task('coverage:integration', () => {\n    return gulp.src(paths.server.test.integration)\n        .pipe(mocha())\n        .pipe(istanbul())\n        // Creating the reports after tests ran\n});\n\n// Downloads the selenium webdriver\ngulp.task('webdriver_update', webdriver_update);\n\ngulp.task('test:e2e', ['webpack:e2e', 'env:all', 'env:test', 'start:server', 'webdriver_update'], cb => {\n    gulp.src(paths.client.e2e)\n        .pipe(protractor({\n            configFile: 'protractor.conf.js',\n        }))\n        .on('error', e => { throw e })\n        .on('end', () => { process.exit() });\n});\n\ngulp.task('test:client', done => {\n    new KarmaServer({\n      configFile: `${__dirname}/${paths.karma}`,\n      singleRun: true\n    }, err => {\n        done(err);\n        process.exit(err);\n    }).start();\n});\n\n/********************\n * Build\n ********************/\n\ngulp.task('build', cb => {\n    runSequence(\n        [\n            'clean:dist',\n            'clean:tmp'\n        ],\n        'inject',\n        'transpile:server',\n        [\n            'build:images'\n        ],\n        [\n            'copy:extras',\n            'copy:assets',\n            'copy:fonts:dist',\n            'copy:server',\n            'webpack:dist'\n        ],\n        'revReplaceWebpack',\n        cb);\n});\n\ngulp.task('clean:dist', () => del([`${paths.dist}/!(.git*|.openshift|Procfile)**`], {dot: true}));\n\ngulp.task('build:images', () => {\n    return gulp.src(paths.client.images)\n        .pipe(plugins.imagemin([\n            plugins.imagemin.optipng({optimizationLevel: 5}),\n            plugins.imagemin.jpegtran({progressive: true}),\n            plugins.imagemin.gifsicle({interlaced: true}),\n            plugins.imagemin.svgo({plugins: [{removeViewBox: false}]})\n        ]))\n        .pipe(plugins.rev())\n        .pipe(gulp.dest(`${paths.dist}/${clientPath}/assets/images`))\n        .pipe(plugins.rev.manifest(`${paths.dist}/${paths.client.revManifest}`, {\n            base: `${paths.dist}/${clientPath}/assets`,\n            merge: true\n        }))\n        .pipe(gulp.dest(`${paths.dist}/${clientPath}/assets`));\n});\n\ngulp.task('revReplaceWebpack', function() {\n    return gulp.src('dist/client/app.*.js')\n        .pipe(plugins.revReplace({manifest: gulp.src(`${paths.dist}/${paths.client.revManifest}`)}))\n        .pipe(gulp.dest('dist/client'));\n});\n\ngulp.task('copy:extras', () => {\n    return gulp.src([\n        `${clientPath}/favicon.ico`,\n        `${clientPath}/robots.txt`,\n        `${clientPath}/.htaccess`\n    ], { dot: true })\n        .pipe(gulp.dest(`${paths.dist}/${clientPath}`));\n});\n\n/**\n * turns 'boostrap/fonts/font.woff' into 'boostrap/font.woff'\n */\nfunction flatten() {\n    return through2.obj(function(file, enc, next) {\n        if(!file.isDirectory()) {\n            try {\n                let dir = path.dirname(file.relative).split(path.sep)[0];\n                let fileName = path.normalize(path.basename(file.path));\n                file.path = path.join(file.base, path.join(dir, fileName));\n                this.push(file);\n            } catch(e) {\n                this.emit('error', new Error(e));\n            }\n        }\n        next();\n    });\n}\ngulp.task('copy:fonts:dev', () => {\n    return gulp.src('node_modules/{bootstrap,font-awesome}/fonts/*')\n        .pipe(flatten())\n        .pipe(gulp.dest(`${clientPath}/assets/fonts`));\n});\ngulp.task('copy:fonts:dist', () => {\n    return gulp.src('node_modules/{bootstrap,font-awesome}/fonts/*')\n        .pipe(flatten())\n        .pipe(gulp.dest(`${paths.dist}/${clientPath}/assets/fonts`));\n});\n\ngulp.task('copy:assets', () => {\n    return gulp.src([paths.client.assets, '!' + paths.client.images])\n        .pipe(gulp.dest(`${paths.dist}/${clientPath}/assets`));\n});\n\ngulp.task('copy:server', () => {\n    return gulp.src([\n        'package.json'\n    ], {cwdbase: true})\n        .pipe(gulp.dest(paths.dist));\n});\n\n/********************\n * Grunt ported tasks\n ********************/\n\ngrunt.initConfig({\n    buildcontrol: {\n        options: {\n            dir: paths.dist,\n            commit: true,\n            push: true,\n            connectCommits: false,\n            message: 'Built %sourceName% from commit %sourceCommit% on branch %sourceBranch%'\n        },\n        heroku: {\n            options: {\n                remote: 'heroku',\n                branch: 'master'\n            }\n        },\n        openshift: {\n            options: {\n                remote: 'openshift',\n                branch: 'master'\n            }\n        }\n    }\n});\n\ngrunt.loadNpmTasks('grunt-build-control');\n\ngulp.task('buildcontrol:heroku', function(done) {\n    grunt.tasks(\n        ['buildcontrol:heroku'],    //you can add more grunt tasks in this array\n        {gruntfile: false}, //don't look for a Gruntfile - there is none. :-)\n        function() {done();}\n    );\n});\ngulp.task('buildcontrol:openshift', function(done) {\n    grunt.tasks(\n        ['buildcontrol:openshift'],    //you can add more grunt tasks in this array\n        {gruntfile: false}, //don't look for a Gruntfile - there is none. :-)\n        function() {done();}\n    );\n});\n"
      ]
    },
    "mtime": 1475441229987
  },
  "{\"filename\":\"/home/nitrous/webpack.make.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/webpack.make.js",
      "filenameRelative": "/home/nitrous/webpack.make.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "webpack.make.js",
      "sourceFileName": "webpack.make.js",
      "sourceRoot": "/home/nitrous",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "webpack.make"
    },
    "ignored": false,
    "code": "'use strict';\n/*eslint-env node*/\n\nvar webpack = require('webpack');\nvar autoprefixer = require('autoprefixer');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar HtmlWebpackHarddiskPlugin = require('html-webpack-harddisk-plugin');\nvar ExtractTextPlugin = require('extract-text-webpack-plugin');\nvar CommonsChunkPlugin = webpack.optimize.CommonsChunkPlugin;\nvar fs = require('fs');\nvar path = require('path');\nvar ForkCheckerPlugin = require('awesome-typescript-loader').ForkCheckerPlugin;\n\nmodule.exports = function makeWebpackConfig(options) {\n    /**\n     * Environment type\n     * BUILD is for generating minified builds\n     * TEST is for generating test builds\n     */\n    var BUILD = !!options.BUILD;\n    var TEST = !!options.TEST;\n    var E2E = !!options.E2E;\n    var DEV = !!options.DEV;\n\n    /**\n     * Config\n     * Reference: http://webpack.github.io/docs/configuration.html\n     * This is the object where all configuration gets set\n     */\n    var config = {};\n\n    /**\n     * Entry\n     * Reference: http://webpack.github.io/docs/configuration.html#entry\n     * Should be an empty object if it's generating a test build\n     * Karma will set this when it's a test build\n     */\n    if (TEST) {\n        config.entry = {};\n    } else {\n        config.entry = {\n            app: './client/app/app.js',\n            polyfills: './client/polyfills.js',\n            vendor: ['angular', 'angular-animate', 'angular-aria', 'angular-cookies', 'angular-resource', 'angular-sanitize', 'angular-socket-io', 'angular-ui-bootstrap', 'angular-ui-router', 'lodash']\n        };\n    }\n\n    /**\n     * Output\n     * Reference: http://webpack.github.io/docs/configuration.html#output\n     * Should be an empty object if it's generating a test build\n     * Karma will handle setting it up for you when it's a test build\n     */\n    if (TEST) {\n        config.output = {};\n    } else {\n        config.output = {\n            // Absolute output directory\n            path: BUILD ? path.join(__dirname, '/dist/client/') : path.join(__dirname, '/.tmp/'),\n\n            // Output path from the view of the page\n            // Uses webpack-dev-server in development\n            publicPath: BUILD || DEV || E2E ? '/' : 'http://localhost:' + 8080 + '/',\n            //publicPath: BUILD ? '/' : 'http://localhost:' + env.port + '/',\n\n            // Filename for entry points\n            // Only adds hash in build mode\n            filename: BUILD ? '[name].[hash].js' : '[name].bundle.js',\n\n            // Filename for non-entry points\n            // Only adds hash in build mode\n            chunkFilename: BUILD ? '[name].[hash].js' : '[name].bundle.js'\n        };\n    }\n\n    if (TEST) {\n        config.resolve = {\n            modulesDirectories: ['node_modules'],\n            extensions: ['', '.js', '.ts']\n        };\n    }\n\n    /**\n     * Devtool\n     * Reference: http://webpack.github.io/docs/configuration.html#devtool\n     * Type of sourcemap to use per build type\n     */\n    if (TEST) {\n        config.devtool = 'inline-source-map';\n    } else if (BUILD || DEV) {\n        config.devtool = 'source-map';\n    } else {\n        config.devtool = 'eval';\n    }\n\n    /**\n     * Loaders\n     * Reference: http://webpack.github.io/docs/configuration.html#module-loaders\n     * List: http://webpack.github.io/docs/list-of-loaders.html\n     * This handles most of the magic responsible for converting modules\n     */\n\n    config.babel = {\n        shouldPrintComment: function shouldPrintComment(commentContents) {\n            // keep `/*@ngInject*/`\n            return (/@ngInject/.test(commentContents)\n            );\n        }\n    };\n\n    // Initialize module\n    config.module = {\n        preLoaders: [],\n        loaders: [{\n            // JS LOADER\n            // Reference: https://github.com/babel/babel-loader\n            // Transpile .js files using babel-loader\n            // Compiles ES6 and ES7 into ES5 code\n            test: /\\.js$/,\n            loader: 'babel',\n            include: [path.resolve(__dirname, 'client/'), path.resolve(__dirname, 'node_modules/lodash-es/')]\n        }, {\n            // TS LOADER\n            // Reference: https://github.com/s-panferov/awesome-typescript-loader\n            // Transpile .ts files using awesome-typescript-loader\n            test: /\\.ts$/,\n            loader: 'awesome-typescript-loader',\n            query: {\n                tsconfig: path.resolve(__dirname, 'tsconfig.client.json')\n            },\n            include: [path.resolve(__dirname, 'client/')]\n        }, {\n            // ASSET LOADER\n            // Reference: https://github.com/webpack/file-loader\n            // Copy png, jpg, jpeg, gif, svg, woff, woff2, ttf, eot files to output\n            // Rename the file using the asset hash\n            // Pass along the updated reference to your code\n            // You can add here any file extension you want to get copied to your output\n            test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)([\\?]?.*)$/,\n            loader: 'file'\n        }, {\n            // Pug HTML LOADER\n            // Reference: https://github.com/willyelm/pug-html-loader\n            // Allow loading Pug throw js\n            test: /\\.(jade|pug)$/,\n            loaders: ['pug-html']\n        }, {\n\n            // CSS LOADER\n            // Reference: https://github.com/webpack/css-loader\n            // Allow loading css through js\n            //\n            // Reference: https://github.com/postcss/postcss-loader\n            // Postprocess your css with PostCSS plugins\n            test: /\\.css$/,\n            loader: !TEST\n            // Reference: https://github.com/webpack/extract-text-webpack-plugin\n            // Extract css files in production builds\n            //\n            // Reference: https://github.com/webpack/style-loader\n            // Use style-loader in development for hot-loading\n            ? ExtractTextPlugin.extract('style', 'css?sourceMap!postcss')\n            // Reference: https://github.com/webpack/null-loader\n            // Skip loading css in test mode\n            : 'null'\n        }, {\n\n            // Stylus LOADER\n            // Reference: https://github.com/\n            test: /\\.styl$/,\n            loaders: ['style', 'css', 'stylus'],\n            include: [path.resolve(__dirname, 'node_modules/bootstrap-styl/bootstrap/*.styl'), path.resolve(__dirname, 'client/app/app.styl')]\n        }]\n    };\n\n    config.module.postLoaders = [{\n        test: /\\.js$/,\n        loader: 'ng-annotate?single_quotes'\n    }];\n\n    // ISPARTA INSTRUMENTER LOADER\n    // Reference: https://github.com/ColCh/isparta-instrumenter-loader\n    // Instrument JS files with Isparta for subsequent code coverage reporting\n    // Skips node_modules and spec files\n    if (TEST) {\n        config.module.preLoaders.push({\n            //delays coverage til after tests are run, fixing transpiled source coverage error\n            test: /\\.js$/,\n            exclude: /(node_modules|spec\\.js|mock\\.js)/,\n            loader: 'isparta-instrumenter',\n            query: {\n                babel: {\n                    // optional: ['runtime', 'es7.classProperties', 'es7.decorators']\n                }\n            }\n        });\n    }\n\n    /**\n     * PostCSS\n     * Reference: https://github.com/postcss/autoprefixer-core\n     * Add vendor prefixes to your css\n     */\n    config.postcss = [autoprefixer({\n        browsers: ['last 2 version']\n    })];\n\n    /**\n     * Plugins\n     * Reference: http://webpack.github.io/docs/configuration.html#plugins\n     * List: http://webpack.github.io/docs/list-of-plugins.html\n     */\n    config.plugins = [\n    /*\n     * Plugin: ForkCheckerPlugin\n     * Description: Do type checking in a separate process, so webpack don't need to wait.\n     *\n     * See: https://github.com/s-panferov/awesome-typescript-loader#forkchecker-boolean-defaultfalse\n     */\n    new ForkCheckerPlugin(),\n\n    // Reference: https://github.com/webpack/extract-text-webpack-plugin\n    // Extract css files\n    // Disabled when in test mode or not in build mode\n    new ExtractTextPlugin('[name].[hash].css', {\n        disable: !BUILD || TEST\n    })];\n\n    if (!TEST) {\n        config.plugins.push(new CommonsChunkPlugin({\n            name: 'vendor',\n\n            // filename: \"vendor.js\"\n            // (Give the chunk a different name)\n\n            minChunks: Infinity\n            // (with more entries, this ensures that no other module\n            //  goes into the vendor chunk)\n        }));\n    }\n\n    // Skip rendering index.html in test mode\n    // Reference: https://github.com/ampedandwired/html-webpack-plugin\n    // Render index.html\n    var htmlConfig = {\n        template: 'client/_index.html',\n        filename: '../client/index.html',\n        alwaysWriteToDisk: true\n    };\n    config.plugins.push(new HtmlWebpackPlugin(htmlConfig), new HtmlWebpackHarddiskPlugin());\n\n    // Add build specific plugins\n    if (BUILD) {\n        config.plugins.push(\n        // Reference: http://webpack.github.io/docs/list-of-plugins.html#noerrorsplugin\n        // Only emit files when there are no errors\n        new webpack.NoErrorsPlugin(),\n\n        // Reference: http://webpack.github.io/docs/list-of-plugins.html#dedupeplugin\n        // Dedupe modules in the output\n        new webpack.optimize.DedupePlugin(),\n\n        // Reference: http://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin\n        // Minify all javascript, switch loaders to minimizing mode\n        new webpack.optimize.UglifyJsPlugin({\n            mangle: false,\n            output: {\n                comments: false\n            },\n            compress: {\n                warnings: false\n            }\n        }),\n\n        // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n        // Define free global variables\n        new webpack.DefinePlugin({\n            'process.env': {\n                NODE_ENV: '\"production\"'\n            }\n        }));\n    }\n\n    if (DEV) {\n        config.plugins.push(\n        // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n        // Define free global variables\n        new webpack.DefinePlugin({\n            'process.env': {\n                NODE_ENV: '\"development\"'\n            }\n        }));\n    }\n\n    config.cache = DEV;\n\n    if (TEST) {\n        config.stats = {\n            colors: true,\n            reasons: true\n        };\n        config.debug = false;\n    }\n\n    /**\n     * Dev server configuration\n     * Reference: http://webpack.github.io/docs/configuration.html#devserver\n     * Reference: http://webpack.github.io/docs/webpack-dev-server.html\n     */\n    config.devServer = {\n        contentBase: './client/',\n        stats: {\n            modules: false,\n            cached: false,\n            colors: true,\n            chunk: false\n        }\n    };\n\n    config.node = {\n        global: 'window',\n        process: true,\n        crypto: 'empty',\n        clearImmediate: false,\n        setImmediate: false\n    };\n\n    return config;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2subWFrZS5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrIiwicmVxdWlyZSIsImF1dG9wcmVmaXhlciIsIkh0bWxXZWJwYWNrUGx1Z2luIiwiSHRtbFdlYnBhY2tIYXJkZGlza1BsdWdpbiIsIkV4dHJhY3RUZXh0UGx1Z2luIiwiQ29tbW9uc0NodW5rUGx1Z2luIiwib3B0aW1pemUiLCJmcyIsInBhdGgiLCJGb3JrQ2hlY2tlclBsdWdpbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJtYWtlV2VicGFja0NvbmZpZyIsIm9wdGlvbnMiLCJCVUlMRCIsIlRFU1QiLCJFMkUiLCJERVYiLCJjb25maWciLCJlbnRyeSIsImFwcCIsInBvbHlmaWxscyIsInZlbmRvciIsIm91dHB1dCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJwdWJsaWNQYXRoIiwiZmlsZW5hbWUiLCJjaHVua0ZpbGVuYW1lIiwicmVzb2x2ZSIsIm1vZHVsZXNEaXJlY3RvcmllcyIsImV4dGVuc2lvbnMiLCJkZXZ0b29sIiwiYmFiZWwiLCJzaG91bGRQcmludENvbW1lbnQiLCJjb21tZW50Q29udGVudHMiLCJ0ZXN0IiwicHJlTG9hZGVycyIsImxvYWRlcnMiLCJsb2FkZXIiLCJpbmNsdWRlIiwicXVlcnkiLCJ0c2NvbmZpZyIsImV4dHJhY3QiLCJwb3N0TG9hZGVycyIsInB1c2giLCJleGNsdWRlIiwicG9zdGNzcyIsImJyb3dzZXJzIiwicGx1Z2lucyIsImRpc2FibGUiLCJuYW1lIiwibWluQ2h1bmtzIiwiSW5maW5pdHkiLCJodG1sQ29uZmlnIiwidGVtcGxhdGUiLCJhbHdheXNXcml0ZVRvRGlzayIsIk5vRXJyb3JzUGx1Z2luIiwiRGVkdXBlUGx1Z2luIiwiVWdsaWZ5SnNQbHVnaW4iLCJtYW5nbGUiLCJjb21tZW50cyIsImNvbXByZXNzIiwid2FybmluZ3MiLCJEZWZpbmVQbHVnaW4iLCJOT0RFX0VOViIsImNhY2hlIiwic3RhdHMiLCJjb2xvcnMiLCJyZWFzb25zIiwiZGVidWciLCJkZXZTZXJ2ZXIiLCJjb250ZW50QmFzZSIsIm1vZHVsZXMiLCJjYWNoZWQiLCJjaHVuayIsIm5vZGUiLCJnbG9iYWwiLCJwcm9jZXNzIiwiY3J5cHRvIiwiY2xlYXJJbW1lZGlhdGUiLCJzZXRJbW1lZGlhdGUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBQ0EsSUFBSUEsVUFBVUMsUUFBUSxTQUFSLENBQWQ7QUFDQSxJQUFJQyxlQUFlRCxRQUFRLGNBQVIsQ0FBbkI7QUFDQSxJQUFJRSxvQkFBb0JGLFFBQVEscUJBQVIsQ0FBeEI7QUFDQSxJQUFJRyw0QkFBNEJILFFBQVEsOEJBQVIsQ0FBaEM7QUFDQSxJQUFJSSxvQkFBb0JKLFFBQVEsNkJBQVIsQ0FBeEI7QUFDQSxJQUFJSyxxQkFBcUJOLFFBQVFPLFFBQVIsQ0FBaUJELGtCQUExQztBQUNBLElBQUlFLEtBQUtQLFFBQVEsSUFBUixDQUFUO0FBQ0EsSUFBSVEsT0FBT1IsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJUyxvQkFBb0JULFFBQVEsMkJBQVIsRUFBcUNTLGlCQUE3RDs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQixTQUFTQyxpQkFBVCxDQUEyQkMsT0FBM0IsRUFBb0M7QUFDakQ7Ozs7O0FBS0EsUUFBSUMsUUFBUSxDQUFDLENBQUNELFFBQVFDLEtBQXRCO0FBQ0EsUUFBSUMsT0FBTyxDQUFDLENBQUNGLFFBQVFFLElBQXJCO0FBQ0EsUUFBSUMsTUFBTSxDQUFDLENBQUNILFFBQVFHLEdBQXBCO0FBQ0EsUUFBSUMsTUFBTSxDQUFDLENBQUNKLFFBQVFJLEdBQXBCOztBQUVBOzs7OztBQUtBLFFBQUlDLFNBQVMsRUFBYjs7QUFFQTs7Ozs7O0FBTUEsUUFBR0gsSUFBSCxFQUFTO0FBQ0xHLGVBQU9DLEtBQVAsR0FBZSxFQUFmO0FBQ0gsS0FGRCxNQUVPO0FBQ0hELGVBQU9DLEtBQVAsR0FBZTtBQUNYQyxpQkFBSyxxQkFETTtBQUVYQyx1QkFBVyx1QkFGQTtBQUdYQyxvQkFBUSxDQUNKLFNBREksRUFFSixpQkFGSSxFQUdKLGNBSEksRUFJSixpQkFKSSxF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TixvQkFBUSxJQUhMO0FBSUhPLG1CQUFPO0FBSko7QUFGUSxLQUFuQjs7QUFVQXpELFdBQU8wRCxJQUFQLEdBQWM7QUFDVkMsZ0JBQVEsUUFERTtBQUVWQyxpQkFBUyxJQUZDO0FBR1ZDLGdCQUFRLE9BSEU7QUFJVkMsd0JBQWdCLEtBSk47QUFLVkMsc0JBQWM7QUFMSixLQUFkOztBQVFBLFdBQU8vRCxNQUFQO0FBQ0gsQ0E3VkQiLCJmaWxlIjoid2VicGFjay5tYWtlLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vKmVzbGludC1lbnYgbm9kZSovXG52YXIgd2VicGFjayA9IHJlcXVpcmUoJ3dlYnBhY2snKTtcbnZhciBhdXRvcHJlZml4ZXIgPSByZXF1aXJlKCdhdXRvcHJlZml4ZXInKTtcbnZhciBIdG1sV2VicGFja1BsdWdpbiA9IHJlcXVpcmUoJ2h0bWwtd2VicGFjay1wbHVnaW4nKTtcbnZhciBIdG1sV2VicGFja0hhcmRkaXNrUGx1Z2luID0gcmVxdWlyZSgnaHRtbC13ZWJwYWNrLWhhcmRkaXNrLXBsdWdpbicpO1xudmFyIEV4dHJhY3RUZXh0UGx1Z2luID0gcmVxdWlyZSgnZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luJyk7XG52YXIgQ29tbW9uc0NodW5rUGx1Z2luID0gd2VicGFjay5vcHRpbWl6ZS5Db21tb25zQ2h1bmtQbHVnaW47XG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgRm9ya0NoZWNrZXJQbHVnaW4gPSByZXF1aXJlKCdhd2Vzb21lLXR5cGVzY3JpcHQtbG9hZGVyJykuRm9ya0NoZWNrZXJQbHVnaW47XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZVdlYnBhY2tDb25maWcob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEVudmlyb25tZW50IHR5cGVcbiAgICAgKiBCVUlMRCBpcyBmb3IgZ2VuZXJhdGluZyBtaW5pZmllZCBidWlsZHNcbiAgICAgKiBURVNUIGlzIGZvciBnZW5lcmF0aW5nIHRlc3QgYnVpbGRzXG4gICAgICovXG4gICAgdmFyIEJVSUxEID0gISFvcHRpb25zLkJVSUxEO1xuICAgIHZhciBURVNUID0gISFvcHRpb25zLlRFU1Q7XG4gICAgdmFyIEUyRSA9ICEhb3B0aW9ucy5FMkU7XG4gICAgdmFyIERFViA9ICEhb3B0aW9ucy5ERVY7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWdcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbFxuICAgICAqIFRoaXMgaXMgdGhlIG9iamVjdCB3aGVyZSBhbGwgY29uZmlndXJhdGlvbiBnZXRzIHNldFxuICAgICAqL1xuICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEVudHJ5XG4gICAgICogUmVmZXJlbmNlOiBodHRwOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9jb25maWd1cmF0aW9uLmh0bWwjZW50cnlcbiAgICAgKiBTaG91bGQgYmUgYW4gZW1wdHkgb2JqZWN0IGlmIGl0J3MgZ2VuZXJhdGluZyBhIHRlc3QgYnVpbGRcbiAgICAgKiBLYXJtYSB3aWxsIHNldCB0aGlzIHdoZW4gaXQncyBhIHRlc3QgYnVpbGRcbiAgICAgKi9cbiAgICBpZihURVNUKSB7XG4gICAgICAgIGNvbmZpZy5lbnRyeSA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5lbnRyeSA9IHtcbiAgICAgICAgICAgIGFwcDogJy4vY2xpZW50L2FwcC9hcHAuanMnLFxuICAgICAgICAgICAgcG9seWZpbGxzOiAnLi9jbGllbnQvcG9seWZpbGxzLmpzJyxcbiAgICAgICAgICAgIHZlbmRvcjogW1xuICAgICAgICAgICAgICAgICdhbmd1bGFyJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1hbmltYXRlJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1hcmlhJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1jb29raWVzJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1yZXNvdXJjZScsXG5cbiAgICAgICAgICAgICAgICAnYW5ndWxhci1zYW5pdGl6ZScsXG4gICAgICAgICAgICAgICAgJ2FuZ3VsYXItc29ja2V0LWlvJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci11aS1ib290c3RyYXAnLFxuICAgICAgICAgICAgICAgICdhbmd1bGFyLXVpLXJvdXRlcicsXG4gICAgICAgICAgICAgICAgJ2xvZGFzaCdcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdXRwdXRcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbCNvdXRwdXRcbiAgICAgKiBTaG91bGQgYmUgYW4gZW1wdHkgb2JqZWN0IGlmIGl0J3MgZ2VuZXJhdGluZyBhIHRlc3QgYnVpbGRcbiAgICAgKiBLYXJtYSB3aWxsIGhhbmRsZSBzZXR0aW5nIGl0IHVwIGZvciB5b3Ugd2hlbiBpdCdzIGEgdGVzdCBidWlsZFxuICAgICAqL1xuICAgIGlmKFRFU1QpIHtcbiAgICAgICAgY29uZmlnLm91dHB1dCA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5vdXRwdXQgPSB7XG4gICAgICAgICAgICAvLyBBYnNvbHV0ZSBvdXRwdXQgZGlyZWN0b3J5XG4gICAgICAgICAgICBwYXRoOiBCVUlMRCA/IHBhdGguam9pbihfX2Rpcm5hbWUsICcvZGlzdC9jbGllbnQvJykgOiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy50bXAvJyksXG5cbiAgICAgICAgICAgIC8vIE91dHB1dCBwYXRoIGZyb20gdGhlIHZpZXcgb2YgdGhlIHBhZ2VcbiAgICAgICAgICAgIC8vIFVzZXMgd2VicGFjay1kZXYtc2VydmVyIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgICBwdWJsaWNQYXRoOiBCVUlMRCB8fCBERVYgfHwgRTJFID8gJy8nIDogYGh0dHA6Ly9sb2NhbGhvc3Q6JHs4MDgwfS9gLFxuICAgICAgICAgICAgLy9wdWJsaWNQYXRoOiBCVUlMRCA/ICcvJyA6ICdodHRwOi8vbG9jYWxob3N0OicgKyBlbnYucG9ydCArICcvJyxcblxuICAgICAgICAgICAgLy8gRmlsZW5hbWUgZm9yIGVudHJ5IHBvaW50c1xuICAgICAgICAgICAgLy8gT25seSBhZGRzIGhhc2ggaW4gYnVpbGQgbW9kZVxuICAgICAgICAgICAgZmlsZW5hbWU6IEJVSUxEID8gJ1tuYW1lXS5baGFzaF0uanMnIDogJ1tuYW1lXS5idW5kbGUuanMnLFxuXG4gICAgICAgICAgICAvLyBGaWxlbmFtZSBmb3Igbm9uLWVudHJ5IHBvaW50c1xuICAgICAgICAgICAgLy8gT25seSBhZGRzIGhhc2ggaW4gYnVpbGQgbW9kZVxuICAgICAgICAgICAgY2h1bmtGaWxlbmFtZTogQlVJTEQgPyAnW25hbWVdLltoYXNoXS5qcycgOiAnW25hbWVdLmJ1bmRsZS5qcydcbiAgICAgICAgfTtcbiAgICB9XG5cblxuXG4gICAgaWYoVEVTVCkge1xuICAgICAgICBjb25maWcucmVzb2x2ZSA9IHtcbiAgICAgICAgICAgIG1vZHVsZXNEaXJlY3RvcmllczogW1xuICAgICAgICAgICAgICAgICdub2RlX21vZHVsZXMnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycnLCAnLmpzJywgJy50cyddXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV2dG9vbFxuICAgICAqIFJlZmVyZW5jZTogaHR0cDovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvY29uZmlndXJhdGlvbi5odG1sI2RldnRvb2xcbiAgICAgKiBUeXBlIG9mIHNvdXJjZW1hcCB0byB1c2UgcGVyIGJ1aWxkIHR5cGVcbiAgICAgKi9cbiAgICBpZihURVNUKSB7XG4gICAgICAgIGNvbmZpZy5kZXZ0b29sID0gJ2lubGluZS1zb3VyY2UtbWFwJztcbiAgICB9IGVsc2UgaWYoQlVJTEQgfHwgREVWKSB7XG4gICAgICAgIGNvbmZpZy5kZXZ0b29sID0gJ3NvdXJjZS1tYXAnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5kZXZ0b29sID0gJ2V2YWwnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRlcnNcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbCNtb2R1bGUtbG9hZGVyc1xuICAgICAqIExpc3Q6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2xpc3Qtb2YtbG9hZGVycy5odG1sXG4gICAgICogVGhpcyBoYW5kbGVzIG1vc3Qgb2YgdGhlIG1hZ2ljIHJlc3BvbnNpYmxlIGZvciBjb252ZXJ0aW5nIG1vZHVsZXNcbiAgICAgKi9cblxuXG4gICAgY29uZmlnLmJhYmVsID0ge1xuICAgICAgICBzaG91bGRQcmludENvbW1lbnQoY29tbWVudENvbnRlbnRzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGAvKkBuZ0luamVjdCovYFxuICAgICAgICAgICAgcmV0dXJuIC9AbmdJbmplY3QvLnRlc3QoY29tbWVudENvbnRlbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgbW9kdWxlXG4gICAgY29uZmlnLm1vZHVsZSA9IHtcbiAgICAgICAgcHJlTG9hZGVyczogW10sXG4gICAgICAgIGxvYWRlcnM6IFt7XG4gICAgICAgICAgICAvLyBKUyBMT0FERVJcbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsLWxvYWRlclxuICAgICAgICAgICAgLy8gVHJhbnNwaWxlIC5qcyBmaWxlcyB1c2luZyBiYWJlbC1sb2FkZXJcbiAgICAgICAgICAgIC8vIENvbXBpbGVzIEVTNiBhbmQgRVM3IGludG8gRVM1IGNvZGVcbiAgICAgICAgICAgIHRlc3Q6IC9cXC5qcyQvLFxuICAgICAgICAgICAgbG9hZGVyOiAnYmFiZWwnLFxuICAgICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAgICAgIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdjbGllbnQvJyksXG4gICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvJylcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgLy8gVFMgTE9BREVSXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9zLXBhbmZlcm92L2F3ZXNvbWUtdHlwZXNjcmlwdC1sb2FkZXJcbiAgICAgICAgICAgIC8vIFRyYW5zcGlsZSAudHMgZmlsZXMgdXNpbmcgYXdlc29tZS10eXBlc2NyaXB0LWxvYWRlclxuICAgICAgICAgICAgdGVzdDogL1xcLnRzJC8sXG4gICAgICAgICAgICBsb2FkZXI6ICdhd2Vzb21lLXR5cGVzY3JpcHQtbG9hZGVyJyxcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgdHNjb25maWc6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICd0c2NvbmZpZy5jbGllbnQuanNvbicpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAgICAgIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdjbGllbnQvJylcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgLy8gQVNTRVQgTE9BREVSXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL2ZpbGUtbG9hZGVyXG4gICAgICAgICAgICAvLyBDb3B5IHBuZywganBnLCBqcGVnLCBnaWYsIHN2Zywgd29mZiwgd29mZjIsIHR0ZiwgZW90IGZpbGVzIHRvIG91dHB1dFxuICAgICAgICAgICAgLy8gUmVuYW1lIHRoZSBmaWxlIHVzaW5nIHRoZSBhc3NldCBoYXNoXG4gICAgICAgICAgICAvLyBQYXNzIGFsb25nIHRoZSB1cGRhdGVkIHJlZmVyZW5jZSB0byB5b3VyIGNvZGVcbiAgICAgICAgICAgIC8vIFlvdSBjYW4gYWRkIGhlcmUgYW55IGZpbGUgZXh0ZW5zaW9uIHlvdSB3YW50IHRvIGdldCBjb3BpZWQgdG8geW91ciBvdXRwdXRcbiAgICAgICAgICAgIHRlc3Q6IC9cXC4ocG5nfGpwZ3xqcGVnfGdpZnxzdmd8d29mZnx3b2ZmMnx0dGZ8ZW90KShbXFw/XT8uKikkLyxcbiAgICAgICAgICAgIGxvYWRlcjogJ2ZpbGUnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIC8vIFB1ZyBIVE1MIExPQURFUlxuICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vd2lsbHllbG0vcHVnLWh0bWwtbG9hZGVyXG4gICAgICAgICAgICAvLyBBbGxvdyBsb2FkaW5nIFB1ZyB0aHJvdyBqc1xuICAgICAgICAgICAgdGVzdDogL1xcLihqYWRlfHB1ZykkLyxcbiAgICAgICAgICAgIGxvYWRlcnM6IFsncHVnLWh0bWwnXVxuICAgICAgICB9LCB7XG5cbiAgICAgICAgICAgIC8vIENTUyBMT0FERVJcbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2svY3NzLWxvYWRlclxuICAgICAgICAgICAgLy8gQWxsb3cgbG9hZGluZyBjc3MgdGhyb3VnaCBqc1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL3Bvc3Rjc3MvcG9zdGNzcy1sb2FkZXJcbiAgICAgICAgICAgIC8vIFBvc3Rwcm9jZXNzIHlvdXIgY3NzIHdpdGggUG9zdENTUyBwbHVnaW5zXG4gICAgICAgICAgICB0ZXN0OiAvXFwuY3NzJC8sXG4gICAgICAgICAgICBsb2FkZXI6ICFURVNUXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay9leHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGNzcyBmaWxlcyBpbiBwcm9kdWN0aW9uIGJ1aWxkc1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay9zdHlsZS1sb2FkZXJcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3R5bGUtbG9hZGVyIGluIGRldmVsb3BtZW50IGZvciBob3QtbG9hZGluZ1xuICAgICAgICAgICAgICAgID8gRXh0cmFjdFRleHRQbHVnaW4uZXh0cmFjdCgnc3R5bGUnLCAnY3NzP3NvdXJjZU1hcCFwb3N0Y3NzJylcbiAgICAgICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL251bGwtbG9hZGVyXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBsb2FkaW5nIGNzcyBpbiB0ZXN0IG1vZGVcbiAgICAgICAgICAgICAgICA6ICdudWxsJ1xuICAgICAgICB9LCB7XG5cblxuICAgICAgICAgICAgLy8gU3R5bHVzIExPQURFUlxuICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vXG4gICAgICAgICAgICB0ZXN0OiAvXFwuc3R5bCQvLFxuICAgICAgICAgICAgbG9hZGVyczogWydzdHlsZScsICdjc3MnLCAnc3R5bHVzJ10sXG4gICAgICAgICAgICBpbmNsdWRlOiBbXG4gICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ25vZGVfbW9kdWxlcy9ib290c3RyYXAtc3R5bC9ib290c3RyYXAvKi5zdHlsJyksXG4gICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ2NsaWVudC9hcHAvYXBwLnN0eWwnKVxuICAgICAgICAgICAgXVxuICAgICAgICB9XVxuICAgIH07XG5cbiAgICBjb25maWcubW9kdWxlLnBvc3RMb2FkZXJzID0gW3tcbiAgICAgICAgdGVzdDogL1xcLmpzJC8sXG4gICAgICAgIGxvYWRlcjogJ25nLWFubm90YXRlP3NpbmdsZV9xdW90ZXMnXG4gICAgfV07XG5cbiAgICAvLyBJU1BBUlRBIElOU1RSVU1FTlRFUiBMT0FERVJcbiAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9Db2xDaC9pc3BhcnRhLWluc3RydW1lbnRlci1sb2FkZXJcbiAgICAvLyBJbnN0cnVtZW50IEpTIGZpbGVzIHdpdGggSXNwYXJ0YSBmb3Igc3Vic2VxdWVudCBjb2RlIGNvdmVyYWdlIHJlcG9ydGluZ1xuICAgIC8vIFNraXBzIG5vZGVfbW9kdWxlcyBhbmQgc3BlYyBmaWxlc1xuICAgIGlmKFRFU1QpIHtcbiAgICAgICAgY29uZmlnLm1vZHVsZS5wcmVMb2FkZXJzLnB1c2goe1xuICAgICAgICAgICAgLy9kZWxheXMgY292ZXJhZ2UgdGlsIGFmdGVyIHRlc3RzIGFyZSBydW4sIGZpeGluZyB0cmFuc3BpbGVkIHNvdXJjZSBjb3ZlcmFnZSBlcnJvclxuICAgICAgICAgICAgdGVzdDogL1xcLmpzJC8sXG4gICAgICAgICAgICBleGNsdWRlOiAvKG5vZGVfbW9kdWxlc3xzcGVjXFwuanN8bW9ja1xcLmpzKS8sXG4gICAgICAgICAgICBsb2FkZXI6ICdpc3BhcnRhLWluc3RydW1lbnRlcicsXG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgIGJhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsOiBbJ3J1bnRpbWUnLCAnZXM3LmNsYXNzUHJvcGVydGllcycsICdlczcuZGVjb3JhdG9ycyddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFBvc3RDU1NcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9wb3N0Y3NzL2F1dG9wcmVmaXhlci1jb3JlXG4gICAgICogQWRkIHZlbmRvciBwcmVmaXhlcyB0byB5b3VyIGNzc1xuICAgICAqL1xuICAgIGNvbmZpZy5wb3N0Y3NzID0gW1xuICAgICAgICBhdXRvcHJlZml4ZXIoe1xuICAgICAgICAgICAgYnJvd3NlcnM6IFsnbGFzdCAyIHZlcnNpb24nXVxuICAgICAgICB9KVxuICAgIF07XG5cbiAgICAvKipcbiAgICAgKiBQbHVnaW5zXG4gICAgICogUmVmZXJlbmNlOiBodHRwOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9jb25maWd1cmF0aW9uLmh0bWwjcGx1Z2luc1xuICAgICAqIExpc3Q6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2xpc3Qtb2YtcGx1Z2lucy5odG1sXG4gICAgICovXG4gICAgY29uZmlnLnBsdWdpbnMgPSBbXG4gICAgICAgIC8qXG4gICAgICAgICAqIFBsdWdpbjogRm9ya0NoZWNrZXJQbHVnaW5cbiAgICAgICAgICogRGVzY3JpcHRpb246IERvIHR5cGUgY2hlY2tpbmcgaW4gYSBzZXBhcmF0ZSBwcm9jZXNzLCBzbyB3ZWJwYWNrIGRvbid0IG5lZWQgdG8gd2FpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcy1wYW5mZXJvdi9hd2Vzb21lLXR5cGVzY3JpcHQtbG9hZGVyI2ZvcmtjaGVja2VyLWJvb2xlYW4tZGVmYXVsdGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBuZXcgRm9ya0NoZWNrZXJQbHVnaW4oKSxcblxuICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL2V4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuICAgICAgICAvLyBFeHRyYWN0IGNzcyBmaWxlc1xuICAgICAgICAvLyBEaXNhYmxlZCB3aGVuIGluIHRlc3QgbW9kZSBvciBub3QgaW4gYnVpbGQgbW9kZVxuICAgICAgICBuZXcgRXh0cmFjdFRleHRQbHVnaW4oJ1tuYW1lXS5baGFzaF0uY3NzJywge1xuICAgICAgICAgICAgZGlzYWJsZTogIUJVSUxEIHx8IFRFU1RcbiAgICAgICAgfSlcbiAgICBdO1xuXG4gICAgaWYoIVRFU1QpIHtcbiAgICAgICAgY29uZmlnLnBsdWdpbnMucHVzaChuZXcgQ29tbW9uc0NodW5rUGx1Z2luKHtcbiAgICAgICAgICAgIG5hbWU6ICd2ZW5kb3InLFxuXG4gICAgICAgICAgICAvLyBmaWxlbmFtZTogXCJ2ZW5kb3IuanNcIlxuICAgICAgICAgICAgLy8gKEdpdmUgdGhlIGNodW5rIGEgZGlmZmVyZW50IG5hbWUpXG5cbiAgICAgICAgICAgIG1pbkNodW5rczogSW5maW5pdHlcbiAgICAgICAgICAgIC8vICh3aXRoIG1vcmUgZW50cmllcywgdGhpcyBlbnN1cmVzIHRoYXQgbm8gb3RoZXIgbW9kdWxlXG4gICAgICAgICAgICAvLyAgZ29lcyBpbnRvIHRoZSB2ZW5kb3IgY2h1bmspXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvLyBTa2lwIHJlbmRlcmluZyBpbmRleC5odG1sIGluIHRlc3QgbW9kZVxuICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL2FtcGVkYW5kd2lyZWQvaHRtbC13ZWJwYWNrLXBsdWdpblxuICAgIC8vIFJlbmRlciBpbmRleC5odG1sXG4gICAgbGV0IGh0bWxDb25maWcgPSB7XG4gICAgICAgIHRlbXBsYXRlOiAnY2xpZW50L19pbmRleC5odG1sJyxcbiAgICAgICAgZmlsZW5hbWU6ICcuLi9jbGllbnQvaW5kZXguaHRtbCcsXG4gICAgICAgIGFsd2F5c1dyaXRlVG9EaXNrOiB0cnVlXG4gICAgfVxuICAgIGNvbmZpZy5wbHVnaW5zLnB1c2goXG4gICAgICBuZXcgSHRtbFdlYnBhY2tQbHVnaW4oaHRtbENvbmZpZyksXG4gICAgICBuZXcgSHRtbFdlYnBhY2tIYXJkZGlza1BsdWdpbigpXG4gICAgKTtcblxuICAgIC8vIEFkZCBidWlsZCBzcGVjaWZpYyBwbHVnaW5zXG4gICAgaWYoQlVJTEQpIHtcbiAgICAgICAgY29uZmlnLnBsdWdpbnMucHVzaChcbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cDovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvbGlzdC1vZi1wbHVnaW5zLmh0bWwjbm9lcnJvcnNwbHVnaW5cbiAgICAgICAgICAgIC8vIE9ubHkgZW1pdCBmaWxlcyB3aGVuIHRoZXJlIGFyZSBubyBlcnJvcnNcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLk5vRXJyb3JzUGx1Z2luKCksXG5cbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cDovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvbGlzdC1vZi1wbHVnaW5zLmh0bWwjZGVkdXBlcGx1Z2luXG4gICAgICAgICAgICAvLyBEZWR1cGUgbW9kdWxlcyBpbiB0aGUgb3V0cHV0XG4gICAgICAgICAgICBuZXcgd2VicGFjay5vcHRpbWl6ZS5EZWR1cGVQbHVnaW4oKSxcblxuICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9saXN0LW9mLXBsdWdpbnMuaHRtbCN1Z2xpZnlqc3BsdWdpblxuICAgICAgICAgICAgLy8gTWluaWZ5IGFsbCBqYXZhc2NyaXB0LCBzd2l0Y2ggbG9hZGVycyB0byBtaW5pbWl6aW5nIG1vZGVcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLm9wdGltaXplLlVnbGlmeUpzUGx1Z2luKHtcbiAgICAgICAgICAgICAgICBtYW5nbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50czogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXByZXNzOiB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9saXN0LW9mLXBsdWdpbnMuaHRtbCNkZWZpbmVwbHVnaW5cbiAgICAgICAgICAgIC8vIERlZmluZSBmcmVlIGdsb2JhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLkRlZmluZVBsdWdpbih7XG4gICAgICAgICAgICAgICAgJ3Byb2Nlc3MuZW52Jzoge1xuICAgICAgICAgICAgICAgICAgICBOT0RFX0VOVjogJ1wicHJvZHVjdGlvblwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYoREVWKSB7XG4gICAgICAgIGNvbmZpZy5wbHVnaW5zLnB1c2goXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9saXN0LW9mLXBsdWdpbnMuaHRtbCNkZWZpbmVwbHVnaW5cbiAgICAgICAgICAgIC8vIERlZmluZSBmcmVlIGdsb2JhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLkRlZmluZVBsdWdpbih7XG4gICAgICAgICAgICAgICAgJ3Byb2Nlc3MuZW52Jzoge1xuICAgICAgICAgICAgICAgICAgICBOT0RFX0VOVjogJ1wiZGV2ZWxvcG1lbnRcIidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbmZpZy5jYWNoZSA9IERFVjtcblxuICAgIGlmKFRFU1QpIHtcbiAgICAgICAgY29uZmlnLnN0YXRzID0ge1xuICAgICAgICAgICAgY29sb3JzOiB0cnVlLFxuICAgICAgICAgICAgcmVhc29uczogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBjb25maWcuZGVidWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXYgc2VydmVyIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbCNkZXZzZXJ2ZXJcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL3dlYnBhY2stZGV2LXNlcnZlci5odG1sXG4gICAgICovXG4gICAgY29uZmlnLmRldlNlcnZlciA9IHtcbiAgICAgICAgY29udGVudEJhc2U6ICcuL2NsaWVudC8nLFxuICAgICAgICBzdGF0czoge1xuICAgICAgICAgICAgbW9kdWxlczogZmFsc2UsXG4gICAgICAgICAgICBjYWNoZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sb3JzOiB0cnVlLFxuICAgICAgICAgICAgY2h1bms6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uZmlnLm5vZGUgPSB7XG4gICAgICAgIGdsb2JhbDogJ3dpbmRvdycsXG4gICAgICAgIHByb2Nlc3M6IHRydWUsXG4gICAgICAgIGNyeXB0bzogJ2VtcHR5JyxcbiAgICAgICAgY2xlYXJJbW1lZGlhdGU6IGZhbHNlLFxuICAgICAgICBzZXRJbW1lZGlhdGU6IGZhbHNlXG4gICAgfTtcblxuICAgIHJldHVybiBjb25maWc7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "webpack.make.js"
      ],
      "names": [
        "webpack",
        "require",
        "autoprefixer",
        "HtmlWebpackPlugin",
        "HtmlWebpackHarddiskPlugin",
        "ExtractTextPlugin",
        "CommonsChunkPlugin",
        "optimize",
        "fs",
        "path",
        "ForkCheckerPlugin",
        "module",
        "exports",
        "makeWebpackConfig",
        "options",
        "BUILD",
        "TEST",
        "E2E",
        "DEV",
        "config",
        "entry",
        "app",
        "polyfills",
        "vendor",
        "output",
        "join",
        "__dirname",
        "publicPath",
        "filename",
        "chunkFilename",
        "resolve",
        "modulesDirectories",
        "extensions",
        "devtool",
        "babel",
        "shouldPrintComment",
        "commentContents",
        "test",
        "preLoaders",
        "loaders",
        "loader",
        "include",
        "query",
        "tsconfig",
        "extract",
        "postLoaders",
        "push",
        "exclude",
        "postcss",
        "browsers",
        "plugins",
        "disable",
        "name",
        "minChunks",
        "Infinity",
        "htmlConfig",
        "template",
        "alwaysWriteToDisk",
        "NoErrorsPlugin",
        "DedupePlugin",
        "UglifyJsPlugin",
        "mangle",
        "comments",
        "compress",
        "warnings",
        "DefinePlugin",
        "NODE_ENV",
        "cache",
        "stats",
        "colors",
        "reasons",
        "debug",
        "devServer",
        "contentBase",
        "modules",
        "cached",
        "chunk",
        "node",
        "global",
        "process",
        "crypto",
        "clearImmediate",
        "setImmediate"
      ],
      "mappings": "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",
      "file": "webpack.make.js",
      "sourceRoot": "/home/nitrous",
      "sourcesContent": [
        "'use strict';\n/*eslint-env node*/\nvar webpack = require('webpack');\nvar autoprefixer = require('autoprefixer');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar HtmlWebpackHarddiskPlugin = require('html-webpack-harddisk-plugin');\nvar ExtractTextPlugin = require('extract-text-webpack-plugin');\nvar CommonsChunkPlugin = webpack.optimize.CommonsChunkPlugin;\nvar fs = require('fs');\nvar path = require('path');\nvar ForkCheckerPlugin = require('awesome-typescript-loader').ForkCheckerPlugin;\n\nmodule.exports = function makeWebpackConfig(options) {\n    /**\n     * Environment type\n     * BUILD is for generating minified builds\n     * TEST is for generating test builds\n     */\n    var BUILD = !!options.BUILD;\n    var TEST = !!options.TEST;\n    var E2E = !!options.E2E;\n    var DEV = !!options.DEV;\n\n    /**\n     * Config\n     * Reference: http://webpack.github.io/docs/configuration.html\n     * This is the object where all configuration gets set\n     */\n    var config = {};\n\n    /**\n     * Entry\n     * Reference: http://webpack.github.io/docs/configuration.html#entry\n     * Should be an empty object if it's generating a test build\n     * Karma will set this when it's a test build\n     */\n    if(TEST) {\n        config.entry = {};\n    } else {\n        config.entry = {\n            app: './client/app/app.js',\n            polyfills: './client/polyfills.js',\n            vendor: [\n                'angular',\n                'angular-animate',\n                'angular-aria',\n                'angular-cookies',\n                'angular-resource',\n\n                'angular-sanitize',\n                'angular-socket-io',\n                'angular-ui-bootstrap',\n                'angular-ui-router',\n                'lodash'\n            ]\n        };\n    }\n\n    /**\n     * Output\n     * Reference: http://webpack.github.io/docs/configuration.html#output\n     * Should be an empty object if it's generating a test build\n     * Karma will handle setting it up for you when it's a test build\n     */\n    if(TEST) {\n        config.output = {};\n    } else {\n        config.output = {\n            // Absolute output directory\n            path: BUILD ? path.join(__dirname, '/dist/client/') : path.join(__dirname, '/.tmp/'),\n\n            // Output path from the view of the page\n            // Uses webpack-dev-server in development\n            publicPath: BUILD || DEV || E2E ? '/' : `http://localhost:${8080}/`,\n            //publicPath: BUILD ? '/' : 'http://localhost:' + env.port + '/',\n\n            // Filename for entry points\n            // Only adds hash in build mode\n            filename: BUILD ? '[name].[hash].js' : '[name].bundle.js',\n\n            // Filename for non-entry points\n            // Only adds hash in build mode\n            chunkFilename: BUILD ? '[name].[hash].js' : '[name].bundle.js'\n        };\n    }\n\n\n\n    if(TEST) {\n        config.resolve = {\n            modulesDirectories: [\n                'node_modules'\n            ],\n            extensions: ['', '.js', '.ts']\n        };\n    }\n\n    /**\n     * Devtool\n     * Reference: http://webpack.github.io/docs/configuration.html#devtool\n     * Type of sourcemap to use per build type\n     */\n    if(TEST) {\n        config.devtool = 'inline-source-map';\n    } else if(BUILD || DEV) {\n        config.devtool = 'source-map';\n    } else {\n        config.devtool = 'eval';\n    }\n\n    /**\n     * Loaders\n     * Reference: http://webpack.github.io/docs/configuration.html#module-loaders\n     * List: http://webpack.github.io/docs/list-of-loaders.html\n     * This handles most of the magic responsible for converting modules\n     */\n\n\n    config.babel = {\n        shouldPrintComment(commentContents) {\n            // keep `/*@ngInject*/`\n            return /@ngInject/.test(commentContents);\n        }\n    }\n\n    // Initialize module\n    config.module = {\n        preLoaders: [],\n        loaders: [{\n            // JS LOADER\n            // Reference: https://github.com/babel/babel-loader\n            // Transpile .js files using babel-loader\n            // Compiles ES6 and ES7 into ES5 code\n            test: /\\.js$/,\n            loader: 'babel',\n            include: [\n                path.resolve(__dirname, 'client/'),\n                path.resolve(__dirname, 'node_modules/lodash-es/')\n            ]\n        }, {\n            // TS LOADER\n            // Reference: https://github.com/s-panferov/awesome-typescript-loader\n            // Transpile .ts files using awesome-typescript-loader\n            test: /\\.ts$/,\n            loader: 'awesome-typescript-loader',\n            query: {\n                tsconfig: path.resolve(__dirname, 'tsconfig.client.json')\n            },\n            include: [\n                path.resolve(__dirname, 'client/')\n            ]\n        }, {\n            // ASSET LOADER\n            // Reference: https://github.com/webpack/file-loader\n            // Copy png, jpg, jpeg, gif, svg, woff, woff2, ttf, eot files to output\n            // Rename the file using the asset hash\n            // Pass along the updated reference to your code\n            // You can add here any file extension you want to get copied to your output\n            test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)([\\?]?.*)$/,\n            loader: 'file'\n        }, {\n            // Pug HTML LOADER\n            // Reference: https://github.com/willyelm/pug-html-loader\n            // Allow loading Pug throw js\n            test: /\\.(jade|pug)$/,\n            loaders: ['pug-html']\n        }, {\n\n            // CSS LOADER\n            // Reference: https://github.com/webpack/css-loader\n            // Allow loading css through js\n            //\n            // Reference: https://github.com/postcss/postcss-loader\n            // Postprocess your css with PostCSS plugins\n            test: /\\.css$/,\n            loader: !TEST\n                // Reference: https://github.com/webpack/extract-text-webpack-plugin\n                // Extract css files in production builds\n                //\n                // Reference: https://github.com/webpack/style-loader\n                // Use style-loader in development for hot-loading\n                ? ExtractTextPlugin.extract('style', 'css?sourceMap!postcss')\n                // Reference: https://github.com/webpack/null-loader\n                // Skip loading css in test mode\n                : 'null'\n        }, {\n\n\n            // Stylus LOADER\n            // Reference: https://github.com/\n            test: /\\.styl$/,\n            loaders: ['style', 'css', 'stylus'],\n            include: [\n                path.resolve(__dirname, 'node_modules/bootstrap-styl/bootstrap/*.styl'),\n                path.resolve(__dirname, 'client/app/app.styl')\n            ]\n        }]\n    };\n\n    config.module.postLoaders = [{\n        test: /\\.js$/,\n        loader: 'ng-annotate?single_quotes'\n    }];\n\n    // ISPARTA INSTRUMENTER LOADER\n    // Reference: https://github.com/ColCh/isparta-instrumenter-loader\n    // Instrument JS files with Isparta for subsequent code coverage reporting\n    // Skips node_modules and spec files\n    if(TEST) {\n        config.module.preLoaders.push({\n            //delays coverage til after tests are run, fixing transpiled source coverage error\n            test: /\\.js$/,\n            exclude: /(node_modules|spec\\.js|mock\\.js)/,\n            loader: 'isparta-instrumenter',\n            query: {\n                babel: {\n                    // optional: ['runtime', 'es7.classProperties', 'es7.decorators']\n                }\n            }\n        });\n    }\n\n\n    /**\n     * PostCSS\n     * Reference: https://github.com/postcss/autoprefixer-core\n     * Add vendor prefixes to your css\n     */\n    config.postcss = [\n        autoprefixer({\n            browsers: ['last 2 version']\n        })\n    ];\n\n    /**\n     * Plugins\n     * Reference: http://webpack.github.io/docs/configuration.html#plugins\n     * List: http://webpack.github.io/docs/list-of-plugins.html\n     */\n    config.plugins = [\n        /*\n         * Plugin: ForkCheckerPlugin\n         * Description: Do type checking in a separate process, so webpack don't need to wait.\n         *\n         * See: https://github.com/s-panferov/awesome-typescript-loader#forkchecker-boolean-defaultfalse\n         */\n        new ForkCheckerPlugin(),\n\n        // Reference: https://github.com/webpack/extract-text-webpack-plugin\n        // Extract css files\n        // Disabled when in test mode or not in build mode\n        new ExtractTextPlugin('[name].[hash].css', {\n            disable: !BUILD || TEST\n        })\n    ];\n\n    if(!TEST) {\n        config.plugins.push(new CommonsChunkPlugin({\n            name: 'vendor',\n\n            // filename: \"vendor.js\"\n            // (Give the chunk a different name)\n\n            minChunks: Infinity\n            // (with more entries, this ensures that no other module\n            //  goes into the vendor chunk)\n        }));\n    }\n\n    // Skip rendering index.html in test mode\n    // Reference: https://github.com/ampedandwired/html-webpack-plugin\n    // Render index.html\n    let htmlConfig = {\n        template: 'client/_index.html',\n        filename: '../client/index.html',\n        alwaysWriteToDisk: true\n    }\n    config.plugins.push(\n      new HtmlWebpackPlugin(htmlConfig),\n      new HtmlWebpackHarddiskPlugin()\n    );\n\n    // Add build specific plugins\n    if(BUILD) {\n        config.plugins.push(\n            // Reference: http://webpack.github.io/docs/list-of-plugins.html#noerrorsplugin\n            // Only emit files when there are no errors\n            new webpack.NoErrorsPlugin(),\n\n            // Reference: http://webpack.github.io/docs/list-of-plugins.html#dedupeplugin\n            // Dedupe modules in the output\n            new webpack.optimize.DedupePlugin(),\n\n            // Reference: http://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin\n            // Minify all javascript, switch loaders to minimizing mode\n            new webpack.optimize.UglifyJsPlugin({\n                mangle: false,\n                output: {\n                    comments: false\n                },\n                compress: {\n                    warnings: false\n                }\n            }),\n\n            // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n            // Define free global variables\n            new webpack.DefinePlugin({\n                'process.env': {\n                    NODE_ENV: '\"production\"'\n                }\n            })\n        );\n    }\n\n    if(DEV) {\n        config.plugins.push(\n            // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n            // Define free global variables\n            new webpack.DefinePlugin({\n                'process.env': {\n                    NODE_ENV: '\"development\"'\n                }\n            })\n        );\n    }\n\n    config.cache = DEV;\n\n    if(TEST) {\n        config.stats = {\n            colors: true,\n            reasons: true\n        };\n        config.debug = false;\n    }\n\n    /**\n     * Dev server configuration\n     * Reference: http://webpack.github.io/docs/configuration.html#devserver\n     * Reference: http://webpack.github.io/docs/webpack-dev-server.html\n     */\n    config.devServer = {\n        contentBase: './client/',\n        stats: {\n            modules: false,\n            cached: false,\n            colors: true,\n            chunk: false\n        }\n    };\n\n    config.node = {\n        global: 'window',\n        process: true,\n        crypto: 'empty',\n        clearImmediate: false,\n        setImmediate: false\n    };\n\n    return config;\n};\n"
      ]
    },
    "mtime": 1475441232879
  },
  "{\"filename\":\"/home/nitrous/server/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "./config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "http",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "http"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/app.js",
      "filenameRelative": "/home/nitrous/server/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/home/nitrous/server",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "/**\n * Main application file\n */\n\n'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _environment = require('./config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_mongoose2.default.Promise = require('bluebird');\n\n\n// Connect to MongoDB\n_mongoose2.default.connect(_environment2.default.mongo.uri, _environment2.default.mongo.options);\n_mongoose2.default.connection.on('error', function (err) {\n  console.error('MongoDB connection error: ' + err);\n  process.exit(-1); // eslint-disable-line no-process-exit\n});\n\n// Populate databases with sample data\nif (_environment2.default.seedDB) {\n  require('./config/seed');\n}\n\n// Setup server\nvar app = (0, _express2.default)();\nvar server = _http2.default.createServer(app);\nvar socketio = require('socket.io')(server, {\n  serveClient: _environment2.default.env !== 'production',\n  path: '/socket.io-client'\n});\nrequire('./config/socketio').default(socketio);\nrequire('./config/express').default(app);\nrequire('./routes').default(app);\n\n// Start server\nfunction startServer() {\n  app.angularFullstack = server.listen(_environment2.default.port, _environment2.default.ip, function () {\n    console.log('Express server listening on %d, in %s mode', _environment2.default.port, app.get('env'));\n  });\n}\n\nsetImmediate(startServer);\n\n// Expose app\nexports = module.exports = app;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJQcm9taXNlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJtb25nbyIsInVyaSIsIm9wdGlvbnMiLCJjb25uZWN0aW9uIiwib24iLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJwcm9jZXNzIiwiZXhpdCIsInNlZWREQiIsImFwcCIsInNlcnZlciIsImNyZWF0ZVNlcnZlciIsInNvY2tldGlvIiwic2VydmVDbGllbnQiLCJlbnYiLCJwYXRoIiwiZGVmYXVsdCIsInN0YXJ0U2VydmVyIiwiYW5ndWxhckZ1bGxzdGFjayIsImxpc3RlbiIsInBvcnQiLCJpcCIsImxvZyIsImdldCIsInNldEltbWVkaWF0ZSIsImV4cG9ydHMiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBSUE7O0FBRUE7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7OztBQUZBLG1CQUFTQSxPQUFULEdBQW1CQyxRQUFRLFVBQVIsQ0FBbkI7OztBQUlBO0FBQ0EsbUJBQVNDLE9BQVQsQ0FBaUIsc0JBQU9DLEtBQVAsQ0FBYUMsR0FBOUIsRUFBbUMsc0JBQU9ELEtBQVAsQ0FBYUUsT0FBaEQ7QUFDQSxtQkFBU0MsVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBZ0MsVUFBU0MsR0FBVCxFQUFjO0FBQzVDQyxVQUFRQyxLQUFSLGdDQUEyQ0YsR0FBM0M7QUFDQUcsVUFBUUMsSUFBUixDQUFhLENBQUMsQ0FBZCxFQUY0QyxDQUUxQjtBQUNuQixDQUhEOztBQUtBO0FBQ0EsSUFBRyxzQkFBT0MsTUFBVixFQUFrQjtBQUNoQlosVUFBUSxlQUFSO0FBQ0Q7O0FBRUQ7QUFDQSxJQUFJYSxNQUFNLHdCQUFWO0FBQ0EsSUFBSUMsU0FBUyxlQUFLQyxZQUFMLENBQWtCRixHQUFsQixDQUFiO0FBQ0EsSUFBSUcsV0FBV2hCLFFBQVEsV0FBUixFQUFxQmMsTUFBckIsRUFBNkI7QUFDMUNHLGVBQWEsc0JBQU9DLEdBQVAsS0FBZSxZQURjO0FBRTFDQyxRQUFNO0FBRm9DLENBQTdCLENBQWY7QUFJQW5CLFFBQVEsbUJBQVIsRUFBNkJvQixPQUE3QixDQUFxQ0osUUFBckM7QUFDQWhCLFFBQVEsa0JBQVIsRUFBNEJvQixPQUE1QixDQUFvQ1AsR0FBcEM7QUFDQWIsUUFBUSxVQUFSLEVBQW9Cb0IsT0FBcEIsQ0FBNEJQLEdBQTVCOztBQUVBO0FBQ0EsU0FBU1EsV0FBVCxHQUF1QjtBQUNyQlIsTUFBSVMsZ0JBQUosR0FBdUJSLE9BQU9TLE1BQVAsQ0FBYyxzQkFBT0MsSUFBckIsRUFBMkIsc0JBQU9DLEVBQWxDLEVBQXNDLFlBQVc7QUFDdEVqQixZQUFRa0IsR0FBUixDQUFZLDRDQUFaLEVBQTBELHNCQUFPRixJQUFqRSxFQUF1RVgsSUFBSWMsR0FBSixDQUFRLEtBQVIsQ0FBdkU7QUFDRCxHQUZzQixDQUF2QjtBQUdEOztBQUVEQyxhQUFhUCxXQUFiOztBQUVBO0FBQ0FRLFVBQVVDLE9BQU9ELE9BQVAsR0FBaUJoQixHQUEzQiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1haW4gYXBwbGljYXRpb24gZmlsZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xubW9uZ29vc2UuUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnL2Vudmlyb25tZW50JztcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuXG4vLyBDb25uZWN0IHRvIE1vbmdvREJcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLm1vbmdvLnVyaSwgY29uZmlnLm1vbmdvLm9wdGlvbnMpO1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCBmdW5jdGlvbihlcnIpIHtcbiAgY29uc29sZS5lcnJvcihgTW9uZ29EQiBjb25uZWN0aW9uIGVycm9yOiAke2Vycn1gKTtcbiAgcHJvY2Vzcy5leGl0KC0xKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm9jZXNzLWV4aXRcbn0pO1xuXG4vLyBQb3B1bGF0ZSBkYXRhYmFzZXMgd2l0aCBzYW1wbGUgZGF0YVxuaWYoY29uZmlnLnNlZWREQikge1xuICByZXF1aXJlKCcuL2NvbmZpZy9zZWVkJyk7XG59XG5cbi8vIFNldHVwIHNlcnZlclxudmFyIGFwcCA9IGV4cHJlc3MoKTtcbnZhciBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xudmFyIHNvY2tldGlvID0gcmVxdWlyZSgnc29ja2V0LmlvJykoc2VydmVyLCB7XG4gIHNlcnZlQ2xpZW50OiBjb25maWcuZW52ICE9PSAncHJvZHVjdGlvbicsXG4gIHBhdGg6ICcvc29ja2V0LmlvLWNsaWVudCdcbn0pO1xucmVxdWlyZSgnLi9jb25maWcvc29ja2V0aW8nKS5kZWZhdWx0KHNvY2tldGlvKTtcbnJlcXVpcmUoJy4vY29uZmlnL2V4cHJlc3MnKS5kZWZhdWx0KGFwcCk7XG5yZXF1aXJlKCcuL3JvdXRlcycpLmRlZmF1bHQoYXBwKTtcblxuLy8gU3RhcnQgc2VydmVyXG5mdW5jdGlvbiBzdGFydFNlcnZlcigpIHtcbiAgYXBwLmFuZ3VsYXJGdWxsc3RhY2sgPSBzZXJ2ZXIubGlzdGVuKGNvbmZpZy5wb3J0LCBjb25maWcuaXAsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdFeHByZXNzIHNlcnZlciBsaXN0ZW5pbmcgb24gJWQsIGluICVzIG1vZGUnLCBjb25maWcucG9ydCwgYXBwLmdldCgnZW52JykpO1xuICB9KTtcbn1cblxuc2V0SW1tZWRpYXRlKHN0YXJ0U2VydmVyKTtcblxuLy8gRXhwb3NlIGFwcFxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "Promise",
        "require",
        "connect",
        "mongo",
        "uri",
        "options",
        "connection",
        "on",
        "err",
        "console",
        "error",
        "process",
        "exit",
        "seedDB",
        "app",
        "server",
        "createServer",
        "socketio",
        "serveClient",
        "env",
        "path",
        "default",
        "startServer",
        "angularFullstack",
        "listen",
        "port",
        "ip",
        "log",
        "get",
        "setImmediate",
        "exports",
        "module"
      ],
      "mappings": "AAAA;;;;AAIA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAFA,mBAASA,OAAT,GAAmBC,QAAQ,UAAR,CAAnB;;;AAIA;AACA,mBAASC,OAAT,CAAiB,sBAAOC,KAAP,CAAaC,GAA9B,EAAmC,sBAAOD,KAAP,CAAaE,OAAhD;AACA,mBAASC,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,UAASC,GAAT,EAAc;AAC5CC,UAAQC,KAAR,gCAA2CF,GAA3C;AACAG,UAAQC,IAAR,CAAa,CAAC,CAAd,EAF4C,CAE1B;AACnB,CAHD;;AAKA;AACA,IAAG,sBAAOC,MAAV,EAAkB;AAChBZ,UAAQ,eAAR;AACD;;AAED;AACA,IAAIa,MAAM,wBAAV;AACA,IAAIC,SAAS,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;AACA,IAAIG,WAAWhB,QAAQ,WAAR,EAAqBc,MAArB,EAA6B;AAC1CG,eAAa,sBAAOC,GAAP,KAAe,YADc;AAE1CC,QAAM;AAFoC,CAA7B,CAAf;AAIAnB,QAAQ,mBAAR,EAA6BoB,OAA7B,CAAqCJ,QAArC;AACAhB,QAAQ,kBAAR,EAA4BoB,OAA5B,CAAoCP,GAApC;AACAb,QAAQ,UAAR,EAAoBoB,OAApB,CAA4BP,GAA5B;;AAEA;AACA,SAASQ,WAAT,GAAuB;AACrBR,MAAIS,gBAAJ,GAAuBR,OAAOS,MAAP,CAAc,sBAAOC,IAArB,EAA2B,sBAAOC,EAAlC,EAAsC,YAAW;AACtEjB,YAAQkB,GAAR,CAAY,4CAAZ,EAA0D,sBAAOF,IAAjE,EAAuEX,IAAIc,GAAJ,CAAQ,KAAR,CAAvE;AACD,GAFsB,CAAvB;AAGD;;AAEDC,aAAaP,WAAb;;AAEA;AACAQ,UAAUC,OAAOD,OAAP,GAAiBhB,GAA3B",
      "file": "app.js",
      "sourceRoot": "/home/nitrous/server",
      "sourcesContent": [
        "/**\n * Main application file\n */\n\n'use strict';\n\nimport express from 'express';\nimport mongoose from 'mongoose';\nmongoose.Promise = require('bluebird');\nimport config from './config/environment';\nimport http from 'http';\n\n// Connect to MongoDB\nmongoose.connect(config.mongo.uri, config.mongo.options);\nmongoose.connection.on('error', function(err) {\n  console.error(`MongoDB connection error: ${err}`);\n  process.exit(-1); // eslint-disable-line no-process-exit\n});\n\n// Populate databases with sample data\nif(config.seedDB) {\n  require('./config/seed');\n}\n\n// Setup server\nvar app = express();\nvar server = http.createServer(app);\nvar socketio = require('socket.io')(server, {\n  serveClient: config.env !== 'production',\n  path: '/socket.io-client'\n});\nrequire('./config/socketio').default(socketio);\nrequire('./config/express').default(app);\nrequire('./routes').default(app);\n\n// Start server\nfunction startServer() {\n  app.angularFullstack = server.listen(config.port, config.ip, function() {\n    console.log('Express server listening on %d, in %s mode', config.port, app.get('env'));\n  });\n}\n\nsetImmediate(startServer);\n\n// Expose app\nexports = module.exports = app;\n"
      ]
    },
    "mtime": 1475441232367
  },
  "{\"filename\":\"/home/nitrous/server/config/environment/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/config/environment\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/config/environment/index.js",
      "filenameRelative": "/home/nitrous/server/config/environment/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/config/environment",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/config/environment",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n/*eslint no-process-env:0*/\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*function requiredProcessEnv(name) {\n  if(!process.env[name]) {\n    throw new Error('You must set the ' + name + ' environment variable');\n  }\n  return process.env[name];\n}*/\n\n// All configurations will extend these options\n// ============================================\nvar all = {\n  env: process.env.NODE_ENV,\n\n  // Root path of server\n  root: _path2.default.normalize(__dirname + '/../../..'),\n\n  // Browser-sync port\n  browserSyncPort: process.env.BROWSER_SYNC_PORT || 3000,\n  browserSyncPortUi: process.env.BROWSER_SYNC_PORT_UI || 4000,\n\n  // Server port\n  port: process.env.PORT || 9000,\n\n  // Server IP\n  ip: process.env.IP || '0.0.0.0',\n\n  // Should we populate the DB with sample data?\n  seedDB: false,\n\n  // Secret for session, you will want to change this and make it an environment variable\n  secrets: {\n    session: 'nitrous-secret'\n  },\n\n  // MongoDB connection options\n  mongo: {\n    options: {\n      db: {\n        safe: true\n      }\n    }\n  }\n};\n\n// Export the config object based on the NODE_ENV\n// ==============================================\nmodule.exports = _lodash2.default.merge(all, require('./shared'), require('./' + process.env.NODE_ENV + '.js') || {});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFsbCIsImVudiIsInByb2Nlc3MiLCJOT0RFX0VOViIsInJvb3QiLCJub3JtYWxpemUiLCJfX2Rpcm5hbWUiLCJicm93c2VyU3luY1BvcnQiLCJCUk9XU0VSX1NZTkNfUE9SVCIsImJyb3dzZXJTeW5jUG9ydFVpIiwiQlJPV1NFUl9TWU5DX1BPUlRfVUkiLCJwb3J0IiwiUE9SVCIsImlwIiwiSVAiLCJzZWVkREIiLCJzZWNyZXRzIiwic2Vzc2lvbiIsIm1vbmdvIiwib3B0aW9ucyIsImRiIiwic2FmZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtZXJnZSIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0EsSUFBSUEsTUFBTTtBQUNSQyxPQUFLQyxRQUFRRCxHQUFSLENBQVlFLFFBRFQ7O0FBR1I7QUFDQUMsUUFBTSxlQUFLQyxTQUFMLENBQWtCQyxTQUFsQixlQUpFOztBQU1SO0FBQ0FDLG1CQUFpQkwsUUFBUUQsR0FBUixDQUFZTyxpQkFBWixJQUFpQyxJQVAxQztBQVFSQyxxQkFBbUJQLFFBQVFELEdBQVIsQ0FBWVMsb0JBQVosSUFBb0MsSUFSL0M7O0FBVVI7QUFDQUMsUUFBTVQsUUFBUUQsR0FBUixDQUFZVyxJQUFaLElBQW9CLElBWGxCOztBQWFSO0FBQ0FDLE1BQUlYLFFBQVFELEdBQVIsQ0FBWWEsRUFBWixJQUFrQixTQWRkOztBQWdCUjtBQUNBQyxVQUFRLEtBakJBOztBQW1CUjtBQUNBQyxXQUFTO0FBQ1BDLGFBQVM7QUFERixHQXBCRDs7QUF3QlI7QUFDQUMsU0FBTztBQUNMQyxhQUFTO0FBQ1BDLFVBQUk7QUFDRkMsY0FBTTtBQURKO0FBREc7QUFESjtBQXpCQyxDQUFWOztBQWtDQTtBQUNBO0FBQ0FDLE9BQU9DLE9BQVAsR0FBaUIsaUJBQUVDLEtBQUYsQ0FDZnhCLEdBRGUsRUFFZnlCLFFBQVEsVUFBUixDQUZlLEVBR2ZBLGVBQWF2QixRQUFRRCxHQUFSLENBQVlFLFFBQXpCLGFBQTJDLEVBSDVCLENBQWpCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2NvbmZpZy9lbnZpcm9ubWVudCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8qZXNsaW50IG5vLXByb2Nlc3MtZW52OjAqL1xuXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbi8qZnVuY3Rpb24gcmVxdWlyZWRQcm9jZXNzRW52KG5hbWUpIHtcbiAgaWYoIXByb2Nlc3MuZW52W25hbWVdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzZXQgdGhlICcgKyBuYW1lICsgJyBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xuICB9XG4gIHJldHVybiBwcm9jZXNzLmVudltuYW1lXTtcbn0qL1xuXG4vLyBBbGwgY29uZmlndXJhdGlvbnMgd2lsbCBleHRlbmQgdGhlc2Ugb3B0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbnZhciBhbGwgPSB7XG4gIGVudjogcHJvY2Vzcy5lbnYuTk9ERV9FTlYsXG5cbiAgLy8gUm9vdCBwYXRoIG9mIHNlcnZlclxuICByb290OiBwYXRoLm5vcm1hbGl6ZShgJHtfX2Rpcm5hbWV9Ly4uLy4uLy4uYCksXG5cbiAgLy8gQnJvd3Nlci1zeW5jIHBvcnRcbiAgYnJvd3NlclN5bmNQb3J0OiBwcm9jZXNzLmVudi5CUk9XU0VSX1NZTkNfUE9SVCB8fCAzMDAwLFxuICBicm93c2VyU3luY1BvcnRVaTogcHJvY2Vzcy5lbnYuQlJPV1NFUl9TWU5DX1BPUlRfVUkgfHwgNDAwMCxcblxuICAvLyBTZXJ2ZXIgcG9ydFxuICBwb3J0OiBwcm9jZXNzLmVudi5QT1JUIHx8IDkwMDAsXG5cbiAgLy8gU2VydmVyIElQXG4gIGlwOiBwcm9jZXNzLmVudi5JUCB8fCAnMC4wLjAuMCcsXG5cbiAgLy8gU2hvdWxkIHdlIHBvcHVsYXRlIHRoZSBEQiB3aXRoIHNhbXBsZSBkYXRhP1xuICBzZWVkREI6IGZhbHNlLFxuXG4gIC8vIFNlY3JldCBmb3Igc2Vzc2lvbiwgeW91IHdpbGwgd2FudCB0byBjaGFuZ2UgdGhpcyBhbmQgbWFrZSBpdCBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZVxuICBzZWNyZXRzOiB7XG4gICAgc2Vzc2lvbjogJ25pdHJvdXMtc2VjcmV0J1xuICB9LFxuXG4gIC8vIE1vbmdvREIgY29ubmVjdGlvbiBvcHRpb25zXG4gIG1vbmdvOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgZGI6IHtcbiAgICAgICAgc2FmZTogdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLy8gRXhwb3J0IHRoZSBjb25maWcgb2JqZWN0IGJhc2VkIG9uIHRoZSBOT0RFX0VOVlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxubW9kdWxlLmV4cG9ydHMgPSBfLm1lcmdlKFxuICBhbGwsXG4gIHJlcXVpcmUoJy4vc2hhcmVkJyksXG4gIHJlcXVpcmUoYC4vJHtwcm9jZXNzLmVudi5OT0RFX0VOVn0uanNgKSB8fCB7fSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "all",
        "env",
        "process",
        "NODE_ENV",
        "root",
        "normalize",
        "__dirname",
        "browserSyncPort",
        "BROWSER_SYNC_PORT",
        "browserSyncPortUi",
        "BROWSER_SYNC_PORT_UI",
        "port",
        "PORT",
        "ip",
        "IP",
        "seedDB",
        "secrets",
        "session",
        "mongo",
        "options",
        "db",
        "safe",
        "module",
        "exports",
        "merge",
        "require"
      ],
      "mappings": "AAAA;AACA;;AAEA;;;;AACA;;;;;;AAEA;;;;;;;AAOA;AACA;AACA,IAAIA,MAAM;AACRC,OAAKC,QAAQD,GAAR,CAAYE,QADT;;AAGR;AACAC,QAAM,eAAKC,SAAL,CAAkBC,SAAlB,eAJE;;AAMR;AACAC,mBAAiBL,QAAQD,GAAR,CAAYO,iBAAZ,IAAiC,IAP1C;AAQRC,qBAAmBP,QAAQD,GAAR,CAAYS,oBAAZ,IAAoC,IAR/C;;AAUR;AACAC,QAAMT,QAAQD,GAAR,CAAYW,IAAZ,IAAoB,IAXlB;;AAaR;AACAC,MAAIX,QAAQD,GAAR,CAAYa,EAAZ,IAAkB,SAdd;;AAgBR;AACAC,UAAQ,KAjBA;;AAmBR;AACAC,WAAS;AACPC,aAAS;AADF,GApBD;;AAwBR;AACAC,SAAO;AACLC,aAAS;AACPC,UAAI;AACFC,cAAM;AADJ;AADG;AADJ;AAzBC,CAAV;;AAkCA;AACA;AACAC,OAAOC,OAAP,GAAiB,iBAAEC,KAAF,CACfxB,GADe,EAEfyB,QAAQ,UAAR,CAFe,EAGfA,eAAavB,QAAQD,GAAR,CAAYE,QAAzB,aAA2C,EAH5B,CAAjB",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/config/environment",
      "sourcesContent": [
        "'use strict';\n/*eslint no-process-env:0*/\n\nimport path from 'path';\nimport _ from 'lodash';\n\n/*function requiredProcessEnv(name) {\n  if(!process.env[name]) {\n    throw new Error('You must set the ' + name + ' environment variable');\n  }\n  return process.env[name];\n}*/\n\n// All configurations will extend these options\n// ============================================\nvar all = {\n  env: process.env.NODE_ENV,\n\n  // Root path of server\n  root: path.normalize(`${__dirname}/../../..`),\n\n  // Browser-sync port\n  browserSyncPort: process.env.BROWSER_SYNC_PORT || 3000,\n  browserSyncPortUi: process.env.BROWSER_SYNC_PORT_UI || 4000,\n\n  // Server port\n  port: process.env.PORT || 9000,\n\n  // Server IP\n  ip: process.env.IP || '0.0.0.0',\n\n  // Should we populate the DB with sample data?\n  seedDB: false,\n\n  // Secret for session, you will want to change this and make it an environment variable\n  secrets: {\n    session: 'nitrous-secret'\n  },\n\n  // MongoDB connection options\n  mongo: {\n    options: {\n      db: {\n        safe: true\n      }\n    }\n  }\n};\n\n// Export the config object based on the NODE_ENV\n// ==============================================\nmodule.exports = _.merge(\n  all,\n  require('./shared'),\n  require(`./${process.env.NODE_ENV}.js`) || {});\n"
      ]
    },
    "mtime": 1475492569046
  },
  "{\"filename\":\"/home/nitrous/server/config/environment/shared.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/config/environment\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/config/environment/shared.js",
      "filenameRelative": "/home/nitrous/server/config/environment/shared.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "shared.js",
      "sourceFileName": "shared.js",
      "sourceRoot": "/home/nitrous/server/config/environment",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/config/environment",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "shared"
    },
    "ignored": false,
    "code": "'use strict';\n\nexports = module.exports = {\n  // List of user roles\n  userRoles: ['guest', 'user', 'admin']\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlZC5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwibW9kdWxlIiwidXNlclJvbGVzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsVUFBVUMsT0FBT0QsT0FBUCxHQUFpQjtBQUN6QjtBQUNBRSxhQUFXLENBQUMsT0FBRCxFQUFVLE1BQVYsRUFBa0IsT0FBbEI7QUFGYyxDQUEzQiIsImZpbGUiOiJzaGFyZWQuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvY29uZmlnL2Vudmlyb25tZW50Iiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIExpc3Qgb2YgdXNlciByb2xlc1xuICB1c2VyUm9sZXM6IFsnZ3Vlc3QnLCAndXNlcicsICdhZG1pbiddXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "shared.js"
      ],
      "names": [
        "exports",
        "module",
        "userRoles"
      ],
      "mappings": "AAAA;;AAEAA,UAAUC,OAAOD,OAAP,GAAiB;AACzB;AACAE,aAAW,CAAC,OAAD,EAAU,MAAV,EAAkB,OAAlB;AAFc,CAA3B",
      "file": "shared.js",
      "sourceRoot": "/home/nitrous/server/config/environment",
      "sourcesContent": [
        "'use strict';\n\nexports = module.exports = {\n  // List of user roles\n  userRoles: ['guest', 'user', 'admin']\n};\n"
      ]
    },
    "mtime": 1475441232383
  },
  "{\"filename\":\"/home/nitrous/server/config/environment/development.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/config/environment\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/config/environment/development.js",
      "filenameRelative": "/home/nitrous/server/config/environment/development.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "development.js",
      "sourceFileName": "development.js",
      "sourceRoot": "/home/nitrous/server/config/environment",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/config/environment",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "development"
    },
    "ignored": false,
    "code": "'use strict';\n/*eslint no-process-env:0*/\n\n// Development specific configuration\n// ==================================\n\nmodule.exports = {\n\n  // MongoDB connection options\n  mongo: {\n    uri: 'mongodb://localhost/nitrous-dev'\n  },\n\n  // Seed database on startup\n  seedDB: true\n\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldmVsb3BtZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtb25nbyIsInVyaSIsInNlZWREQiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUNBQSxPQUFPQyxPQUFQLEdBQWlCOztBQUVmO0FBQ0FDLFNBQU87QUFDTEMsU0FBSztBQURBLEdBSFE7O0FBT2Y7QUFDQUMsVUFBUTs7QUFSTyxDQUFqQiIsImZpbGUiOiJkZXZlbG9wbWVudC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9uaXRyb3VzL3NlcnZlci9jb25maWcvZW52aXJvbm1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vKmVzbGludCBuby1wcm9jZXNzLWVudjowKi9cblxuLy8gRGV2ZWxvcG1lbnQgc3BlY2lmaWMgY29uZmlndXJhdGlvblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgLy8gTW9uZ29EQiBjb25uZWN0aW9uIG9wdGlvbnNcbiAgbW9uZ286IHtcbiAgICB1cmk6ICdtb25nb2RiOi8vbG9jYWxob3N0L25pdHJvdXMtZGV2J1xuICB9LFxuXG4gIC8vIFNlZWQgZGF0YWJhc2Ugb24gc3RhcnR1cFxuICBzZWVkREI6IHRydWVcblxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "development.js"
      ],
      "names": [
        "module",
        "exports",
        "mongo",
        "uri",
        "seedDB"
      ],
      "mappings": "AAAA;AACA;;AAEA;AACA;;AACAA,OAAOC,OAAP,GAAiB;;AAEf;AACAC,SAAO;AACLC,SAAK;AADA,GAHQ;;AAOf;AACAC,UAAQ;;AARO,CAAjB",
      "file": "development.js",
      "sourceRoot": "/home/nitrous/server/config/environment",
      "sourcesContent": [
        "'use strict';\n/*eslint no-process-env:0*/\n\n// Development specific configuration\n// ==================================\nmodule.exports = {\n\n  // MongoDB connection options\n  mongo: {\n    uri: 'mongodb://localhost/nitrous-dev'\n  },\n\n  // Seed database on startup\n  seedDB: true\n\n};\n"
      ]
    },
    "mtime": 1475441232375
  },
  "{\"filename\":\"/home/nitrous/server/config/seed.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../api/user/user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/config/seed.js",
      "filenameRelative": "/home/nitrous/server/config/seed.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "seed.js",
      "sourceFileName": "seed.js",
      "sourceRoot": "/home/nitrous/server/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "seed"
    },
    "ignored": false,
    "code": "/**\n * Populate DB with sample data on server start\n * to disable, edit config/environment/index.js, and set `seedDB: false`\n */\n\n'use strict';\n\nvar _user = require('../api/user/user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_user2.default.find({}).remove().then(function () {\n  _user2.default.create({\n    provider: 'local',\n    name: 'Test User',\n    email: 'test@example.com',\n    password: 'test'\n  }, {\n    provider: 'local',\n    role: 'admin',\n    name: 'Admin',\n    email: 'admin@example.com',\n    password: 'admin'\n  }).then(function () {\n    console.log('finished populating users');\n  });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlZWQuanMiXSwibmFtZXMiOlsiZmluZCIsInJlbW92ZSIsInRoZW4iLCJjcmVhdGUiLCJwcm92aWRlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQUtBOztBQUNBOzs7Ozs7QUFJQSxlQUFLQSxJQUFMLENBQVUsRUFBVixFQUFjQyxNQUFkLEdBQ0dDLElBREgsQ0FDUSxZQUFNO0FBQ1YsaUJBQUtDLE1BQUwsQ0FBWTtBQUNWQyxjQUFVLE9BREE7QUFFVkMsVUFBTSxXQUZJO0FBR1ZDLFdBQU8sa0JBSEc7QUFJVkMsY0FBVTtBQUpBLEdBQVosRUFLRztBQUNESCxjQUFVLE9BRFQ7QUFFREksVUFBTSxPQUZMO0FBR0RILFVBQU0sT0FITDtBQUlEQyxXQUFPLG1CQUpOO0FBS0RDLGNBQVU7QUFMVCxHQUxILEVBWUNMLElBWkQsQ0FZTSxZQUFNO0FBQ1ZPLFlBQVFDLEdBQVIsQ0FBWSwyQkFBWjtBQUNELEdBZEQ7QUFlRCxDQWpCSCIsImZpbGUiOiJzZWVkLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUG9wdWxhdGUgREIgd2l0aCBzYW1wbGUgZGF0YSBvbiBzZXJ2ZXIgc3RhcnRcbiAqIHRvIGRpc2FibGUsIGVkaXQgY29uZmlnL2Vudmlyb25tZW50L2luZGV4LmpzLCBhbmQgc2V0IGBzZWVkREI6IGZhbHNlYFxuICovXG5cbid1c2Ugc3RyaWN0JztcbmltcG9ydCBVc2VyIGZyb20gJy4uL2FwaS91c2VyL3VzZXIubW9kZWwnO1xuXG5cblxuVXNlci5maW5kKHt9KS5yZW1vdmUoKVxuICAudGhlbigoKSA9PiB7XG4gICAgVXNlci5jcmVhdGUoe1xuICAgICAgcHJvdmlkZXI6ICdsb2NhbCcsXG4gICAgICBuYW1lOiAnVGVzdCBVc2VyJyxcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICBwYXNzd29yZDogJ3Rlc3QnXG4gICAgfSwge1xuICAgICAgcHJvdmlkZXI6ICdsb2NhbCcsXG4gICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgbmFtZTogJ0FkbWluJyxcbiAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdhZG1pbidcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdmaW5pc2hlZCBwb3B1bGF0aW5nIHVzZXJzJyk7XG4gICAgfSk7XG4gIH0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "seed.js"
      ],
      "names": [
        "find",
        "remove",
        "then",
        "create",
        "provider",
        "name",
        "email",
        "password",
        "role",
        "console",
        "log"
      ],
      "mappings": "AAAA;;;;;AAKA;;AACA;;;;;;AAIA,eAAKA,IAAL,CAAU,EAAV,EAAcC,MAAd,GACGC,IADH,CACQ,YAAM;AACV,iBAAKC,MAAL,CAAY;AACVC,cAAU,OADA;AAEVC,UAAM,WAFI;AAGVC,WAAO,kBAHG;AAIVC,cAAU;AAJA,GAAZ,EAKG;AACDH,cAAU,OADT;AAEDI,UAAM,OAFL;AAGDH,UAAM,OAHL;AAIDC,WAAO,mBAJN;AAKDC,cAAU;AALT,GALH,EAYCL,IAZD,CAYM,YAAM;AACVO,YAAQC,GAAR,CAAY,2BAAZ;AACD,GAdD;AAeD,CAjBH",
      "file": "seed.js",
      "sourceRoot": "/home/nitrous/server/config",
      "sourcesContent": [
        "/**\n * Populate DB with sample data on server start\n * to disable, edit config/environment/index.js, and set `seedDB: false`\n */\n\n'use strict';\nimport User from '../api/user/user.model';\n\n\n\nUser.find({}).remove()\n  .then(() => {\n    User.create({\n      provider: 'local',\n      name: 'Test User',\n      email: 'test@example.com',\n      password: 'test'\n    }, {\n      provider: 'local',\n      role: 'admin',\n      name: 'Admin',\n      email: 'admin@example.com',\n      password: 'admin'\n    })\n    .then(() => {\n      console.log('finished populating users');\n    });\n  });\n"
      ]
    },
    "mtime": 1475491295834
  },
  "{\"filename\":\"/home/nitrous/server/api/thing/thing.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/thing\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/thing/thing.model.js",
      "filenameRelative": "/home/nitrous/server/api/thing/thing.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "thing.model.js",
      "sourceFileName": "thing.model.js",
      "sourceRoot": "/home/nitrous/server/api/thing",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/thing",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "thing.model"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ThingSchema = new _mongoose2.default.Schema({\n  name: String,\n  info: String,\n  active: Boolean\n});\n\nexports.default = _mongoose2.default.model('Thing', ThingSchema);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoaW5nLm1vZGVsLmpzIl0sIm5hbWVzIjpbIlRoaW5nU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsImluZm8iLCJhY3RpdmUiLCJCb29sZWFuIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7Ozs7O0FBRUEsSUFBSUEsY0FBYyxJQUFJLG1CQUFTQyxNQUFiLENBQW9CO0FBQ3BDQyxRQUFNQyxNQUQ4QjtBQUVwQ0MsUUFBTUQsTUFGOEI7QUFHcENFLFVBQVFDO0FBSDRCLENBQXBCLENBQWxCOztrQkFNZSxtQkFBU0MsS0FBVCxDQUFlLE9BQWYsRUFBd0JQLFdBQXhCLEMiLCJmaWxlIjoidGhpbmcubW9kZWwuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL3RoaW5nIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG52YXIgVGhpbmdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogU3RyaW5nLFxuICBpbmZvOiBTdHJpbmcsXG4gIGFjdGl2ZTogQm9vbGVhblxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCdUaGluZycsIFRoaW5nU2NoZW1hKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "thing.model.js"
      ],
      "names": [
        "ThingSchema",
        "Schema",
        "name",
        "String",
        "info",
        "active",
        "Boolean",
        "model"
      ],
      "mappings": "AAAA;;;;;;AAEA;;;;;;AAEA,IAAIA,cAAc,IAAI,mBAASC,MAAb,CAAoB;AACpCC,QAAMC,MAD8B;AAEpCC,QAAMD,MAF8B;AAGpCE,UAAQC;AAH4B,CAApB,CAAlB;;kBAMe,mBAASC,KAAT,CAAe,OAAf,EAAwBP,WAAxB,C",
      "file": "thing.model.js",
      "sourceRoot": "/home/nitrous/server/api/thing",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\n\nvar ThingSchema = new mongoose.Schema({\n  name: String,\n  info: String,\n  active: Boolean\n});\n\nexport default mongoose.model('Thing', ThingSchema);\n"
      ]
    },
    "mtime": 1475441233347
  },
  "{\"filename\":\"/home/nitrous/server/api/user/user.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "crypto",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "crypto"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default",
              "Schema"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              },
              {
                "kind": "named",
                "imported": "Schema",
                "local": "Schema"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/user/user.model.js",
      "filenameRelative": "/home/nitrous/server/api/user/user.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "user.model.js",
      "sourceFileName": "user.model.js",
      "sourceRoot": "/home/nitrous/server/api/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "user.model"
    },
    "ignored": false,
    "code": "'use strict';\n/*eslint no-invalid-this:0*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _crypto = require('crypto');\n\nvar _crypto2 = _interopRequireDefault(_crypto);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_mongoose2.default.Promise = require('bluebird');\n\nvar UserSchema = new _mongoose.Schema({\n  name: String,\n  role: {\n    type: String,\n    default: 'user'\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  provider: String,\n  salt: String,\n  successfulDrawings: Number,\n  successfulGuesses: Number\n});\n\n/**\n * Virtuals\n */\n\n// Public profile information\nUserSchema.virtual('profile').get(function () {\n  return {\n    name: this.name,\n    role: this.role\n  };\n});\n\n// Non-sensitive info we'll be putting in the token\nUserSchema.virtual('token').get(function () {\n  return {\n    _id: this._id,\n    role: this.role\n  };\n});\n\n/**\n * Validations\n */\n\n// Validate empty password\nUserSchema.path('password').validate(function (password) {\n  return password.length;\n}, 'Password cannot be blank');\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Pre-save hook\n */\nUserSchema.pre('save', function (next) {\n  var _this = this;\n\n  // Handle new/update passwords\n  if (!this.isModified('password')) {\n    return next();\n  }\n\n  if (!validatePresenceOf(this.password)) {\n    return next(new Error('Invalid password'));\n  }\n\n  // Make salt with a callback\n  this.makeSalt(function (saltErr, salt) {\n    if (saltErr) {\n      return next(saltErr);\n    }\n    _this.salt = salt;\n    _this.encryptPassword(_this.password, function (encryptErr, hashedPassword) {\n      if (encryptErr) {\n        return next(encryptErr);\n      }\n      _this.password = hashedPassword;\n      return next();\n    });\n  });\n});\n\n/**\n * Methods\n */\nUserSchema.methods = {\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {Boolean}\n   * @api public\n   */\n  authenticate: function authenticate(password, callback) {\n    var _this2 = this;\n\n    if (!callback) {\n      return this.password === this.encryptPassword(password);\n    }\n\n    this.encryptPassword(password, function (err, pwdGen) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_this2.password === pwdGen) {\n        return callback(null, true);\n      } else {\n        return callback(null, false);\n      }\n    });\n  },\n\n\n  /**\n   * Make salt\n   *\n   * @param {Number} [byteSize] - Optional salt byte size, default to 16\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  makeSalt: function makeSalt(byteSize, callback) {\n    var defaultByteSize = 16;\n\n    if (typeof arguments[0] === 'function') {\n      callback = arguments[0];\n      byteSize = defaultByteSize;\n    } else if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    } else {\n      throw new Error('Missing Callback');\n    }\n\n    if (!byteSize) {\n      byteSize = defaultByteSize;\n    }\n\n    return _crypto2.default.randomBytes(byteSize, function (err, salt) {\n      if (err) {\n        return callback(err);\n      } else {\n        return callback(null, salt.toString('base64'));\n      }\n    });\n  },\n\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  encryptPassword: function encryptPassword(password, callback) {\n    if (!password || !this.salt) {\n      if (!callback) {\n        return null;\n      } else {\n        return callback('Missing password or salt');\n      }\n    }\n\n    var defaultIterations = 10000;\n    var defaultKeyLength = 64;\n    var salt = new Buffer(this.salt, 'base64');\n\n    if (!callback) {\n      return _crypto2.default.pbkdf2Sync(password, salt, defaultIterations, defaultKeyLength).toString('base64');\n    }\n\n    return _crypto2.default.pbkdf2(password, salt, defaultIterations, defaultKeyLength, function (err, key) {\n      if (err) {\n        return callback(err);\n      } else {\n        return callback(null, key.toString('base64'));\n      }\n    });\n  }\n};\n\nexports.default = _mongoose2.default.model('User', UserSchema);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiUHJvbWlzZSIsInJlcXVpcmUiLCJVc2VyU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsInJvbGUiLCJ0eXBlIiwiZGVmYXVsdCIsInBhc3N3b3JkIiwicmVxdWlyZWQiLCJwcm92aWRlciIsInNhbHQiLCJzdWNjZXNzZnVsRHJhd2luZ3MiLCJOdW1iZXIiLCJzdWNjZXNzZnVsR3Vlc3NlcyIsInZpcnR1YWwiLCJnZXQiLCJfaWQiLCJwYXRoIiwidmFsaWRhdGUiLCJsZW5ndGgiLCJ2YWxpZGF0ZVByZXNlbmNlT2YiLCJ2YWx1ZSIsInByZSIsIm5leHQiLCJpc01vZGlmaWVkIiwiRXJyb3IiLCJtYWtlU2FsdCIsInNhbHRFcnIiLCJlbmNyeXB0UGFzc3dvcmQiLCJlbmNyeXB0RXJyIiwiaGFzaGVkUGFzc3dvcmQiLCJtZXRob2RzIiwiYXV0aGVudGljYXRlIiwiY2FsbGJhY2siLCJlcnIiLCJwd2RHZW4iLCJieXRlU2l6ZSIsImRlZmF1bHRCeXRlU2l6ZSIsImFyZ3VtZW50cyIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJkZWZhdWx0SXRlcmF0aW9ucyIsImRlZmF1bHRLZXlMZW5ndGgiLCJCdWZmZXIiLCJwYmtkZjJTeW5jIiwicGJrZGYyIiwia2V5IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7OztBQUNBOzs7O0FBRUE7Ozs7OztBQURBLG1CQUFTQSxPQUFULEdBQW1CQyxRQUFRLFVBQVIsQ0FBbkI7O0FBR0EsSUFBSUMsYUFBYSxxQkFBVztBQUMxQkMsUUFBTUMsTUFEb0I7QUFFMUJDLFFBQU07QUFDSkMsVUFBTUYsTUFERjtBQUVKRyxhQUFTO0FBRkwsR0FGb0I7QUFNMUJDLFlBQVU7QUFDUkYsVUFBTUYsTUFERTtBQUVSSyxjQUFVO0FBRkYsR0FOZ0I7QUFVMUJDLFlBQVVOLE1BVmdCO0FBVzFCTyxRQUFNUCxNQVhvQjtBQVkxQlEsc0JBQW9CQyxNQVpNO0FBYTFCQyxxQkFBbUJEO0FB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QU4sRUFBYztBQUN0RixVQUFHWixHQUFILEVBQVE7QUFDTixlQUFPRCxTQUFTQyxHQUFULENBQVA7QUFDRCxPQUZELE1BRU87QUFDTCxlQUFPRCxTQUFTLElBQVQsRUFBZWEsSUFBSU4sUUFBSixDQUFhLFFBQWIsQ0FBZixDQUFQO0FBQ0Q7QUFDRixLQU5NLENBQVA7QUFPRDtBQTdGa0IsQ0FBckI7O2tCQWdHZSxtQkFBU08sS0FBVCxDQUFlLE1BQWYsRUFBdUI5QyxVQUF2QixDIiwiZmlsZSI6InVzZXIubW9kZWwuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL3VzZXIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vKmVzbGludCBuby1pbnZhbGlkLXRoaXM6MCovXG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5tb25nb29zZS5Qcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcbmltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnO1xuXG52YXIgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBuYW1lOiBTdHJpbmcsXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ3VzZXInXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sXG4gIHByb3ZpZGVyOiBTdHJpbmcsXG4gIHNhbHQ6IFN0cmluZyxcbiAgc3VjY2Vzc2Z1bERyYXdpbmdzOiBOdW1iZXIsXG4gIHN1Y2Nlc3NmdWxHdWVzc2VzOiBOdW1iZXJcbn0pO1xuXG4vKipcbiAqIFZpcnR1YWxzXG4gKi9cblxuLy8gUHVibGljIHByb2ZpbGUgaW5mb3JtYXRpb25cblVzZXJTY2hlbWFcbiAgLnZpcnR1YWwoJ3Byb2ZpbGUnKVxuICAuZ2V0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICByb2xlOiB0aGlzLnJvbGVcbiAgICB9O1xuICB9KTtcblxuLy8gTm9uLXNlbnNpdGl2ZSBpbmZvIHdlJ2xsIGJlIHB1dHRpbmcgaW4gdGhlIHRva2VuXG5Vc2VyU2NoZW1hXG4gIC52aXJ0dWFsKCd0b2tlbicpXG4gIC5nZXQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9pZDogdGhpcy5faWQsXG4gICAgICByb2xlOiB0aGlzLnJvbGVcbiAgICB9O1xuICB9KTtcblxuLyoqXG4gKiBWYWxpZGF0aW9uc1xuICovXG5cblxuLy8gVmFsaWRhdGUgZW1wdHkgcGFzc3dvcmRcblVzZXJTY2hlbWFcbiAgLnBhdGgoJ3Bhc3N3b3JkJylcbiAgLnZhbGlkYXRlKGZ1bmN0aW9uKHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIHBhc3N3b3JkLmxlbmd0aDtcbiAgfSwgJ1Bhc3N3b3JkIGNhbm5vdCBiZSBibGFuaycpO1xuXG5cbnZhciB2YWxpZGF0ZVByZXNlbmNlT2YgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBQcmUtc2F2ZSBob29rXG4gKi9cblVzZXJTY2hlbWFcbiAgLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcbiAgICAvLyBIYW5kbGUgbmV3L3VwZGF0ZSBwYXNzd29yZHNcbiAgICBpZighdGhpcy5pc01vZGlmaWVkKCdwYXNzd29yZCcpKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cblxuICAgIGlmKCF2YWxpZGF0ZVByZXNlbmNlT2YodGhpcy5wYXNzd29yZCkpIHtcbiAgICAgIHJldHVybiBuZXh0KG5ldyBFcnJvcignSW52YWxpZCBwYXNzd29yZCcpKTtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHNhbHQgd2l0aCBhIGNhbGxiYWNrXG4gICAgdGhpcy5tYWtlU2FsdCgoc2FsdEVyciwgc2FsdCkgPT4ge1xuICAgICAgaWYoc2FsdEVycikge1xuICAgICAgICByZXR1cm4gbmV4dChzYWx0RXJyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2FsdCA9IHNhbHQ7XG4gICAgICB0aGlzLmVuY3J5cHRQYXNzd29yZCh0aGlzLnBhc3N3b3JkLCAoZW5jcnlwdEVyciwgaGFzaGVkUGFzc3dvcmQpID0+IHtcbiAgICAgICAgaWYoZW5jcnlwdEVycikge1xuICAgICAgICAgIHJldHVybiBuZXh0KGVuY3J5cHRFcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuLyoqXG4gKiBNZXRob2RzXG4gKi9cblVzZXJTY2hlbWEubWV0aG9kcyA9IHtcbiAgLyoqXG4gICAqIEF1dGhlbnRpY2F0ZSAtIGNoZWNrIGlmIHRoZSBwYXNzd29yZHMgYXJlIHRoZSBzYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgYXV0aGVudGljYXRlKHBhc3N3b3JkLCBjYWxsYmFjaykge1xuICAgIGlmKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXMucGFzc3dvcmQgPT09IHRoaXMuZW5jcnlwdFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB0aGlzLmVuY3J5cHRQYXNzd29yZChwYXNzd29yZCwgKGVyciwgcHdkR2VuKSA9PiB7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMucGFzc3dvcmQgPT09IHB3ZEdlbikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNYWtlIHNhbHRcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtieXRlU2l6ZV0gLSBPcHRpb25hbCBzYWx0IGJ5dGUgc2l6ZSwgZGVmYXVsdCB0byAxNlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBtYWtlU2FsdChieXRlU2l6ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZGVmYXVsdEJ5dGVTaXplID0gMTY7XG5cbiAgICBpZih0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1swXTtcbiAgICAgIGJ5dGVTaXplID0gZGVmYXVsdEJ5dGVTaXplO1xuICAgIH0gZWxzZSBpZih0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIENhbGxiYWNrJyk7XG4gICAgfVxuXG4gICAgaWYoIWJ5dGVTaXplKSB7XG4gICAgICBieXRlU2l6ZSA9IGRlZmF1bHRCeXRlU2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3J5cHRvLnJhbmRvbUJ5dGVzKGJ5dGVTaXplLCAoZXJyLCBzYWx0KSA9PiB7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgc2FsdC50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbmNyeXB0IHBhc3N3b3JkXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBlbmNyeXB0UGFzc3dvcmQocGFzc3dvcmQsIGNhbGxiYWNrKSB7XG4gICAgaWYoIXBhc3N3b3JkIHx8ICF0aGlzLnNhbHQpIHtcbiAgICAgIGlmKCFjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygnTWlzc2luZyBwYXNzd29yZCBvciBzYWx0Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRJdGVyYXRpb25zID0gMTAwMDA7XG4gICAgdmFyIGRlZmF1bHRLZXlMZW5ndGggPSA2NDtcbiAgICB2YXIgc2FsdCA9IG5ldyBCdWZmZXIodGhpcy5zYWx0LCAnYmFzZTY0Jyk7XG5cbiAgICBpZighY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBjcnlwdG8ucGJrZGYyU3luYyhwYXNzd29yZCwgc2FsdCwgZGVmYXVsdEl0ZXJhdGlvbnMsIGRlZmF1bHRLZXlMZW5ndGgpXG4gICAgICAgIC50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyeXB0by5wYmtkZjIocGFzc3dvcmQsIHNhbHQsIGRlZmF1bHRJdGVyYXRpb25zLCBkZWZhdWx0S2V5TGVuZ3RoLCAoZXJyLCBrZXkpID0+IHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBrZXkudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCBVc2VyU2NoZW1hKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "Promise",
        "require",
        "UserSchema",
        "name",
        "String",
        "role",
        "type",
        "default",
        "password",
        "required",
        "provider",
        "salt",
        "successfulDrawings",
        "Number",
        "successfulGuesses",
        "virtual",
        "get",
        "_id",
        "path",
        "validate",
        "length",
        "validatePresenceOf",
        "value",
        "pre",
        "next",
        "isModified",
        "Error",
        "makeSalt",
        "saltErr",
        "encryptPassword",
        "encryptErr",
        "hashedPassword",
        "methods",
        "authenticate",
        "callback",
        "err",
        "pwdGen",
        "byteSize",
        "defaultByteSize",
        "arguments",
        "randomBytes",
        "toString",
        "defaultIterations",
        "defaultKeyLength",
        "Buffer",
        "pbkdf2Sync",
        "pbkdf2",
        "key",
        "model"
      ],
      "mappings": "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",
      "file": "user.model.js",
      "sourceRoot": "/home/nitrous/server/api/user",
      "sourcesContent": [
        "'use strict';\n/*eslint no-invalid-this:0*/\nimport crypto from 'crypto';\nmongoose.Promise = require('bluebird');\nimport mongoose, {Schema} from 'mongoose';\n\nvar UserSchema = new Schema({\n  name: String,\n  role: {\n    type: String,\n    default: 'user'\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  provider: String,\n  salt: String,\n  successfulDrawings: Number,\n  successfulGuesses: Number\n});\n\n/**\n * Virtuals\n */\n\n// Public profile information\nUserSchema\n  .virtual('profile')\n  .get(function() {\n    return {\n      name: this.name,\n      role: this.role\n    };\n  });\n\n// Non-sensitive info we'll be putting in the token\nUserSchema\n  .virtual('token')\n  .get(function() {\n    return {\n      _id: this._id,\n      role: this.role\n    };\n  });\n\n/**\n * Validations\n */\n\n\n// Validate empty password\nUserSchema\n  .path('password')\n  .validate(function(password) {\n    return password.length;\n  }, 'Password cannot be blank');\n\n\nvar validatePresenceOf = function(value) {\n  return value && value.length;\n};\n\n/**\n * Pre-save hook\n */\nUserSchema\n  .pre('save', function(next) {\n    // Handle new/update passwords\n    if(!this.isModified('password')) {\n      return next();\n    }\n\n    if(!validatePresenceOf(this.password)) {\n      return next(new Error('Invalid password'));\n    }\n\n    // Make salt with a callback\n    this.makeSalt((saltErr, salt) => {\n      if(saltErr) {\n        return next(saltErr);\n      }\n      this.salt = salt;\n      this.encryptPassword(this.password, (encryptErr, hashedPassword) => {\n        if(encryptErr) {\n          return next(encryptErr);\n        }\n        this.password = hashedPassword;\n        return next();\n      });\n    });\n  });\n\n/**\n * Methods\n */\nUserSchema.methods = {\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {Boolean}\n   * @api public\n   */\n  authenticate(password, callback) {\n    if(!callback) {\n      return this.password === this.encryptPassword(password);\n    }\n\n    this.encryptPassword(password, (err, pwdGen) => {\n      if(err) {\n        return callback(err);\n      }\n\n      if(this.password === pwdGen) {\n        return callback(null, true);\n      } else {\n        return callback(null, false);\n      }\n    });\n  },\n\n  /**\n   * Make salt\n   *\n   * @param {Number} [byteSize] - Optional salt byte size, default to 16\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  makeSalt(byteSize, callback) {\n    var defaultByteSize = 16;\n\n    if(typeof arguments[0] === 'function') {\n      callback = arguments[0];\n      byteSize = defaultByteSize;\n    } else if(typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    } else {\n      throw new Error('Missing Callback');\n    }\n\n    if(!byteSize) {\n      byteSize = defaultByteSize;\n    }\n\n    return crypto.randomBytes(byteSize, (err, salt) => {\n      if(err) {\n        return callback(err);\n      } else {\n        return callback(null, salt.toString('base64'));\n      }\n    });\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  encryptPassword(password, callback) {\n    if(!password || !this.salt) {\n      if(!callback) {\n        return null;\n      } else {\n        return callback('Missing password or salt');\n      }\n    }\n\n    var defaultIterations = 10000;\n    var defaultKeyLength = 64;\n    var salt = new Buffer(this.salt, 'base64');\n\n    if(!callback) {\n      return crypto.pbkdf2Sync(password, salt, defaultIterations, defaultKeyLength)\n        .toString('base64');\n    }\n\n    return crypto.pbkdf2(password, salt, defaultIterations, defaultKeyLength, (err, key) => {\n      if(err) {\n        return callback(err);\n      } else {\n        return callback(null, key.toString('base64'));\n      }\n    });\n  }\n};\n\nexport default mongoose.model('User', UserSchema);\n"
      ]
    },
    "mtime": 1475486296177
  },
  "{\"filename\":\"/home/nitrous/server/config/socketio.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "socketio"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "socketio",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/config/socketio.js",
      "filenameRelative": "/home/nitrous/server/config/socketio.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "socketio.js",
      "sourceFileName": "socketio.js",
      "sourceRoot": "/home/nitrous/server/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "socketio"
    },
    "ignored": false,
    "code": "/**\n * Socket.io configuration\n */\n'use strict';\n\n// import config from './environment';\n\n// When the user disconnects.. perform this\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (socketio) {\n  // socket.io (v1.x.x) is powered by debug.\n  // In order to see all the debug output, set DEBUG (in server/config/local.env.js) to including the desired scope.\n  //\n  // ex: DEBUG: \"http*,socket.io:socket\"\n\n  // We can authenticate socket.io users and access their token through socket.decoded_token\n  //\n  // 1. You will need to send the token in `client/components/socket/socket.service.js`\n  //\n  // 2. Require authentication here:\n  // socketio.use(require('socketio-jwt').authorize({\n  //   secret: config.secrets.session,\n  //   handshake: true\n  // }));\n\n  socketio.on('connection', function (socket) {\n    socket.address = socket.request.connection.remoteAddress + ':' + socket.request.connection.remotePort;\n\n    socket.connectedAt = new Date();\n\n    socket.log = function () {\n      var _console;\n\n      for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n        data[_key] = arguments[_key];\n      }\n\n      (_console = console).log.apply(_console, ['SocketIO ' + socket.nsp.name + ' [' + socket.address + ']'].concat(data));\n    };\n\n    // Call onDisconnect.\n    socket.on('disconnect', function () {\n      onDisconnect(socket);\n      socket.log('DISCONNECTED');\n    });\n\n    // Call onConnect.\n    onConnect(socket);\n    socket.log('CONNECTED');\n  });\n};\n\nfunction onDisconnect() /*socket*/{}\n\n// When the user connects.. perform this\nfunction onConnect(socket) {\n  // When the client emits 'info', this listens and executes\n  socket.on('info', function (data) {\n    socket.log(JSON.stringify(data, null, 2));\n  });\n\n  // Insert sockets below\n  require('../api/guess/guess.socket').register(socket);\n  require('../api/point/point.socket').register(socket);\n  require('../api/comment/comment.socket').register(socket);\n  require('../api/game/game.socket').register(socket);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldGlvLmpzIl0sIm5hbWVzIjpbInNvY2tldGlvIiwib24iLCJzb2NrZXQiLCJhZGRyZXNzIiwicmVxdWVzdCIsImNvbm5lY3Rpb24iLCJyZW1vdGVBZGRyZXNzIiwicmVtb3RlUG9ydCIsImNvbm5lY3RlZEF0IiwiRGF0ZSIsImxvZyIsImRhdGEiLCJuc3AiLCJuYW1lIiwib25EaXNjb25uZWN0Iiwib25Db25uZWN0IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcXVpcmUiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBOztBQUVBOztBQUVBOzs7Ozs7a0JBaUJlLFVBQVNBLFFBQVQsRUFBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBQSxXQUFTQyxFQUFULENBQVksWUFBWixFQUEwQixVQUFTQyxNQUFULEVBQWlCO0FBQ3pDQSxXQUFPQyxPQUFQLEdBQW9CRCxPQUFPRSxPQUFQLENBQWVDLFVBQWYsQ0FBMEJDLGFBQTlDLFNBQStESixPQUFPRSxPQUFQLENBQWVDLFVBQWYsQ0FBMEJFLFVBQXpGOztBQUVBTCxXQUFPTSxXQUFQLEdBQXFCLElBQUlDLElBQUosRUFBckI7O0FBRUFQLFdBQU9RLEdBQVAsR0FBYSxZQUFrQjtBQUFBOztBQUFBLHdDQUFOQyxJQUFNO0FBQU5BLFlBQU07QUFBQTs7QUFDN0IsMkJBQVFELEdBQVIsZ0NBQXdCUixPQUFPVSxHQUFQLENBQVdDLElBQW5DLFVBQTRDWCxPQUFPQyxPQUFuRCxlQUFrRVEsSUFBbEU7QUFDRCxLQUZEOztBQUlBO0FBQ0FULFdBQU9ELEVBQVAsQ0FBVSxZQUFWLEVBQXdCLFlBQU07QUFDNUJhLG1CQUFhWixNQUFiO0FBQ0FBLGFBQU9RLEdBQVAsQ0FBVyxjQUFYO0FBQ0QsS0FIRDs7QUFLQTtBQUNBSyxjQUFVYixNQUFWO0FBQ0FBLFdBQU9RLEdBQVAsQ0FBVyxXQUFYO0FBQ0QsR0FsQkQ7QUFtQkQsQzs7QUFuREQsU0FBU0ksWUFBVCxHQUFzQixVQUFZLENBQUU7O0FBRXBDO0FBQ0EsU0FBU0MsU0FBVCxDQUFtQmIsTUFBbkIsRUFBMkI7QUFDekI7QUFDQUEsU0FBT0QsRUFBUCxDQUFVLE1BQVYsRUFBa0IsZ0JBQVE7QUFDeEJDLFdBQU9RLEdBQVAsQ0FBV00sS0FBS0MsU0FBTCxDQUFlTixJQUFmLEVBQXFCLElBQXJCLEVBQTJCLENBQTNCLENBQVg7QUFDRCxHQUZEOztBQUlBO0FBQ0FPLFVBQVEsMkJBQVIsRUFBcUNDLFFBQXJDLENBQThDakIsTUFBOUM7QUFDQWdCLFVBQVEsMkJBQVIsRUFBcUNDLFFBQXJDLENBQThDakIsTUFBOUM7QUFDQWdCLFVBQVEsK0JBQVIsRUFBeUNDLFFBQXpDLENBQWtEakIsTUFBbEQ7QUFDQWdCLFVBQVEseUJBQVIsRUFBbUNDLFFBQW5DLENBQTRDakIsTUFBNUM7QUFDRCIsImZpbGUiOiJzb2NrZXRpby5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9uaXRyb3VzL3NlcnZlci9jb25maWciLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvY2tldC5pbyBjb25maWd1cmF0aW9uXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLy8gaW1wb3J0IGNvbmZpZyBmcm9tICcuL2Vudmlyb25tZW50JztcblxuLy8gV2hlbiB0aGUgdXNlciBkaXNjb25uZWN0cy4uIHBlcmZvcm0gdGhpc1xuZnVuY3Rpb24gb25EaXNjb25uZWN0KC8qc29ja2V0Ki8pIHt9XG5cbi8vIFdoZW4gdGhlIHVzZXIgY29ubmVjdHMuLiBwZXJmb3JtIHRoaXNcbmZ1bmN0aW9uIG9uQ29ubmVjdChzb2NrZXQpIHtcbiAgLy8gV2hlbiB0aGUgY2xpZW50IGVtaXRzICdpbmZvJywgdGhpcyBsaXN0ZW5zIGFuZCBleGVjdXRlc1xuICBzb2NrZXQub24oJ2luZm8nLCBkYXRhID0+IHtcbiAgICBzb2NrZXQubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcbiAgfSk7XG5cbiAgLy8gSW5zZXJ0IHNvY2tldHMgYmVsb3dcbiAgcmVxdWlyZSgnLi4vYXBpL2d1ZXNzL2d1ZXNzLnNvY2tldCcpLnJlZ2lzdGVyKHNvY2tldCk7XG4gIHJlcXVpcmUoJy4uL2FwaS9wb2ludC9wb2ludC5zb2NrZXQnKS5yZWdpc3Rlcihzb2NrZXQpO1xuICByZXF1aXJlKCcuLi9hcGkvY29tbWVudC9jb21tZW50LnNvY2tldCcpLnJlZ2lzdGVyKHNvY2tldCk7XG4gIHJlcXVpcmUoJy4uL2FwaS9nYW1lL2dhbWUuc29ja2V0JykucmVnaXN0ZXIoc29ja2V0KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc29ja2V0aW8pIHtcbiAgLy8gc29ja2V0LmlvICh2MS54LngpIGlzIHBvd2VyZWQgYnkgZGVidWcuXG4gIC8vIEluIG9yZGVyIHRvIHNlZSBhbGwgdGhlIGRlYnVnIG91dHB1dCwgc2V0IERFQlVHIChpbiBzZXJ2ZXIvY29uZmlnL2xvY2FsLmVudi5qcykgdG8gaW5jbHVkaW5nIHRoZSBkZXNpcmVkIHNjb3BlLlxuICAvL1xuICAvLyBleDogREVCVUc6IFwiaHR0cCosc29ja2V0LmlvOnNvY2tldFwiXG5cbiAgLy8gV2UgY2FuIGF1dGhlbnRpY2F0ZSBzb2NrZXQuaW8gdXNlcnMgYW5kIGFjY2VzcyB0aGVpciB0b2tlbiB0aHJvdWdoIHNvY2tldC5kZWNvZGVkX3Rva2VuXG4gIC8vXG4gIC8vIDEuIFlvdSB3aWxsIG5lZWQgdG8gc2VuZCB0aGUgdG9rZW4gaW4gYGNsaWVudC9jb21wb25lbnRzL3NvY2tldC9zb2NrZXQuc2VydmljZS5qc2BcbiAgLy9cbiAgLy8gMi4gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiBoZXJlOlxuICAvLyBzb2NrZXRpby51c2UocmVxdWlyZSgnc29ja2V0aW8tand0JykuYXV0aG9yaXplKHtcbiAgLy8gICBzZWNyZXQ6IGNvbmZpZy5zZWNyZXRzLnNlc3Npb24sXG4gIC8vICAgaGFuZHNoYWtlOiB0cnVlXG4gIC8vIH0pKTtcblxuICBzb2NrZXRpby5vbignY29ubmVjdGlvbicsIGZ1bmN0aW9uKHNvY2tldCkge1xuICAgIHNvY2tldC5hZGRyZXNzID0gYCR7c29ja2V0LnJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzfToke3NvY2tldC5yZXF1ZXN0LmNvbm5lY3Rpb24ucmVtb3RlUG9ydH1gO1xuXG4gICAgc29ja2V0LmNvbm5lY3RlZEF0ID0gbmV3IERhdGUoKTtcblxuICAgIHNvY2tldC5sb2cgPSBmdW5jdGlvbiguLi5kYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhgU29ja2V0SU8gJHtzb2NrZXQubnNwLm5hbWV9IFske3NvY2tldC5hZGRyZXNzfV1gLCAuLi5kYXRhKTtcbiAgICB9O1xuXG4gICAgLy8gQ2FsbCBvbkRpc2Nvbm5lY3QuXG4gICAgc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgb25EaXNjb25uZWN0KHNvY2tldCk7XG4gICAgICBzb2NrZXQubG9nKCdESVNDT05ORUNURUQnKTtcbiAgICB9KTtcblxuICAgIC8vIENhbGwgb25Db25uZWN0LlxuICAgIG9uQ29ubmVjdChzb2NrZXQpO1xuICAgIHNvY2tldC5sb2coJ0NPTk5FQ1RFRCcpO1xuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "socketio.js"
      ],
      "names": [
        "socketio",
        "on",
        "socket",
        "address",
        "request",
        "connection",
        "remoteAddress",
        "remotePort",
        "connectedAt",
        "Date",
        "log",
        "data",
        "nsp",
        "name",
        "onDisconnect",
        "onConnect",
        "JSON",
        "stringify",
        "require",
        "register"
      ],
      "mappings": "AAAA;;;AAGA;;AAEA;;AAEA;;;;;;kBAiBe,UAASA,QAAT,EAAmB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,WAASC,EAAT,CAAY,YAAZ,EAA0B,UAASC,MAAT,EAAiB;AACzCA,WAAOC,OAAP,GAAoBD,OAAOE,OAAP,CAAeC,UAAf,CAA0BC,aAA9C,SAA+DJ,OAAOE,OAAP,CAAeC,UAAf,CAA0BE,UAAzF;;AAEAL,WAAOM,WAAP,GAAqB,IAAIC,IAAJ,EAArB;;AAEAP,WAAOQ,GAAP,GAAa,YAAkB;AAAA;;AAAA,wCAANC,IAAM;AAANA,YAAM;AAAA;;AAC7B,2BAAQD,GAAR,gCAAwBR,OAAOU,GAAP,CAAWC,IAAnC,UAA4CX,OAAOC,OAAnD,eAAkEQ,IAAlE;AACD,KAFD;;AAIA;AACAT,WAAOD,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC5Ba,mBAAaZ,MAAb;AACAA,aAAOQ,GAAP,CAAW,cAAX;AACD,KAHD;;AAKA;AACAK,cAAUb,MAAV;AACAA,WAAOQ,GAAP,CAAW,WAAX;AACD,GAlBD;AAmBD,C;;AAnDD,SAASI,YAAT,GAAsB,UAAY,CAAE;;AAEpC;AACA,SAASC,SAAT,CAAmBb,MAAnB,EAA2B;AACzB;AACAA,SAAOD,EAAP,CAAU,MAAV,EAAkB,gBAAQ;AACxBC,WAAOQ,GAAP,CAAWM,KAAKC,SAAL,CAAeN,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAX;AACD,GAFD;;AAIA;AACAO,UAAQ,2BAAR,EAAqCC,QAArC,CAA8CjB,MAA9C;AACAgB,UAAQ,2BAAR,EAAqCC,QAArC,CAA8CjB,MAA9C;AACAgB,UAAQ,+BAAR,EAAyCC,QAAzC,CAAkDjB,MAAlD;AACAgB,UAAQ,yBAAR,EAAmCC,QAAnC,CAA4CjB,MAA5C;AACD",
      "file": "socketio.js",
      "sourceRoot": "/home/nitrous/server/config",
      "sourcesContent": [
        "/**\n * Socket.io configuration\n */\n'use strict';\n\n// import config from './environment';\n\n// When the user disconnects.. perform this\nfunction onDisconnect(/*socket*/) {}\n\n// When the user connects.. perform this\nfunction onConnect(socket) {\n  // When the client emits 'info', this listens and executes\n  socket.on('info', data => {\n    socket.log(JSON.stringify(data, null, 2));\n  });\n\n  // Insert sockets below\n  require('../api/guess/guess.socket').register(socket);\n  require('../api/point/point.socket').register(socket);\n  require('../api/comment/comment.socket').register(socket);\n  require('../api/game/game.socket').register(socket);\n}\n\nexport default function(socketio) {\n  // socket.io (v1.x.x) is powered by debug.\n  // In order to see all the debug output, set DEBUG (in server/config/local.env.js) to including the desired scope.\n  //\n  // ex: DEBUG: \"http*,socket.io:socket\"\n\n  // We can authenticate socket.io users and access their token through socket.decoded_token\n  //\n  // 1. You will need to send the token in `client/components/socket/socket.service.js`\n  //\n  // 2. Require authentication here:\n  // socketio.use(require('socketio-jwt').authorize({\n  //   secret: config.secrets.session,\n  //   handshake: true\n  // }));\n\n  socketio.on('connection', function(socket) {\n    socket.address = `${socket.request.connection.remoteAddress}:${socket.request.connection.remotePort}`;\n\n    socket.connectedAt = new Date();\n\n    socket.log = function(...data) {\n      console.log(`SocketIO ${socket.nsp.name} [${socket.address}]`, ...data);\n    };\n\n    // Call onDisconnect.\n    socket.on('disconnect', () => {\n      onDisconnect(socket);\n      socket.log('DISCONNECTED');\n    });\n\n    // Call onConnect.\n    onConnect(socket);\n    socket.log('CONNECTED');\n  });\n}\n"
      ]
    },
    "mtime": 1475488993206
  },
  "{\"filename\":\"/home/nitrous/server/config/express.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "defineProperty",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "serve-favicon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "favicon"
              }
            ]
          },
          {
            "source": "morgan",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "morgan"
              }
            ]
          },
          {
            "source": "shrink-ray",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "shrinkRay"
              }
            ]
          },
          {
            "source": "body-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "bodyParser"
              }
            ]
          },
          {
            "source": "method-override",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "methodOverride"
              }
            ]
          },
          {
            "source": "cookie-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cookieParser"
              }
            ]
          },
          {
            "source": "errorhandler",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "errorHandler"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "lusca",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "lusca"
              }
            ]
          },
          {
            "source": "./environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "express-session",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "session"
              }
            ]
          },
          {
            "source": "connect-mongo",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "connectMongo"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "app"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "app",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/config/express.js",
      "filenameRelative": "/home/nitrous/server/config/express.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "express.js",
      "sourceFileName": "express.js",
      "sourceRoot": "/home/nitrous/server/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "express"
    },
    "ignored": false,
    "code": "/**\n * Express configuration\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (app) {\n  var env = app.get('env');\n\n  if (env === 'development' || env === 'test') {\n    app.use(_express2.default.static(_path2.default.join(_environment2.default.root, '.tmp')));\n  }\n\n  if (env === 'production') {\n    app.use((0, _serveFavicon2.default)(_path2.default.join(_environment2.default.root, 'client', 'favicon.ico')));\n  }\n\n  app.set('appPath', _path2.default.join(_environment2.default.root, 'client'));\n  app.use(_express2.default.static(app.get('appPath')));\n  app.use((0, _morgan2.default)('dev'));\n\n  app.set('views', _environment2.default.root + '/server/views');\n  app.set('view engine', 'pug');\n  app.use((0, _shrinkRay2.default)());\n  app.use(_bodyParser2.default.urlencoded({ extended: false }));\n  app.use(_bodyParser2.default.json());\n  app.use((0, _methodOverride2.default)());\n  app.use((0, _cookieParser2.default)());\n  app.use(_passport2.default.initialize());\n\n  // Persist sessions with MongoStore / sequelizeStore\n  // We need to enable sessions for passport-twitter because it's an\n  // oauth 1.0 strategy, and Lusca depends on sessions\n  app.use((0, _expressSession2.default)({\n    secret: _environment2.default.secrets.session,\n    saveUninitialized: true,\n    resave: false,\n    store: new MongoStore({\n      mongooseConnection: _mongoose2.default.connection,\n      db: 'nitrous'\n    })\n  }));\n\n  /**\n   * Lusca - express server security\n   * https://github.com/krakenjs/lusca\n   */\n  if (env !== 'test' && !process.env.SAUCE_USERNAME) {\n    app.use((0, _lusca2.default)({\n      csrf: {\n        angular: true\n      },\n      xframe: 'SAMEORIGIN',\n      hsts: {\n        maxAge: 31536000, //1 year, in seconds\n        includeSubDomains: true,\n        preload: true\n      },\n      xssProtection: true\n    }));\n  }\n\n  if (env === 'development') {\n    (function () {\n      var webpackDevMiddleware = require('webpack-dev-middleware');\n      var stripAnsi = require('strip-ansi');\n      var webpack = require('webpack');\n      var makeWebpackConfig = require('../../webpack.make');\n      var webpackConfig = makeWebpackConfig({ DEV: true });\n      var compiler = webpack(webpackConfig);\n      var browserSync = require('browser-sync').create();\n\n      /**\n       * Run Browsersync and use middleware for Hot Module Replacement\n       */\n      console.log(process.env.PORT);\n      browserSync.init(_defineProperty({\n        open: false,\n        logFileChanges: false,\n        proxy: 'localhost:' + _environment2.default.port,\n        ws: true,\n        middleware: [webpackDevMiddleware(compiler, {\n          noInfo: false,\n          stats: {\n            colors: true,\n            timings: true,\n            chunks: false\n          }\n        })],\n        port: _environment2.default.browserSyncPort,\n        plugins: ['bs-fullscreen-message'],\n        ui: {\n          port: _environment2.default.browserSyncPortUi\n        }\n      }, 'open', \"ui\"));\n\n      /**\n       * Reload all devices when bundle is complete\n       * or send a fullscreen error message to the browser instead\n       */\n      compiler.plugin('done', function (stats) {\n        console.log('webpack done hook');\n        if (stats.hasErrors() || stats.hasWarnings()) {\n          return browserSync.sockets.emit('fullscreen:message', {\n            title: 'Webpack Error:',\n            body: stripAnsi(stats.toString()),\n            timeout: 100000\n          });\n        }\n        browserSync.reload();\n      });\n    })();\n  }\n\n  if (env === 'development' || env === 'test') {\n    app.use((0, _errorhandler2.default)()); // Error handler - has to be last\n  }\n};\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _serveFavicon = require('serve-favicon');\n\nvar _serveFavicon2 = _interopRequireDefault(_serveFavicon);\n\nvar _morgan = require('morgan');\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _shrinkRay = require('shrink-ray');\n\nvar _shrinkRay2 = _interopRequireDefault(_shrinkRay);\n\nvar _bodyParser = require('body-parser');\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _methodOverride = require('method-override');\n\nvar _methodOverride2 = _interopRequireDefault(_methodOverride);\n\nvar _cookieParser = require('cookie-parser');\n\nvar _cookieParser2 = _interopRequireDefault(_cookieParser);\n\nvar _errorhandler = require('errorhandler');\n\nvar _errorhandler2 = _interopRequireDefault(_errorhandler);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _lusca = require('lusca');\n\nvar _lusca2 = _interopRequireDefault(_lusca);\n\nvar _environment = require('./environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _expressSession = require('express-session');\n\nvar _expressSession2 = _interopRequireDefault(_expressSession);\n\nvar _connectMongo = require('connect-mongo');\n\nvar _connectMongo2 = _interopRequireDefault(_connectMongo);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar MongoStore = (0, _connectMongo2.default)(_expressSession2.default);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4cHJlc3MuanMiXSwibmFtZXMiOlsiYXBwIiwiZW52IiwiZ2V0IiwidXNlIiwic3RhdGljIiwiam9pbiIsInJvb3QiLCJzZXQiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwiaW5pdGlhbGl6ZSIsInNlY3JldCIsInNlY3JldHMiLCJzZXNzaW9uIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJyZXNhdmUiLCJzdG9yZSIsIk1vbmdvU3RvcmUiLCJtb25nb29zZUNvbm5lY3Rpb24iLCJjb25uZWN0aW9uIiwiZGIiLCJwcm9jZXNzIiwiU0FVQ0VfVVNFUk5BTUUiLCJjc3JmIiwiYW5ndWxhciIsInhmcmFtZSIsImhzdHMiLCJtYXhBZ2UiLCJpbmNsdWRlU3ViRG9tYWlucyIsInByZWxvYWQiLCJ4c3NQcm90ZWN0aW9uIiwid2VicGFja0Rldk1pZGRsZXdhcmUiLCJyZXF1aXJlIiwic3RyaXBBbnNpIiwid2VicGFjayIsIm1ha2VXZWJwYWNrQ29uZmlnIiwid2VicGFja0NvbmZpZyIsIkRFViIsImNvbXBpbGVyIiwiYnJvd3NlclN5bmMiLCJjcmVhdGUiLCJjb25zb2xlIiwibG9nIiwiUE9SVCIsImluaXQiLCJvcGVuIiwibG9nRmlsZUNoYW5nZXMiLCJwcm94eSIsInBvcnQiLCJ3cyIsIm1pZGRsZXdhcmUiLCJub0luZm8iLCJzdGF0cyIsImNvbG9ycyIsInRpbWluZ3MiLCJjaHVua3MiLCJicm93c2VyU3luY1BvcnQiLCJwbHVnaW5zIiwidWkiLCJicm93c2VyU3luY1BvcnRVaSIsInBsdWdpbiIsImhhc0Vycm9ycyIsImhhc1dhcm5pbmdzIiwic29ja2V0cyIsImVtaXQiLCJ0aXRsZSIsImJvZHkiLCJ0b1N0cmluZyIsInRpbWVvdXQiLCJyZWxvYWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBSUE7Ozs7OztrQkFtQmUsVUFBU0EsR0FBVCxFQUFjO0FBQzNCLE1BQUlDLE1BQU1ELElBQUlFLEdBQUosQ0FBUSxLQUFSLENBQVY7O0FBRUEsTUFBR0Qs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O0FBSEg7QUFGc0IsU0FBL0IsQ0FEVSxDQUxkO0FBZUVQLGNBQU0sc0JBQU9RLGVBZmY7QUFnQkVDLGlCQUFTLENBQUMsdUJBQUQsQ0FoQlg7QUFpQkVDLFlBQUk7QUFDRlYsZ0JBQU0sc0JBQU9XO0FBRFg7QUFqQk4saUJBb0JRLElBcEJSOztBQXVCQTs7OztBQUlBckIsZUFBU3NCLE1BQVQsQ0FBZ0IsTUFBaEIsRUFBd0IsVUFBU1IsS0FBVCxFQUFnQjtBQUN0Q1gsZ0JBQVFDLEdBQVIsQ0FBWSxtQkFBWjtBQUNBLFlBQUdVLE1BQU1TLFNBQU4sTUFBcUJULE1BQU1VLFdBQU4sRUFBeEIsRUFBNkM7QUFDM0MsaUJBQU92QixZQUFZd0IsT0FBWixDQUFvQkMsSUFBcEIsQ0FBeUIsb0JBQXpCLEVBQStDO0FBQ3BEQyxtQkFBTyxnQkFENkM7QUFFcERDLGtCQUFNakMsVUFBVW1CLE1BQU1lLFFBQU4sRUFBVixDQUY4QztBQUdwREMscUJBQVM7QUFIMkMsV0FBL0MsQ0FBUDtBQUtEO0FBQ0Q3QixvQkFBWThCLE1BQVo7QUFDRCxPQVZEO0FBeEN3QjtBQW1EekI7O0FBRUQsTUFBR3JFLFFBQVEsYUFBUixJQUF5QkEsUUFBUSxNQUFwQyxFQUE0QztBQUMxQ0QsUUFBSUcsR0FBSixDQUFRLDZCQUFSLEVBRDBDLENBQ2pCO0FBQzFCO0FBQ0YsQzs7QUFsSUQ7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQUNBLElBQUllLGFBQWEscURBQWpCIiwiZmlsZSI6ImV4cHJlc3MuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFeHByZXNzIGNvbmZpZ3VyYXRpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGZhdmljb24gZnJvbSAnc2VydmUtZmF2aWNvbic7XG5pbXBvcnQgbW9yZ2FuIGZyb20gJ21vcmdhbic7XG5pbXBvcnQgc2hyaW5rUmF5IGZyb20gJ3Nocmluay1yYXknO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IG1ldGhvZE92ZXJyaWRlIGZyb20gJ21ldGhvZC1vdmVycmlkZSc7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IGVycm9ySGFuZGxlciBmcm9tICdlcnJvcmhhbmRsZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgbHVzY2EgZnJvbSAnbHVzY2EnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2Vudmlyb25tZW50JztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQgc2Vzc2lvbiBmcm9tICdleHByZXNzLXNlc3Npb24nO1xuaW1wb3J0IGNvbm5lY3RNb25nbyBmcm9tICdjb25uZWN0LW1vbmdvJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG52YXIgTW9uZ29TdG9yZSA9IGNvbm5lY3RNb25nbyhzZXNzaW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXBwKSB7XG4gIHZhciBlbnYgPSBhcHAuZ2V0KCdlbnYnKTtcblxuICBpZihlbnYgPT09ICdkZXZlbG9wbWVudCcgfHwgZW52ID09PSAndGVzdCcpIHtcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihjb25maWcucm9vdCwgJy50bXAnKSkpO1xuICB9XG5cbiAgaWYoZW52ID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBhcHAudXNlKGZhdmljb24ocGF0aC5qb2luKGNvbmZpZy5yb290LCAnY2xpZW50JywgJ2Zhdmljb24uaWNvJykpKTtcbiAgfVxuXG4gIGFwcC5zZXQoJ2FwcFBhdGgnLCBwYXRoLmpvaW4oY29uZmlnLnJvb3QsICdjbGllbnQnKSk7XG4gIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMoYXBwLmdldCgnYXBwUGF0aCcpKSk7XG4gIGFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XG5cbiAgYXBwLnNldCgndmlld3MnLCBgJHtjb25maWcucm9vdH0vc2VydmVyL3ZpZXdzYCk7XG4gIGFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ3B1ZycpO1xuICBhcHAudXNlKHNocmlua1JheSgpKTtcbiAgYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuICBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbiAgYXBwLnVzZShtZXRob2RPdmVycmlkZSgpKTtcbiAgYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG4gIGFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcblxuXG4gIC8vIFBlcnNpc3Qgc2Vzc2lvbnMgd2l0aCBNb25nb1N0b3JlIC8gc2VxdWVsaXplU3RvcmVcbiAgLy8gV2UgbmVlZCB0byBlbmFibGUgc2Vzc2lvbnMgZm9yIHBhc3Nwb3J0LXR3aXR0ZXIgYmVjYXVzZSBpdCdzIGFuXG4gIC8vIG9hdXRoIDEuMCBzdHJhdGVneSwgYW5kIEx1c2NhIGRlcGVuZHMgb24gc2Vzc2lvbnNcbiAgYXBwLnVzZShzZXNzaW9uKHtcbiAgICBzZWNyZXQ6IGNvbmZpZy5zZWNyZXRzLnNlc3Npb24sXG4gICAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgcmVzYXZlOiBmYWxzZSxcbiAgICBzdG9yZTogbmV3IE1vbmdvU3RvcmUoe1xuICAgICAgbW9uZ29vc2VDb25uZWN0aW9uOiBtb25nb29zZS5jb25uZWN0aW9uLFxuICAgICAgZGI6ICduaXRyb3VzJ1xuICAgIH0pXG4gIH0pKTtcblxuICAvKipcbiAgICogTHVzY2EgLSBleHByZXNzIHNlcnZlciBzZWN1cml0eVxuICAgKiBodHRwczovL2dpdGh1Yi5jb20va3Jha2VuanMvbHVzY2FcbiAgICovXG4gIGlmKGVudiAhPT0gJ3Rlc3QnICYmICFwcm9jZXNzLmVudi5TQVVDRV9VU0VSTkFNRSkge1xuICAgIGFwcC51c2UobHVzY2Eoe1xuICAgICAgY3NyZjoge1xuICAgICAgICBhbmd1bGFyOiB0cnVlXG4gICAgICB9LFxuICAgICAgeGZyYW1lOiAnU0FNRU9SSUdJTicsXG4gICAgICBoc3RzOiB7XG4gICAgICAgIG1heEFnZTogMzE1MzYwMDAsIC8vMSB5ZWFyLCBpbiBzZWNvbmRzXG4gICAgICAgIGluY2x1ZGVTdWJEb21haW5zOiB0cnVlLFxuICAgICAgICBwcmVsb2FkOiB0cnVlXG4gICAgICB9LFxuICAgICAgeHNzUHJvdGVjdGlvbjogdHJ1ZVxuICAgIH0pKTtcbiAgfVxuXG4gIGlmKGVudiA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIGNvbnN0IHdlYnBhY2tEZXZNaWRkbGV3YXJlID0gcmVxdWlyZSgnd2VicGFjay1kZXYtbWlkZGxld2FyZScpO1xuICAgIGNvbnN0IHN0cmlwQW5zaSA9IHJlcXVpcmUoJ3N0cmlwLWFuc2knKTtcbiAgICBjb25zdCB3ZWJwYWNrID0gcmVxdWlyZSgnd2VicGFjaycpO1xuICAgIGNvbnN0IG1ha2VXZWJwYWNrQ29uZmlnID0gcmVxdWlyZSgnLi4vLi4vd2VicGFjay5tYWtlJyk7XG4gICAgY29uc3Qgd2VicGFja0NvbmZpZyA9IG1ha2VXZWJwYWNrQ29uZmlnKHsgREVWOiB0cnVlIH0pO1xuICAgIGNvbnN0IGNvbXBpbGVyID0gd2VicGFjayh3ZWJwYWNrQ29uZmlnKTtcbiAgICBjb25zdCBicm93c2VyU3luYyA9IHJlcXVpcmUoJ2Jyb3dzZXItc3luYycpLmNyZWF0ZSgpO1xuXG4gICAgLyoqXG4gICAgICogUnVuIEJyb3dzZXJzeW5jIGFuZCB1c2UgbWlkZGxld2FyZSBmb3IgSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuICAgICAqL1xuICAgIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52LlBPUlQpO1xuICAgIGJyb3dzZXJTeW5jLmluaXQoe1xuICAgICAgb3BlbjogZmFsc2UsXG4gICAgICBsb2dGaWxlQ2hhbmdlczogZmFsc2UsXG4gICAgICBwcm94eTogYGxvY2FsaG9zdDoke2NvbmZpZy5wb3J0fWAsXG4gICAgICB3czogdHJ1ZSxcbiAgICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgICAgd2VicGFja0Rldk1pZGRsZXdhcmUoY29tcGlsZXIsIHtcbiAgICAgICAgICBub0luZm86IGZhbHNlLFxuICAgICAgICAgIHN0YXRzOiB7XG4gICAgICAgICAgICBjb2xvcnM6IHRydWUsXG4gICAgICAgICAgICB0aW1pbmdzOiB0cnVlLFxuICAgICAgICAgICAgY2h1bmtzOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICBwb3J0OiBjb25maWcuYnJvd3NlclN5bmNQb3J0LFxuICAgICAgcGx1Z2luczogWydicy1mdWxsc2NyZWVuLW1lc3NhZ2UnXSxcbiAgICAgIHVpOiB7XG4gICAgICAgIHBvcnQ6IGNvbmZpZy5icm93c2VyU3luY1BvcnRVaVxuICAgICAgfSxcbiAgICAgIG9wZW46IFwidWlcIlxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVsb2FkIGFsbCBkZXZpY2VzIHdoZW4gYnVuZGxlIGlzIGNvbXBsZXRlXG4gICAgICogb3Igc2VuZCBhIGZ1bGxzY3JlZW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgYnJvd3NlciBpbnN0ZWFkXG4gICAgICovXG4gICAgY29tcGlsZXIucGx1Z2luKCdkb25lJywgZnVuY3Rpb24oc3RhdHMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCd3ZWJwYWNrIGRvbmUgaG9vaycpO1xuICAgICAgaWYoc3RhdHMuaGFzRXJyb3JzKCkgfHwgc3RhdHMuaGFzV2FybmluZ3MoKSkge1xuICAgICAgICByZXR1cm4gYnJvd3NlclN5bmMuc29ja2V0cy5lbWl0KCdmdWxsc2NyZWVuOm1lc3NhZ2UnLCB7XG4gICAgICAgICAgdGl0bGU6ICdXZWJwYWNrIEVycm9yOicsXG4gICAgICAgICAgYm9keTogc3RyaXBBbnNpKHN0YXRzLnRvU3RyaW5nKCkpLFxuICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGJyb3dzZXJTeW5jLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYoZW52ID09PSAnZGV2ZWxvcG1lbnQnIHx8IGVudiA9PT0gJ3Rlc3QnKSB7XG4gICAgYXBwLnVzZShlcnJvckhhbmRsZXIoKSk7IC8vIEVycm9yIGhhbmRsZXIgLSBoYXMgdG8gYmUgbGFzdFxuICB9XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "express.js"
      ],
      "names": [
        "app",
        "env",
        "get",
        "use",
        "static",
        "join",
        "root",
        "set",
        "urlencoded",
        "extended",
        "json",
        "initialize",
        "secret",
        "secrets",
        "session",
        "saveUninitialized",
        "resave",
        "store",
        "MongoStore",
        "mongooseConnection",
        "connection",
        "db",
        "process",
        "SAUCE_USERNAME",
        "csrf",
        "angular",
        "xframe",
        "hsts",
        "maxAge",
        "includeSubDomains",
        "preload",
        "xssProtection",
        "webpackDevMiddleware",
        "require",
        "stripAnsi",
        "webpack",
        "makeWebpackConfig",
        "webpackConfig",
        "DEV",
        "compiler",
        "browserSync",
        "create",
        "console",
        "log",
        "PORT",
        "init",
        "open",
        "logFileChanges",
        "proxy",
        "port",
        "ws",
        "middleware",
        "noInfo",
        "stats",
        "colors",
        "timings",
        "chunks",
        "browserSyncPort",
        "plugins",
        "ui",
        "browserSyncPortUi",
        "plugin",
        "hasErrors",
        "hasWarnings",
        "sockets",
        "emit",
        "title",
        "body",
        "toString",
        "timeout",
        "reload"
      ],
      "mappings": "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",
      "file": "express.js",
      "sourceRoot": "/home/nitrous/server/config",
      "sourcesContent": [
        "/**\n * Express configuration\n */\n\n'use strict';\n\nimport express from 'express';\nimport favicon from 'serve-favicon';\nimport morgan from 'morgan';\nimport shrinkRay from 'shrink-ray';\nimport bodyParser from 'body-parser';\nimport methodOverride from 'method-override';\nimport cookieParser from 'cookie-parser';\nimport errorHandler from 'errorhandler';\nimport path from 'path';\nimport lusca from 'lusca';\nimport config from './environment';\nimport passport from 'passport';\nimport session from 'express-session';\nimport connectMongo from 'connect-mongo';\nimport mongoose from 'mongoose';\nvar MongoStore = connectMongo(session);\n\nexport default function(app) {\n  var env = app.get('env');\n\n  if(env === 'development' || env === 'test') {\n    app.use(express.static(path.join(config.root, '.tmp')));\n  }\n\n  if(env === 'production') {\n    app.use(favicon(path.join(config.root, 'client', 'favicon.ico')));\n  }\n\n  app.set('appPath', path.join(config.root, 'client'));\n  app.use(express.static(app.get('appPath')));\n  app.use(morgan('dev'));\n\n  app.set('views', `${config.root}/server/views`);\n  app.set('view engine', 'pug');\n  app.use(shrinkRay());\n  app.use(bodyParser.urlencoded({ extended: false }));\n  app.use(bodyParser.json());\n  app.use(methodOverride());\n  app.use(cookieParser());\n  app.use(passport.initialize());\n\n\n  // Persist sessions with MongoStore / sequelizeStore\n  // We need to enable sessions for passport-twitter because it's an\n  // oauth 1.0 strategy, and Lusca depends on sessions\n  app.use(session({\n    secret: config.secrets.session,\n    saveUninitialized: true,\n    resave: false,\n    store: new MongoStore({\n      mongooseConnection: mongoose.connection,\n      db: 'nitrous'\n    })\n  }));\n\n  /**\n   * Lusca - express server security\n   * https://github.com/krakenjs/lusca\n   */\n  if(env !== 'test' && !process.env.SAUCE_USERNAME) {\n    app.use(lusca({\n      csrf: {\n        angular: true\n      },\n      xframe: 'SAMEORIGIN',\n      hsts: {\n        maxAge: 31536000, //1 year, in seconds\n        includeSubDomains: true,\n        preload: true\n      },\n      xssProtection: true\n    }));\n  }\n\n  if(env === 'development') {\n    const webpackDevMiddleware = require('webpack-dev-middleware');\n    const stripAnsi = require('strip-ansi');\n    const webpack = require('webpack');\n    const makeWebpackConfig = require('../../webpack.make');\n    const webpackConfig = makeWebpackConfig({ DEV: true });\n    const compiler = webpack(webpackConfig);\n    const browserSync = require('browser-sync').create();\n\n    /**\n     * Run Browsersync and use middleware for Hot Module Replacement\n     */\n    console.log(process.env.PORT);\n    browserSync.init({\n      open: false,\n      logFileChanges: false,\n      proxy: `localhost:${config.port}`,\n      ws: true,\n      middleware: [\n        webpackDevMiddleware(compiler, {\n          noInfo: false,\n          stats: {\n            colors: true,\n            timings: true,\n            chunks: false\n          }\n        })\n      ],\n      port: config.browserSyncPort,\n      plugins: ['bs-fullscreen-message'],\n      ui: {\n        port: config.browserSyncPortUi\n      },\n      open: \"ui\"\n    });\n\n    /**\n     * Reload all devices when bundle is complete\n     * or send a fullscreen error message to the browser instead\n     */\n    compiler.plugin('done', function(stats) {\n      console.log('webpack done hook');\n      if(stats.hasErrors() || stats.hasWarnings()) {\n        return browserSync.sockets.emit('fullscreen:message', {\n          title: 'Webpack Error:',\n          body: stripAnsi(stats.toString()),\n          timeout: 100000\n        });\n      }\n      browserSync.reload();\n    });\n  }\n\n  if(env === 'development' || env === 'test') {\n    app.use(errorHandler()); // Error handler - has to be last\n  }\n}\n"
      ]
    },
    "mtime": 1475494036492
  },
  "{\"filename\":\"/home/nitrous/webpack.make.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/webpack.make.js",
      "filenameRelative": "/home/nitrous/webpack.make.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "webpack.make.js",
      "sourceFileName": "webpack.make.js",
      "sourceRoot": "/home/nitrous",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "webpack.make"
    },
    "ignored": false,
    "code": "'use strict';\n/*eslint-env node*/\n\nvar webpack = require('webpack');\nvar autoprefixer = require('autoprefixer');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar HtmlWebpackHarddiskPlugin = require('html-webpack-harddisk-plugin');\nvar ExtractTextPlugin = require('extract-text-webpack-plugin');\nvar CommonsChunkPlugin = webpack.optimize.CommonsChunkPlugin;\nvar fs = require('fs');\nvar path = require('path');\nvar ForkCheckerPlugin = require('awesome-typescript-loader').ForkCheckerPlugin;\n\nmodule.exports = function makeWebpackConfig(options) {\n    /**\n     * Environment type\n     * BUILD is for generating minified builds\n     * TEST is for generating test builds\n     */\n    var BUILD = !!options.BUILD;\n    var TEST = !!options.TEST;\n    var E2E = !!options.E2E;\n    var DEV = !!options.DEV;\n\n    /**\n     * Config\n     * Reference: http://webpack.github.io/docs/configuration.html\n     * This is the object where all configuration gets set\n     */\n    var config = {};\n\n    /**\n     * Entry\n     * Reference: http://webpack.github.io/docs/configuration.html#entry\n     * Should be an empty object if it's generating a test build\n     * Karma will set this when it's a test build\n     */\n    if (TEST) {\n        config.entry = {};\n    } else {\n        config.entry = {\n            app: './client/app/app.js',\n            polyfills: './client/polyfills.js',\n            vendor: ['angular', 'angular-animate', 'angular-aria', 'angular-cookies', 'angular-resource', 'angular-sanitize', 'angular-socket-io', 'angular-ui-bootstrap', 'angular-ui-router', 'lodash']\n        };\n    }\n\n    /**\n     * Output\n     * Reference: http://webpack.github.io/docs/configuration.html#output\n     * Should be an empty object if it's generating a test build\n     * Karma will handle setting it up for you when it's a test build\n     */\n    if (TEST) {\n        config.output = {};\n    } else {\n        config.output = {\n            // Absolute output directory\n            path: BUILD ? path.join(__dirname, '/dist/client/') : path.join(__dirname, '/.tmp/'),\n\n            // Output path from the view of the page\n            // Uses webpack-dev-server in development\n            publicPath: BUILD || DEV || E2E ? '/' : 'http://localhost:' + 8080 + '/',\n            //publicPath: BUILD ? '/' : 'http://localhost:' + env.port + '/',\n\n            // Filename for entry points\n            // Only adds hash in build mode\n            filename: BUILD ? '[name].[hash].js' : '[name].bundle.js',\n\n            // Filename for non-entry points\n            // Only adds hash in build mode\n            chunkFilename: BUILD ? '[name].[hash].js' : '[name].bundle.js'\n        };\n    }\n\n    if (TEST) {\n        config.resolve = {\n            modulesDirectories: ['node_modules'],\n            extensions: ['', '.js', '.ts']\n        };\n    }\n\n    /**\n     * Devtool\n     * Reference: http://webpack.github.io/docs/configuration.html#devtool\n     * Type of sourcemap to use per build type\n     */\n    if (TEST) {\n        config.devtool = 'inline-source-map';\n    } else if (BUILD || DEV) {\n        config.devtool = 'source-map';\n    } else {\n        config.devtool = 'eval';\n    }\n\n    /**\n     * Loaders\n     * Reference: http://webpack.github.io/docs/configuration.html#module-loaders\n     * List: http://webpack.github.io/docs/list-of-loaders.html\n     * This handles most of the magic responsible for converting modules\n     */\n\n    config.babel = {\n        shouldPrintComment: function shouldPrintComment(commentContents) {\n            // keep `/*@ngInject*/`\n            return (/@ngInject/.test(commentContents)\n            );\n        }\n    };\n\n    // Initialize module\n    config.module = {\n        preLoaders: [],\n        loaders: [{\n            // JS LOADER\n            // Reference: https://github.com/babel/babel-loader\n            // Transpile .js files using babel-loader\n            // Compiles ES6 and ES7 into ES5 code\n            test: /\\.js$/,\n            loader: 'babel',\n            include: [path.resolve(__dirname, 'client/'), path.resolve(__dirname, 'node_modules/lodash-es/')]\n        }, {\n            // TS LOADER\n            // Reference: https://github.com/s-panferov/awesome-typescript-loader\n            // Transpile .ts files using awesome-typescript-loader\n            test: /\\.ts$/,\n            loader: 'awesome-typescript-loader',\n            query: {\n                tsconfig: path.resolve(__dirname, 'tsconfig.client.json')\n            },\n            include: [path.resolve(__dirname, 'client/')]\n        }, {\n            // ASSET LOADER\n            // Reference: https://github.com/webpack/file-loader\n            // Copy png, jpg, jpeg, gif, svg, woff, woff2, ttf, eot files to output\n            // Rename the file using the asset hash\n            // Pass along the updated reference to your code\n            // You can add here any file extension you want to get copied to your output\n            test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)([\\?]?.*)$/,\n            loader: 'file'\n        }, {\n            // Pug HTML LOADER\n            // Reference: https://github.com/willyelm/pug-html-loader\n            // Allow loading Pug throw js\n            test: /\\.(jade|pug)$/,\n            loaders: ['pug-html']\n        }, {\n\n            // CSS LOADER\n            // Reference: https://github.com/webpack/css-loader\n            // Allow loading css through js\n            //\n            // Reference: https://github.com/postcss/postcss-loader\n            // Postprocess your css with PostCSS plugins\n            test: /\\.css$/,\n            loader: !TEST\n            // Reference: https://github.com/webpack/extract-text-webpack-plugin\n            // Extract css files in production builds\n            //\n            // Reference: https://github.com/webpack/style-loader\n            // Use style-loader in development for hot-loading\n            ? ExtractTextPlugin.extract('style', 'css?sourceMap!postcss')\n            // Reference: https://github.com/webpack/null-loader\n            // Skip loading css in test mode\n            : 'null'\n        }, {\n\n            // Stylus LOADER\n            // Reference: https://github.com/\n            test: /\\.styl$/,\n            loaders: ['style', 'css', 'stylus'],\n            include: [path.resolve(__dirname, 'node_modules/bootstrap-styl/bootstrap/*.styl'), path.resolve(__dirname, 'client/app/app.styl')]\n        }]\n    };\n\n    config.module.postLoaders = [{\n        test: /\\.js$/,\n        loader: 'ng-annotate?single_quotes'\n    }];\n\n    // ISPARTA INSTRUMENTER LOADER\n    // Reference: https://github.com/ColCh/isparta-instrumenter-loader\n    // Instrument JS files with Isparta for subsequent code coverage reporting\n    // Skips node_modules and spec files\n    if (TEST) {\n        config.module.preLoaders.push({\n            //delays coverage til after tests are run, fixing transpiled source coverage error\n            test: /\\.js$/,\n            exclude: /(node_modules|spec\\.js|mock\\.js)/,\n            loader: 'isparta-instrumenter',\n            query: {\n                babel: {\n                    // optional: ['runtime', 'es7.classProperties', 'es7.decorators']\n                }\n            }\n        });\n    }\n\n    /**\n     * PostCSS\n     * Reference: https://github.com/postcss/autoprefixer-core\n     * Add vendor prefixes to your css\n     */\n    config.postcss = [autoprefixer({\n        browsers: ['last 2 version']\n    })];\n\n    /**\n     * Plugins\n     * Reference: http://webpack.github.io/docs/configuration.html#plugins\n     * List: http://webpack.github.io/docs/list-of-plugins.html\n     */\n    config.plugins = [\n    /*\n     * Plugin: ForkCheckerPlugin\n     * Description: Do type checking in a separate process, so webpack don't need to wait.\n     *\n     * See: https://github.com/s-panferov/awesome-typescript-loader#forkchecker-boolean-defaultfalse\n     */\n    new ForkCheckerPlugin(),\n\n    // Reference: https://github.com/webpack/extract-text-webpack-plugin\n    // Extract css files\n    // Disabled when in test mode or not in build mode\n    new ExtractTextPlugin('[name].[hash].css', {\n        disable: !BUILD || TEST\n    })];\n\n    if (!TEST) {\n        config.plugins.push(new CommonsChunkPlugin({\n            name: 'vendor',\n\n            // filename: \"vendor.js\"\n            // (Give the chunk a different name)\n\n            minChunks: Infinity\n            // (with more entries, this ensures that no other module\n            //  goes into the vendor chunk)\n        }));\n    }\n\n    // Skip rendering index.html in test mode\n    // Reference: https://github.com/ampedandwired/html-webpack-plugin\n    // Render index.html\n    var htmlConfig = {\n        template: 'client/_index.html',\n        filename: '../client/index.html',\n        alwaysWriteToDisk: true\n    };\n    config.plugins.push(new HtmlWebpackPlugin(htmlConfig), new HtmlWebpackHarddiskPlugin());\n\n    // Add build specific plugins\n    if (BUILD) {\n        config.plugins.push(\n        // Reference: http://webpack.github.io/docs/list-of-plugins.html#noerrorsplugin\n        // Only emit files when there are no errors\n        new webpack.NoErrorsPlugin(),\n\n        // Reference: http://webpack.github.io/docs/list-of-plugins.html#dedupeplugin\n        // Dedupe modules in the output\n        new webpack.optimize.DedupePlugin(),\n\n        // Reference: http://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin\n        // Minify all javascript, switch loaders to minimizing mode\n        new webpack.optimize.UglifyJsPlugin({\n            mangle: false,\n            output: {\n                comments: false\n            },\n            compress: {\n                warnings: false\n            }\n        }),\n\n        // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n        // Define free global variables\n        new webpack.DefinePlugin({\n            'process.env': {\n                NODE_ENV: '\"production\"'\n            }\n        }));\n    }\n\n    if (DEV) {\n        config.plugins.push(\n        // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n        // Define free global variables\n        new webpack.DefinePlugin({\n            'process.env': {\n                NODE_ENV: '\"development\"'\n            }\n        }));\n    }\n\n    config.cache = DEV;\n\n    if (TEST) {\n        config.stats = {\n            colors: true,\n            reasons: true\n        };\n        config.debug = false;\n    }\n\n    /**\n     * Dev server configuration\n     * Reference: http://webpack.github.io/docs/configuration.html#devserver\n     * Reference: http://webpack.github.io/docs/webpack-dev-server.html\n     */\n    config.devServer = {\n        contentBase: './client/',\n        stats: {\n            modules: false,\n            cached: false,\n            colors: true,\n            chunk: false\n        }\n    };\n\n    config.node = {\n        global: 'window',\n        process: true,\n        crypto: 'empty',\n        clearImmediate: false,\n        setImmediate: false\n    };\n\n    return config;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2subWFrZS5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrIiwicmVxdWlyZSIsImF1dG9wcmVmaXhlciIsIkh0bWxXZWJwYWNrUGx1Z2luIiwiSHRtbFdlYnBhY2tIYXJkZGlza1BsdWdpbiIsIkV4dHJhY3RUZXh0UGx1Z2luIiwiQ29tbW9uc0NodW5rUGx1Z2luIiwib3B0aW1pemUiLCJmcyIsInBhdGgiLCJGb3JrQ2hlY2tlclBsdWdpbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJtYWtlV2VicGFja0NvbmZpZyIsIm9wdGlvbnMiLCJCVUlMRCIsIlRFU1QiLCJFMkUiLCJERVYiLCJjb25maWciLCJlbnRyeSIsImFwcCIsInBvbHlmaWxscyIsInZlbmRvciIsIm91dHB1dCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJwdWJsaWNQYXRoIiwiZmlsZW5hbWUiLCJjaHVua0ZpbGVuYW1lIiwicmVzb2x2ZSIsIm1vZHVsZXNEaXJlY3RvcmllcyIsImV4dGVuc2lvbnMiLCJkZXZ0b29sIiwiYmFiZWwiLCJzaG91bGRQcmludENvbW1lbnQiLCJjb21tZW50Q29udGVudHMiLCJ0ZXN0IiwicHJlTG9hZGVycyIsImxvYWRlcnMiLCJsb2FkZXIiLCJpbmNsdWRlIiwicXVlcnkiLCJ0c2NvbmZpZyIsImV4dHJhY3QiLCJwb3N0TG9hZGVycyIsInB1c2giLCJleGNsdWRlIiwicG9zdGNzcyIsImJyb3dzZXJzIiwicGx1Z2lucyIsImRpc2FibGUiLCJuYW1lIiwibWluQ2h1bmtzIiwiSW5maW5pdHkiLCJodG1sQ29uZmlnIiwidGVtcGxhdGUiLCJhbHdheXNXcml0ZVRvRGlzayIsIk5vRXJyb3JzUGx1Z2luIiwiRGVkdXBlUGx1Z2luIiwiVWdsaWZ5SnNQbHVnaW4iLCJtYW5nbGUiLCJjb21tZW50cyIsImNvbXByZXNzIiwid2FybmluZ3MiLCJEZWZpbmVQbHVnaW4iLCJOT0RFX0VOViIsImNhY2hlIiwic3RhdHMiLCJjb2xvcnMiLCJyZWFzb25zIiwiZGVidWciLCJkZXZTZXJ2ZXIiLCJjb250ZW50QmFzZSIsIm1vZHVsZXMiLCJjYWNoZWQiLCJjaHVuayIsIm5vZGUiLCJnbG9iYWwiLCJwcm9jZXNzIiwiY3J5cHRvIiwiY2xlYXJJbW1lZGlhdGUiLCJzZXRJbW1lZGlhdGUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBQ0EsSUFBSUEsVUFBVUMsUUFBUSxTQUFSLENBQWQ7QUFDQSxJQUFJQyxlQUFlRCxRQUFRLGNBQVIsQ0FBbkI7QUFDQSxJQUFJRSxvQkFBb0JGLFFBQVEscUJBQVIsQ0FBeEI7QUFDQSxJQUFJRyw0QkFBNEJILFFBQVEsOEJBQVIsQ0FBaEM7QUFDQSxJQUFJSSxvQkFBb0JKLFFBQVEsNkJBQVIsQ0FBeEI7QUFDQSxJQUFJSyxxQkFBcUJOLFFBQVFPLFFBQVIsQ0FBaUJELGtCQUExQztBQUNBLElBQUlFLEtBQUtQLFFBQVEsSUFBUixDQUFUO0FBQ0EsSUFBSVEsT0FBT1IsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJUyxvQkFBb0JULFFBQVEsMkJBQVIsRUFBcUNTLGlCQUE3RDs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQixTQUFTQyxpQkFBVCxDQUEyQkMsT0FBM0IsRUFBb0M7QUFDakQ7Ozs7O0FBS0EsUUFBSUMsUUFBUSxDQUFDLENBQUNELFFBQVFDLEtBQXRCO0FBQ0EsUUFBSUMsT0FBTyxDQUFDLENBQUNGLFFBQVFFLElBQXJCO0FBQ0EsUUFBSUMsTUFBTSxDQUFDLENBQUNILFFBQVFHLEdBQXBCO0FBQ0EsUUFBSUMsTUFBTSxDQUFDLENBQUNKLFFBQVFJLEdBQXBCOztBQUVBOzs7OztBQUtBLFFBQUlDLFNBQVMsRUFBYjs7QUFFQTs7Ozs7O0FBTUEsUUFBR0gsSUFBSCxFQUFTO0FBQ0xHLGVBQU9DLEtBQVAsR0FBZSxFQUFmO0FBQ0gsS0FGRCxNQUVPO0FBQ0hELGVBQU9DLEtBQVAsR0FBZTtBQUNYQyxpQkFBSyxxQkFETTtBQUVYQyx1QkFBVyx1QkFGQTtBQUdYQyxvQkFBUSxDQUNKLFNBREksRUFFSixpQkFGSSxFQUdKLGNBSEksRUFJSixpQkFKSSxF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TixvQkFBUSxJQUhMO0FBSUhPLG1CQUFPO0FBSko7QUFGUSxLQUFuQjs7QUFVQXpELFdBQU8wRCxJQUFQLEdBQWM7QUFDVkMsZ0JBQVEsUUFERTtBQUVWQyxpQkFBUyxJQUZDO0FBR1ZDLGdCQUFRLE9BSEU7QUFJVkMsd0JBQWdCLEtBSk47QUFLVkMsc0JBQWM7QUFMSixLQUFkOztBQVFBLFdBQU8vRCxNQUFQO0FBQ0gsQ0E3VkQiLCJmaWxlIjoid2VicGFjay5tYWtlLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vKmVzbGludC1lbnYgbm9kZSovXG52YXIgd2VicGFjayA9IHJlcXVpcmUoJ3dlYnBhY2snKTtcbnZhciBhdXRvcHJlZml4ZXIgPSByZXF1aXJlKCdhdXRvcHJlZml4ZXInKTtcbnZhciBIdG1sV2VicGFja1BsdWdpbiA9IHJlcXVpcmUoJ2h0bWwtd2VicGFjay1wbHVnaW4nKTtcbnZhciBIdG1sV2VicGFja0hhcmRkaXNrUGx1Z2luID0gcmVxdWlyZSgnaHRtbC13ZWJwYWNrLWhhcmRkaXNrLXBsdWdpbicpO1xudmFyIEV4dHJhY3RUZXh0UGx1Z2luID0gcmVxdWlyZSgnZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luJyk7XG52YXIgQ29tbW9uc0NodW5rUGx1Z2luID0gd2VicGFjay5vcHRpbWl6ZS5Db21tb25zQ2h1bmtQbHVnaW47XG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgRm9ya0NoZWNrZXJQbHVnaW4gPSByZXF1aXJlKCdhd2Vzb21lLXR5cGVzY3JpcHQtbG9hZGVyJykuRm9ya0NoZWNrZXJQbHVnaW47XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZVdlYnBhY2tDb25maWcob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEVudmlyb25tZW50IHR5cGVcbiAgICAgKiBCVUlMRCBpcyBmb3IgZ2VuZXJhdGluZyBtaW5pZmllZCBidWlsZHNcbiAgICAgKiBURVNUIGlzIGZvciBnZW5lcmF0aW5nIHRlc3QgYnVpbGRzXG4gICAgICovXG4gICAgdmFyIEJVSUxEID0gISFvcHRpb25zLkJVSUxEO1xuICAgIHZhciBURVNUID0gISFvcHRpb25zLlRFU1Q7XG4gICAgdmFyIEUyRSA9ICEhb3B0aW9ucy5FMkU7XG4gICAgdmFyIERFViA9ICEhb3B0aW9ucy5ERVY7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWdcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbFxuICAgICAqIFRoaXMgaXMgdGhlIG9iamVjdCB3aGVyZSBhbGwgY29uZmlndXJhdGlvbiBnZXRzIHNldFxuICAgICAqL1xuICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEVudHJ5XG4gICAgICogUmVmZXJlbmNlOiBodHRwOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9jb25maWd1cmF0aW9uLmh0bWwjZW50cnlcbiAgICAgKiBTaG91bGQgYmUgYW4gZW1wdHkgb2JqZWN0IGlmIGl0J3MgZ2VuZXJhdGluZyBhIHRlc3QgYnVpbGRcbiAgICAgKiBLYXJtYSB3aWxsIHNldCB0aGlzIHdoZW4gaXQncyBhIHRlc3QgYnVpbGRcbiAgICAgKi9cbiAgICBpZihURVNUKSB7XG4gICAgICAgIGNvbmZpZy5lbnRyeSA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5lbnRyeSA9IHtcbiAgICAgICAgICAgIGFwcDogJy4vY2xpZW50L2FwcC9hcHAuanMnLFxuICAgICAgICAgICAgcG9seWZpbGxzOiAnLi9jbGllbnQvcG9seWZpbGxzLmpzJyxcbiAgICAgICAgICAgIHZlbmRvcjogW1xuICAgICAgICAgICAgICAgICdhbmd1bGFyJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1hbmltYXRlJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1hcmlhJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1jb29raWVzJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci1yZXNvdXJjZScsXG5cbiAgICAgICAgICAgICAgICAnYW5ndWxhci1zYW5pdGl6ZScsXG4gICAgICAgICAgICAgICAgJ2FuZ3VsYXItc29ja2V0LWlvJyxcbiAgICAgICAgICAgICAgICAnYW5ndWxhci11aS1ib290c3RyYXAnLFxuICAgICAgICAgICAgICAgICdhbmd1bGFyLXVpLXJvdXRlcicsXG4gICAgICAgICAgICAgICAgJ2xvZGFzaCdcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdXRwdXRcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbCNvdXRwdXRcbiAgICAgKiBTaG91bGQgYmUgYW4gZW1wdHkgb2JqZWN0IGlmIGl0J3MgZ2VuZXJhdGluZyBhIHRlc3QgYnVpbGRcbiAgICAgKiBLYXJtYSB3aWxsIGhhbmRsZSBzZXR0aW5nIGl0IHVwIGZvciB5b3Ugd2hlbiBpdCdzIGEgdGVzdCBidWlsZFxuICAgICAqL1xuICAgIGlmKFRFU1QpIHtcbiAgICAgICAgY29uZmlnLm91dHB1dCA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5vdXRwdXQgPSB7XG4gICAgICAgICAgICAvLyBBYnNvbHV0ZSBvdXRwdXQgZGlyZWN0b3J5XG4gICAgICAgICAgICBwYXRoOiBCVUlMRCA/IHBhdGguam9pbihfX2Rpcm5hbWUsICcvZGlzdC9jbGllbnQvJykgOiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy50bXAvJyksXG5cbiAgICAgICAgICAgIC8vIE91dHB1dCBwYXRoIGZyb20gdGhlIHZpZXcgb2YgdGhlIHBhZ2VcbiAgICAgICAgICAgIC8vIFVzZXMgd2VicGFjay1kZXYtc2VydmVyIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgICBwdWJsaWNQYXRoOiBCVUlMRCB8fCBERVYgfHwgRTJFID8gJy8nIDogYGh0dHA6Ly9sb2NhbGhvc3Q6JHs4MDgwfS9gLFxuICAgICAgICAgICAgLy9wdWJsaWNQYXRoOiBCVUlMRCA/ICcvJyA6ICdodHRwOi8vbG9jYWxob3N0OicgKyBlbnYucG9ydCArICcvJyxcblxuICAgICAgICAgICAgLy8gRmlsZW5hbWUgZm9yIGVudHJ5IHBvaW50c1xuICAgICAgICAgICAgLy8gT25seSBhZGRzIGhhc2ggaW4gYnVpbGQgbW9kZVxuICAgICAgICAgICAgZmlsZW5hbWU6IEJVSUxEID8gJ1tuYW1lXS5baGFzaF0uanMnIDogJ1tuYW1lXS5idW5kbGUuanMnLFxuXG4gICAgICAgICAgICAvLyBGaWxlbmFtZSBmb3Igbm9uLWVudHJ5IHBvaW50c1xuICAgICAgICAgICAgLy8gT25seSBhZGRzIGhhc2ggaW4gYnVpbGQgbW9kZVxuICAgICAgICAgICAgY2h1bmtGaWxlbmFtZTogQlVJTEQgPyAnW25hbWVdLltoYXNoXS5qcycgOiAnW25hbWVdLmJ1bmRsZS5qcydcbiAgICAgICAgfTtcbiAgICB9XG5cblxuXG4gICAgaWYoVEVTVCkge1xuICAgICAgICBjb25maWcucmVzb2x2ZSA9IHtcbiAgICAgICAgICAgIG1vZHVsZXNEaXJlY3RvcmllczogW1xuICAgICAgICAgICAgICAgICdub2RlX21vZHVsZXMnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycnLCAnLmpzJywgJy50cyddXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV2dG9vbFxuICAgICAqIFJlZmVyZW5jZTogaHR0cDovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvY29uZmlndXJhdGlvbi5odG1sI2RldnRvb2xcbiAgICAgKiBUeXBlIG9mIHNvdXJjZW1hcCB0byB1c2UgcGVyIGJ1aWxkIHR5cGVcbiAgICAgKi9cbiAgICBpZihURVNUKSB7XG4gICAgICAgIGNvbmZpZy5kZXZ0b29sID0gJ2lubGluZS1zb3VyY2UtbWFwJztcbiAgICB9IGVsc2UgaWYoQlVJTEQgfHwgREVWKSB7XG4gICAgICAgIGNvbmZpZy5kZXZ0b29sID0gJ3NvdXJjZS1tYXAnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5kZXZ0b29sID0gJ2V2YWwnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRlcnNcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbCNtb2R1bGUtbG9hZGVyc1xuICAgICAqIExpc3Q6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2xpc3Qtb2YtbG9hZGVycy5odG1sXG4gICAgICogVGhpcyBoYW5kbGVzIG1vc3Qgb2YgdGhlIG1hZ2ljIHJlc3BvbnNpYmxlIGZvciBjb252ZXJ0aW5nIG1vZHVsZXNcbiAgICAgKi9cblxuXG4gICAgY29uZmlnLmJhYmVsID0ge1xuICAgICAgICBzaG91bGRQcmludENvbW1lbnQoY29tbWVudENvbnRlbnRzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGAvKkBuZ0luamVjdCovYFxuICAgICAgICAgICAgcmV0dXJuIC9AbmdJbmplY3QvLnRlc3QoY29tbWVudENvbnRlbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgbW9kdWxlXG4gICAgY29uZmlnLm1vZHVsZSA9IHtcbiAgICAgICAgcHJlTG9hZGVyczogW10sXG4gICAgICAgIGxvYWRlcnM6IFt7XG4gICAgICAgICAgICAvLyBKUyBMT0FERVJcbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsLWxvYWRlclxuICAgICAgICAgICAgLy8gVHJhbnNwaWxlIC5qcyBmaWxlcyB1c2luZyBiYWJlbC1sb2FkZXJcbiAgICAgICAgICAgIC8vIENvbXBpbGVzIEVTNiBhbmQgRVM3IGludG8gRVM1IGNvZGVcbiAgICAgICAgICAgIHRlc3Q6IC9cXC5qcyQvLFxuICAgICAgICAgICAgbG9hZGVyOiAnYmFiZWwnLFxuICAgICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAgICAgIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdjbGllbnQvJyksXG4gICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvJylcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgLy8gVFMgTE9BREVSXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9zLXBhbmZlcm92L2F3ZXNvbWUtdHlwZXNjcmlwdC1sb2FkZXJcbiAgICAgICAgICAgIC8vIFRyYW5zcGlsZSAudHMgZmlsZXMgdXNpbmcgYXdlc29tZS10eXBlc2NyaXB0LWxvYWRlclxuICAgICAgICAgICAgdGVzdDogL1xcLnRzJC8sXG4gICAgICAgICAgICBsb2FkZXI6ICdhd2Vzb21lLXR5cGVzY3JpcHQtbG9hZGVyJyxcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgdHNjb25maWc6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICd0c2NvbmZpZy5jbGllbnQuanNvbicpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAgICAgIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdjbGllbnQvJylcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgLy8gQVNTRVQgTE9BREVSXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL2ZpbGUtbG9hZGVyXG4gICAgICAgICAgICAvLyBDb3B5IHBuZywganBnLCBqcGVnLCBnaWYsIHN2Zywgd29mZiwgd29mZjIsIHR0ZiwgZW90IGZpbGVzIHRvIG91dHB1dFxuICAgICAgICAgICAgLy8gUmVuYW1lIHRoZSBmaWxlIHVzaW5nIHRoZSBhc3NldCBoYXNoXG4gICAgICAgICAgICAvLyBQYXNzIGFsb25nIHRoZSB1cGRhdGVkIHJlZmVyZW5jZSB0byB5b3VyIGNvZGVcbiAgICAgICAgICAgIC8vIFlvdSBjYW4gYWRkIGhlcmUgYW55IGZpbGUgZXh0ZW5zaW9uIHlvdSB3YW50IHRvIGdldCBjb3BpZWQgdG8geW91ciBvdXRwdXRcbiAgICAgICAgICAgIHRlc3Q6IC9cXC4ocG5nfGpwZ3xqcGVnfGdpZnxzdmd8d29mZnx3b2ZmMnx0dGZ8ZW90KShbXFw/XT8uKikkLyxcbiAgICAgICAgICAgIGxvYWRlcjogJ2ZpbGUnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIC8vIFB1ZyBIVE1MIExPQURFUlxuICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vd2lsbHllbG0vcHVnLWh0bWwtbG9hZGVyXG4gICAgICAgICAgICAvLyBBbGxvdyBsb2FkaW5nIFB1ZyB0aHJvdyBqc1xuICAgICAgICAgICAgdGVzdDogL1xcLihqYWRlfHB1ZykkLyxcbiAgICAgICAgICAgIGxvYWRlcnM6IFsncHVnLWh0bWwnXVxuICAgICAgICB9LCB7XG5cbiAgICAgICAgICAgIC8vIENTUyBMT0FERVJcbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2svY3NzLWxvYWRlclxuICAgICAgICAgICAgLy8gQWxsb3cgbG9hZGluZyBjc3MgdGhyb3VnaCBqc1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL3Bvc3Rjc3MvcG9zdGNzcy1sb2FkZXJcbiAgICAgICAgICAgIC8vIFBvc3Rwcm9jZXNzIHlvdXIgY3NzIHdpdGggUG9zdENTUyBwbHVnaW5zXG4gICAgICAgICAgICB0ZXN0OiAvXFwuY3NzJC8sXG4gICAgICAgICAgICBsb2FkZXI6ICFURVNUXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay9leHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGNzcyBmaWxlcyBpbiBwcm9kdWN0aW9uIGJ1aWxkc1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay9zdHlsZS1sb2FkZXJcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3R5bGUtbG9hZGVyIGluIGRldmVsb3BtZW50IGZvciBob3QtbG9hZGluZ1xuICAgICAgICAgICAgICAgID8gRXh0cmFjdFRleHRQbHVnaW4uZXh0cmFjdCgnc3R5bGUnLCAnY3NzP3NvdXJjZU1hcCFwb3N0Y3NzJylcbiAgICAgICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL251bGwtbG9hZGVyXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBsb2FkaW5nIGNzcyBpbiB0ZXN0IG1vZGVcbiAgICAgICAgICAgICAgICA6ICdudWxsJ1xuICAgICAgICB9LCB7XG5cblxuICAgICAgICAgICAgLy8gU3R5bHVzIExPQURFUlxuICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwczovL2dpdGh1Yi5jb20vXG4gICAgICAgICAgICB0ZXN0OiAvXFwuc3R5bCQvLFxuICAgICAgICAgICAgbG9hZGVyczogWydzdHlsZScsICdjc3MnLCAnc3R5bHVzJ10sXG4gICAgICAgICAgICBpbmNsdWRlOiBbXG4gICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ25vZGVfbW9kdWxlcy9ib290c3RyYXAtc3R5bC9ib290c3RyYXAvKi5zdHlsJyksXG4gICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ2NsaWVudC9hcHAvYXBwLnN0eWwnKVxuICAgICAgICAgICAgXVxuICAgICAgICB9XVxuICAgIH07XG5cbiAgICBjb25maWcubW9kdWxlLnBvc3RMb2FkZXJzID0gW3tcbiAgICAgICAgdGVzdDogL1xcLmpzJC8sXG4gICAgICAgIGxvYWRlcjogJ25nLWFubm90YXRlP3NpbmdsZV9xdW90ZXMnXG4gICAgfV07XG5cbiAgICAvLyBJU1BBUlRBIElOU1RSVU1FTlRFUiBMT0FERVJcbiAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9Db2xDaC9pc3BhcnRhLWluc3RydW1lbnRlci1sb2FkZXJcbiAgICAvLyBJbnN0cnVtZW50IEpTIGZpbGVzIHdpdGggSXNwYXJ0YSBmb3Igc3Vic2VxdWVudCBjb2RlIGNvdmVyYWdlIHJlcG9ydGluZ1xuICAgIC8vIFNraXBzIG5vZGVfbW9kdWxlcyBhbmQgc3BlYyBmaWxlc1xuICAgIGlmKFRFU1QpIHtcbiAgICAgICAgY29uZmlnLm1vZHVsZS5wcmVMb2FkZXJzLnB1c2goe1xuICAgICAgICAgICAgLy9kZWxheXMgY292ZXJhZ2UgdGlsIGFmdGVyIHRlc3RzIGFyZSBydW4sIGZpeGluZyB0cmFuc3BpbGVkIHNvdXJjZSBjb3ZlcmFnZSBlcnJvclxuICAgICAgICAgICAgdGVzdDogL1xcLmpzJC8sXG4gICAgICAgICAgICBleGNsdWRlOiAvKG5vZGVfbW9kdWxlc3xzcGVjXFwuanN8bW9ja1xcLmpzKS8sXG4gICAgICAgICAgICBsb2FkZXI6ICdpc3BhcnRhLWluc3RydW1lbnRlcicsXG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgIGJhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsOiBbJ3J1bnRpbWUnLCAnZXM3LmNsYXNzUHJvcGVydGllcycsICdlczcuZGVjb3JhdG9ycyddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFBvc3RDU1NcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9wb3N0Y3NzL2F1dG9wcmVmaXhlci1jb3JlXG4gICAgICogQWRkIHZlbmRvciBwcmVmaXhlcyB0byB5b3VyIGNzc1xuICAgICAqL1xuICAgIGNvbmZpZy5wb3N0Y3NzID0gW1xuICAgICAgICBhdXRvcHJlZml4ZXIoe1xuICAgICAgICAgICAgYnJvd3NlcnM6IFsnbGFzdCAyIHZlcnNpb24nXVxuICAgICAgICB9KVxuICAgIF07XG5cbiAgICAvKipcbiAgICAgKiBQbHVnaW5zXG4gICAgICogUmVmZXJlbmNlOiBodHRwOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9jb25maWd1cmF0aW9uLmh0bWwjcGx1Z2luc1xuICAgICAqIExpc3Q6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2xpc3Qtb2YtcGx1Z2lucy5odG1sXG4gICAgICovXG4gICAgY29uZmlnLnBsdWdpbnMgPSBbXG4gICAgICAgIC8qXG4gICAgICAgICAqIFBsdWdpbjogRm9ya0NoZWNrZXJQbHVnaW5cbiAgICAgICAgICogRGVzY3JpcHRpb246IERvIHR5cGUgY2hlY2tpbmcgaW4gYSBzZXBhcmF0ZSBwcm9jZXNzLCBzbyB3ZWJwYWNrIGRvbid0IG5lZWQgdG8gd2FpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcy1wYW5mZXJvdi9hd2Vzb21lLXR5cGVzY3JpcHQtbG9hZGVyI2ZvcmtjaGVja2VyLWJvb2xlYW4tZGVmYXVsdGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBuZXcgRm9ya0NoZWNrZXJQbHVnaW4oKSxcblxuICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL2V4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuICAgICAgICAvLyBFeHRyYWN0IGNzcyBmaWxlc1xuICAgICAgICAvLyBEaXNhYmxlZCB3aGVuIGluIHRlc3QgbW9kZSBvciBub3QgaW4gYnVpbGQgbW9kZVxuICAgICAgICBuZXcgRXh0cmFjdFRleHRQbHVnaW4oJ1tuYW1lXS5baGFzaF0uY3NzJywge1xuICAgICAgICAgICAgZGlzYWJsZTogIUJVSUxEIHx8IFRFU1RcbiAgICAgICAgfSlcbiAgICBdO1xuXG4gICAgaWYoIVRFU1QpIHtcbiAgICAgICAgY29uZmlnLnBsdWdpbnMucHVzaChuZXcgQ29tbW9uc0NodW5rUGx1Z2luKHtcbiAgICAgICAgICAgIG5hbWU6ICd2ZW5kb3InLFxuXG4gICAgICAgICAgICAvLyBmaWxlbmFtZTogXCJ2ZW5kb3IuanNcIlxuICAgICAgICAgICAgLy8gKEdpdmUgdGhlIGNodW5rIGEgZGlmZmVyZW50IG5hbWUpXG5cbiAgICAgICAgICAgIG1pbkNodW5rczogSW5maW5pdHlcbiAgICAgICAgICAgIC8vICh3aXRoIG1vcmUgZW50cmllcywgdGhpcyBlbnN1cmVzIHRoYXQgbm8gb3RoZXIgbW9kdWxlXG4gICAgICAgICAgICAvLyAgZ29lcyBpbnRvIHRoZSB2ZW5kb3IgY2h1bmspXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvLyBTa2lwIHJlbmRlcmluZyBpbmRleC5odG1sIGluIHRlc3QgbW9kZVxuICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL2FtcGVkYW5kd2lyZWQvaHRtbC13ZWJwYWNrLXBsdWdpblxuICAgIC8vIFJlbmRlciBpbmRleC5odG1sXG4gICAgbGV0IGh0bWxDb25maWcgPSB7XG4gICAgICAgIHRlbXBsYXRlOiAnY2xpZW50L19pbmRleC5odG1sJyxcbiAgICAgICAgZmlsZW5hbWU6ICcuLi9jbGllbnQvaW5kZXguaHRtbCcsXG4gICAgICAgIGFsd2F5c1dyaXRlVG9EaXNrOiB0cnVlXG4gICAgfVxuICAgIGNvbmZpZy5wbHVnaW5zLnB1c2goXG4gICAgICBuZXcgSHRtbFdlYnBhY2tQbHVnaW4oaHRtbENvbmZpZyksXG4gICAgICBuZXcgSHRtbFdlYnBhY2tIYXJkZGlza1BsdWdpbigpXG4gICAgKTtcblxuICAgIC8vIEFkZCBidWlsZCBzcGVjaWZpYyBwbHVnaW5zXG4gICAgaWYoQlVJTEQpIHtcbiAgICAgICAgY29uZmlnLnBsdWdpbnMucHVzaChcbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cDovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvbGlzdC1vZi1wbHVnaW5zLmh0bWwjbm9lcnJvcnNwbHVnaW5cbiAgICAgICAgICAgIC8vIE9ubHkgZW1pdCBmaWxlcyB3aGVuIHRoZXJlIGFyZSBubyBlcnJvcnNcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLk5vRXJyb3JzUGx1Z2luKCksXG5cbiAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cDovL3dlYnBhY2suZ2l0aHViLmlvL2RvY3MvbGlzdC1vZi1wbHVnaW5zLmh0bWwjZGVkdXBlcGx1Z2luXG4gICAgICAgICAgICAvLyBEZWR1cGUgbW9kdWxlcyBpbiB0aGUgb3V0cHV0XG4gICAgICAgICAgICBuZXcgd2VicGFjay5vcHRpbWl6ZS5EZWR1cGVQbHVnaW4oKSxcblxuICAgICAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9saXN0LW9mLXBsdWdpbnMuaHRtbCN1Z2xpZnlqc3BsdWdpblxuICAgICAgICAgICAgLy8gTWluaWZ5IGFsbCBqYXZhc2NyaXB0LCBzd2l0Y2ggbG9hZGVycyB0byBtaW5pbWl6aW5nIG1vZGVcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLm9wdGltaXplLlVnbGlmeUpzUGx1Z2luKHtcbiAgICAgICAgICAgICAgICBtYW5nbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50czogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXByZXNzOiB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9saXN0LW9mLXBsdWdpbnMuaHRtbCNkZWZpbmVwbHVnaW5cbiAgICAgICAgICAgIC8vIERlZmluZSBmcmVlIGdsb2JhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLkRlZmluZVBsdWdpbih7XG4gICAgICAgICAgICAgICAgJ3Byb2Nlc3MuZW52Jzoge1xuICAgICAgICAgICAgICAgICAgICBOT0RFX0VOVjogJ1wicHJvZHVjdGlvblwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYoREVWKSB7XG4gICAgICAgIGNvbmZpZy5wbHVnaW5zLnB1c2goXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vd2VicGFjay5naXRodWIuaW8vZG9jcy9saXN0LW9mLXBsdWdpbnMuaHRtbCNkZWZpbmVwbHVnaW5cbiAgICAgICAgICAgIC8vIERlZmluZSBmcmVlIGdsb2JhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgIG5ldyB3ZWJwYWNrLkRlZmluZVBsdWdpbih7XG4gICAgICAgICAgICAgICAgJ3Byb2Nlc3MuZW52Jzoge1xuICAgICAgICAgICAgICAgICAgICBOT0RFX0VOVjogJ1wiZGV2ZWxvcG1lbnRcIidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbmZpZy5jYWNoZSA9IERFVjtcblxuICAgIGlmKFRFU1QpIHtcbiAgICAgICAgY29uZmlnLnN0YXRzID0ge1xuICAgICAgICAgICAgY29sb3JzOiB0cnVlLFxuICAgICAgICAgICAgcmVhc29uczogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBjb25maWcuZGVidWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXYgc2VydmVyIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2NvbmZpZ3VyYXRpb24uaHRtbCNkZXZzZXJ2ZXJcbiAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL3dlYnBhY2stZGV2LXNlcnZlci5odG1sXG4gICAgICovXG4gICAgY29uZmlnLmRldlNlcnZlciA9IHtcbiAgICAgICAgY29udGVudEJhc2U6ICcuL2NsaWVudC8nLFxuICAgICAgICBzdGF0czoge1xuICAgICAgICAgICAgbW9kdWxlczogZmFsc2UsXG4gICAgICAgICAgICBjYWNoZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sb3JzOiB0cnVlLFxuICAgICAgICAgICAgY2h1bms6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uZmlnLm5vZGUgPSB7XG4gICAgICAgIGdsb2JhbDogJ3dpbmRvdycsXG4gICAgICAgIHByb2Nlc3M6IHRydWUsXG4gICAgICAgIGNyeXB0bzogJ2VtcHR5JyxcbiAgICAgICAgY2xlYXJJbW1lZGlhdGU6IGZhbHNlLFxuICAgICAgICBzZXRJbW1lZGlhdGU6IGZhbHNlXG4gICAgfTtcblxuICAgIHJldHVybiBjb25maWc7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "webpack.make.js"
      ],
      "names": [
        "webpack",
        "require",
        "autoprefixer",
        "HtmlWebpackPlugin",
        "HtmlWebpackHarddiskPlugin",
        "ExtractTextPlugin",
        "CommonsChunkPlugin",
        "optimize",
        "fs",
        "path",
        "ForkCheckerPlugin",
        "module",
        "exports",
        "makeWebpackConfig",
        "options",
        "BUILD",
        "TEST",
        "E2E",
        "DEV",
        "config",
        "entry",
        "app",
        "polyfills",
        "vendor",
        "output",
        "join",
        "__dirname",
        "publicPath",
        "filename",
        "chunkFilename",
        "resolve",
        "modulesDirectories",
        "extensions",
        "devtool",
        "babel",
        "shouldPrintComment",
        "commentContents",
        "test",
        "preLoaders",
        "loaders",
        "loader",
        "include",
        "query",
        "tsconfig",
        "extract",
        "postLoaders",
        "push",
        "exclude",
        "postcss",
        "browsers",
        "plugins",
        "disable",
        "name",
        "minChunks",
        "Infinity",
        "htmlConfig",
        "template",
        "alwaysWriteToDisk",
        "NoErrorsPlugin",
        "DedupePlugin",
        "UglifyJsPlugin",
        "mangle",
        "comments",
        "compress",
        "warnings",
        "DefinePlugin",
        "NODE_ENV",
        "cache",
        "stats",
        "colors",
        "reasons",
        "debug",
        "devServer",
        "contentBase",
        "modules",
        "cached",
        "chunk",
        "node",
        "global",
        "process",
        "crypto",
        "clearImmediate",
        "setImmediate"
      ],
      "mappings": "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",
      "file": "webpack.make.js",
      "sourceRoot": "/home/nitrous",
      "sourcesContent": [
        "'use strict';\n/*eslint-env node*/\nvar webpack = require('webpack');\nvar autoprefixer = require('autoprefixer');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar HtmlWebpackHarddiskPlugin = require('html-webpack-harddisk-plugin');\nvar ExtractTextPlugin = require('extract-text-webpack-plugin');\nvar CommonsChunkPlugin = webpack.optimize.CommonsChunkPlugin;\nvar fs = require('fs');\nvar path = require('path');\nvar ForkCheckerPlugin = require('awesome-typescript-loader').ForkCheckerPlugin;\n\nmodule.exports = function makeWebpackConfig(options) {\n    /**\n     * Environment type\n     * BUILD is for generating minified builds\n     * TEST is for generating test builds\n     */\n    var BUILD = !!options.BUILD;\n    var TEST = !!options.TEST;\n    var E2E = !!options.E2E;\n    var DEV = !!options.DEV;\n\n    /**\n     * Config\n     * Reference: http://webpack.github.io/docs/configuration.html\n     * This is the object where all configuration gets set\n     */\n    var config = {};\n\n    /**\n     * Entry\n     * Reference: http://webpack.github.io/docs/configuration.html#entry\n     * Should be an empty object if it's generating a test build\n     * Karma will set this when it's a test build\n     */\n    if(TEST) {\n        config.entry = {};\n    } else {\n        config.entry = {\n            app: './client/app/app.js',\n            polyfills: './client/polyfills.js',\n            vendor: [\n                'angular',\n                'angular-animate',\n                'angular-aria',\n                'angular-cookies',\n                'angular-resource',\n\n                'angular-sanitize',\n                'angular-socket-io',\n                'angular-ui-bootstrap',\n                'angular-ui-router',\n                'lodash'\n            ]\n        };\n    }\n\n    /**\n     * Output\n     * Reference: http://webpack.github.io/docs/configuration.html#output\n     * Should be an empty object if it's generating a test build\n     * Karma will handle setting it up for you when it's a test build\n     */\n    if(TEST) {\n        config.output = {};\n    } else {\n        config.output = {\n            // Absolute output directory\n            path: BUILD ? path.join(__dirname, '/dist/client/') : path.join(__dirname, '/.tmp/'),\n\n            // Output path from the view of the page\n            // Uses webpack-dev-server in development\n            publicPath: BUILD || DEV || E2E ? '/' : `http://localhost:${8080}/`,\n            //publicPath: BUILD ? '/' : 'http://localhost:' + env.port + '/',\n\n            // Filename for entry points\n            // Only adds hash in build mode\n            filename: BUILD ? '[name].[hash].js' : '[name].bundle.js',\n\n            // Filename for non-entry points\n            // Only adds hash in build mode\n            chunkFilename: BUILD ? '[name].[hash].js' : '[name].bundle.js'\n        };\n    }\n\n\n\n    if(TEST) {\n        config.resolve = {\n            modulesDirectories: [\n                'node_modules'\n            ],\n            extensions: ['', '.js', '.ts']\n        };\n    }\n\n    /**\n     * Devtool\n     * Reference: http://webpack.github.io/docs/configuration.html#devtool\n     * Type of sourcemap to use per build type\n     */\n    if(TEST) {\n        config.devtool = 'inline-source-map';\n    } else if(BUILD || DEV) {\n        config.devtool = 'source-map';\n    } else {\n        config.devtool = 'eval';\n    }\n\n    /**\n     * Loaders\n     * Reference: http://webpack.github.io/docs/configuration.html#module-loaders\n     * List: http://webpack.github.io/docs/list-of-loaders.html\n     * This handles most of the magic responsible for converting modules\n     */\n\n\n    config.babel = {\n        shouldPrintComment(commentContents) {\n            // keep `/*@ngInject*/`\n            return /@ngInject/.test(commentContents);\n        }\n    }\n\n    // Initialize module\n    config.module = {\n        preLoaders: [],\n        loaders: [{\n            // JS LOADER\n            // Reference: https://github.com/babel/babel-loader\n            // Transpile .js files using babel-loader\n            // Compiles ES6 and ES7 into ES5 code\n            test: /\\.js$/,\n            loader: 'babel',\n            include: [\n                path.resolve(__dirname, 'client/'),\n                path.resolve(__dirname, 'node_modules/lodash-es/')\n            ]\n        }, {\n            // TS LOADER\n            // Reference: https://github.com/s-panferov/awesome-typescript-loader\n            // Transpile .ts files using awesome-typescript-loader\n            test: /\\.ts$/,\n            loader: 'awesome-typescript-loader',\n            query: {\n                tsconfig: path.resolve(__dirname, 'tsconfig.client.json')\n            },\n            include: [\n                path.resolve(__dirname, 'client/')\n            ]\n        }, {\n            // ASSET LOADER\n            // Reference: https://github.com/webpack/file-loader\n            // Copy png, jpg, jpeg, gif, svg, woff, woff2, ttf, eot files to output\n            // Rename the file using the asset hash\n            // Pass along the updated reference to your code\n            // You can add here any file extension you want to get copied to your output\n            test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)([\\?]?.*)$/,\n            loader: 'file'\n        }, {\n            // Pug HTML LOADER\n            // Reference: https://github.com/willyelm/pug-html-loader\n            // Allow loading Pug throw js\n            test: /\\.(jade|pug)$/,\n            loaders: ['pug-html']\n        }, {\n\n            // CSS LOADER\n            // Reference: https://github.com/webpack/css-loader\n            // Allow loading css through js\n            //\n            // Reference: https://github.com/postcss/postcss-loader\n            // Postprocess your css with PostCSS plugins\n            test: /\\.css$/,\n            loader: !TEST\n                // Reference: https://github.com/webpack/extract-text-webpack-plugin\n                // Extract css files in production builds\n                //\n                // Reference: https://github.com/webpack/style-loader\n                // Use style-loader in development for hot-loading\n                ? ExtractTextPlugin.extract('style', 'css?sourceMap!postcss')\n                // Reference: https://github.com/webpack/null-loader\n                // Skip loading css in test mode\n                : 'null'\n        }, {\n\n\n            // Stylus LOADER\n            // Reference: https://github.com/\n            test: /\\.styl$/,\n            loaders: ['style', 'css', 'stylus'],\n            include: [\n                path.resolve(__dirname, 'node_modules/bootstrap-styl/bootstrap/*.styl'),\n                path.resolve(__dirname, 'client/app/app.styl')\n            ]\n        }]\n    };\n\n    config.module.postLoaders = [{\n        test: /\\.js$/,\n        loader: 'ng-annotate?single_quotes'\n    }];\n\n    // ISPARTA INSTRUMENTER LOADER\n    // Reference: https://github.com/ColCh/isparta-instrumenter-loader\n    // Instrument JS files with Isparta for subsequent code coverage reporting\n    // Skips node_modules and spec files\n    if(TEST) {\n        config.module.preLoaders.push({\n            //delays coverage til after tests are run, fixing transpiled source coverage error\n            test: /\\.js$/,\n            exclude: /(node_modules|spec\\.js|mock\\.js)/,\n            loader: 'isparta-instrumenter',\n            query: {\n                babel: {\n                    // optional: ['runtime', 'es7.classProperties', 'es7.decorators']\n                }\n            }\n        });\n    }\n\n\n    /**\n     * PostCSS\n     * Reference: https://github.com/postcss/autoprefixer-core\n     * Add vendor prefixes to your css\n     */\n    config.postcss = [\n        autoprefixer({\n            browsers: ['last 2 version']\n        })\n    ];\n\n    /**\n     * Plugins\n     * Reference: http://webpack.github.io/docs/configuration.html#plugins\n     * List: http://webpack.github.io/docs/list-of-plugins.html\n     */\n    config.plugins = [\n        /*\n         * Plugin: ForkCheckerPlugin\n         * Description: Do type checking in a separate process, so webpack don't need to wait.\n         *\n         * See: https://github.com/s-panferov/awesome-typescript-loader#forkchecker-boolean-defaultfalse\n         */\n        new ForkCheckerPlugin(),\n\n        // Reference: https://github.com/webpack/extract-text-webpack-plugin\n        // Extract css files\n        // Disabled when in test mode or not in build mode\n        new ExtractTextPlugin('[name].[hash].css', {\n            disable: !BUILD || TEST\n        })\n    ];\n\n    if(!TEST) {\n        config.plugins.push(new CommonsChunkPlugin({\n            name: 'vendor',\n\n            // filename: \"vendor.js\"\n            // (Give the chunk a different name)\n\n            minChunks: Infinity\n            // (with more entries, this ensures that no other module\n            //  goes into the vendor chunk)\n        }));\n    }\n\n    // Skip rendering index.html in test mode\n    // Reference: https://github.com/ampedandwired/html-webpack-plugin\n    // Render index.html\n    let htmlConfig = {\n        template: 'client/_index.html',\n        filename: '../client/index.html',\n        alwaysWriteToDisk: true\n    }\n    config.plugins.push(\n      new HtmlWebpackPlugin(htmlConfig),\n      new HtmlWebpackHarddiskPlugin()\n    );\n\n    // Add build specific plugins\n    if(BUILD) {\n        config.plugins.push(\n            // Reference: http://webpack.github.io/docs/list-of-plugins.html#noerrorsplugin\n            // Only emit files when there are no errors\n            new webpack.NoErrorsPlugin(),\n\n            // Reference: http://webpack.github.io/docs/list-of-plugins.html#dedupeplugin\n            // Dedupe modules in the output\n            new webpack.optimize.DedupePlugin(),\n\n            // Reference: http://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin\n            // Minify all javascript, switch loaders to minimizing mode\n            new webpack.optimize.UglifyJsPlugin({\n                mangle: false,\n                output: {\n                    comments: false\n                },\n                compress: {\n                    warnings: false\n                }\n            }),\n\n            // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n            // Define free global variables\n            new webpack.DefinePlugin({\n                'process.env': {\n                    NODE_ENV: '\"production\"'\n                }\n            })\n        );\n    }\n\n    if(DEV) {\n        config.plugins.push(\n            // Reference: https://webpack.github.io/docs/list-of-plugins.html#defineplugin\n            // Define free global variables\n            new webpack.DefinePlugin({\n                'process.env': {\n                    NODE_ENV: '\"development\"'\n                }\n            })\n        );\n    }\n\n    config.cache = DEV;\n\n    if(TEST) {\n        config.stats = {\n            colors: true,\n            reasons: true\n        };\n        config.debug = false;\n    }\n\n    /**\n     * Dev server configuration\n     * Reference: http://webpack.github.io/docs/configuration.html#devserver\n     * Reference: http://webpack.github.io/docs/webpack-dev-server.html\n     */\n    config.devServer = {\n        contentBase: './client/',\n        stats: {\n            modules: false,\n            cached: false,\n            colors: true,\n            chunk: false\n        }\n    };\n\n    config.node = {\n        global: 'window',\n        process: true,\n        crypto: 'empty',\n        clearImmediate: false,\n        setImmediate: false\n    };\n\n    return config;\n};\n"
      ]
    },
    "mtime": 1475441232879
  },
  "{\"filename\":\"/home/nitrous/server/routes.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./components/errors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "errors"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "app"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "app",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/routes.js",
      "filenameRelative": "/home/nitrous/server/routes.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "routes.js",
      "sourceFileName": "routes.js",
      "sourceRoot": "/home/nitrous/server",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "routes"
    },
    "ignored": false,
    "code": "/**\n * Main application routes\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (app) {\n  // Insert routes below\n  app.use('/api/guesss', require('./api/guess'));\n  app.use('/api/points', require('./api/point'));\n  app.use('/api/comments', require('./api/comment'));\n  app.use('/api/games', require('./api/game'));\n  app.use('/api/users', require('./api/user'));\n\n  app.use('/auth', require('./auth').default);\n\n  // All undefined asset or api routes should return a 404\n  app.route('/:url(api|auth|components|app|bower_components|assets)/*').get(_errors2.default[404]);\n\n  // All other routes should redirect to the index.html\n  app.route('/*').get(function (req, res) {\n    res.sendFile(_path2.default.resolve(app.get('appPath') + '/index.html'));\n  });\n};\n\nvar _errors = require('./components/errors');\n\nvar _errors2 = _interopRequireDefault(_errors);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJyZXF1aXJlIiwiZGVmYXVsdCIsInJvdXRlIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZEZpbGUiLCJyZXNvbHZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUlBOzs7Ozs7a0JBS2UsVUFBU0EsR0FBVCxFQUFjO0FBQzNCO0FBQ0FBLE1BQUlDLEdBQUosQ0FBUSxhQUFSLEVBQXVCQyxRQUFRLGFBQVIsQ0FBdkI7QUFDQUYsTUFBSUMsR0FBSixDQUFRLGFBQVIsRUFBdUJDLFFBQVEsYUFBUixDQUF2QjtBQUNBRixNQUFJQyxHQUFKLENBQVEsZUFBUixFQUF5QkMsUUFBUSxlQUFSLENBQXpCO0FBQ0FGLE1BQUlDLEdBQUosQ0FBUSxZQUFSLEVBQXNCQyxRQUFRLFlBQVIsQ0FBdEI7QUFDQUYsTUFBSUMsR0FBSixDQUFRLFlBQVIsRUFBc0JDLFFBQVEsWUFBUixDQUF0Qjs7QUFFQUYsTUFBSUMsR0FBSixDQUFRLE9BQVIsRUFBaUJDLFFBQVEsUUFBUixFQUFrQkMsT0FBbkM7O0FBRUE7QUFDQUgsTUFBSUksS0FBSixDQUFVLDBEQUFWLEVBQ0VDLEdBREYsQ0FDTSxpQkFBTyxHQUFQLENBRE47O0FBR0E7QUFDQUwsTUFBSUksS0FBSixDQUFVLElBQVYsRUFDR0MsR0FESCxDQUNPLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ2pCQSxRQUFJQyxRQUFKLENBQWEsZUFBS0MsT0FBTCxDQUFnQlQsSUFBSUssR0FBSixDQUFRLFNBQVIsQ0FBaEIsaUJBQWI7QUFDRCxHQUhIO0FBSUQsQzs7QUF0QkQ7Ozs7QUFDQSIsImZpbGUiOiJyb3V0ZXMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1haW4gYXBwbGljYXRpb24gcm91dGVzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgZXJyb3JzIGZyb20gJy4vY29tcG9uZW50cy9lcnJvcnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGFwcCkge1xuICAvLyBJbnNlcnQgcm91dGVzIGJlbG93XG4gIGFwcC51c2UoJy9hcGkvZ3Vlc3NzJywgcmVxdWlyZSgnLi9hcGkvZ3Vlc3MnKSk7XG4gIGFwcC51c2UoJy9hcGkvcG9pbnRzJywgcmVxdWlyZSgnLi9hcGkvcG9pbnQnKSk7XG4gIGFwcC51c2UoJy9hcGkvY29tbWVudHMnLCByZXF1aXJlKCcuL2FwaS9jb21tZW50JykpO1xuICBhcHAudXNlKCcvYXBpL2dhbWVzJywgcmVxdWlyZSgnLi9hcGkvZ2FtZScpKTtcbiAgYXBwLnVzZSgnL2FwaS91c2VycycsIHJlcXVpcmUoJy4vYXBpL3VzZXInKSk7XG5cbiAgYXBwLnVzZSgnL2F1dGgnLCByZXF1aXJlKCcuL2F1dGgnKS5kZWZhdWx0KTtcblxuICAvLyBBbGwgdW5kZWZpbmVkIGFzc2V0IG9yIGFwaSByb3V0ZXMgc2hvdWxkIHJldHVybiBhIDQwNFxuICBhcHAucm91dGUoJy86dXJsKGFwaXxhdXRofGNvbXBvbmVudHN8YXBwfGJvd2VyX2NvbXBvbmVudHN8YXNzZXRzKS8qJylcbiAgIC5nZXQoZXJyb3JzWzQwNF0pO1xuXG4gIC8vIEFsbCBvdGhlciByb3V0ZXMgc2hvdWxkIHJlZGlyZWN0IHRvIHRoZSBpbmRleC5odG1sXG4gIGFwcC5yb3V0ZSgnLyonKVxuICAgIC5nZXQoKHJlcSwgcmVzKSA9PiB7XG4gICAgICByZXMuc2VuZEZpbGUocGF0aC5yZXNvbHZlKGAke2FwcC5nZXQoJ2FwcFBhdGgnKX0vaW5kZXguaHRtbGApKTtcbiAgICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "app",
        "use",
        "require",
        "default",
        "route",
        "get",
        "req",
        "res",
        "sendFile",
        "resolve"
      ],
      "mappings": "AAAA;;;;AAIA;;;;;;kBAKe,UAASA,GAAT,EAAc;AAC3B;AACAA,MAAIC,GAAJ,CAAQ,aAAR,EAAuBC,QAAQ,aAAR,CAAvB;AACAF,MAAIC,GAAJ,CAAQ,aAAR,EAAuBC,QAAQ,aAAR,CAAvB;AACAF,MAAIC,GAAJ,CAAQ,eAAR,EAAyBC,QAAQ,eAAR,CAAzB;AACAF,MAAIC,GAAJ,CAAQ,YAAR,EAAsBC,QAAQ,YAAR,CAAtB;AACAF,MAAIC,GAAJ,CAAQ,YAAR,EAAsBC,QAAQ,YAAR,CAAtB;;AAEAF,MAAIC,GAAJ,CAAQ,OAAR,EAAiBC,QAAQ,QAAR,EAAkBC,OAAnC;;AAEA;AACAH,MAAII,KAAJ,CAAU,0DAAV,EACEC,GADF,CACM,iBAAO,GAAP,CADN;;AAGA;AACAL,MAAII,KAAJ,CAAU,IAAV,EACGC,GADH,CACO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjBA,QAAIC,QAAJ,CAAa,eAAKC,OAAL,CAAgBT,IAAIK,GAAJ,CAAQ,SAAR,CAAhB,iBAAb;AACD,GAHH;AAID,C;;AAtBD;;;;AACA",
      "file": "routes.js",
      "sourceRoot": "/home/nitrous/server",
      "sourcesContent": [
        "/**\n * Main application routes\n */\n\n'use strict';\n\nimport errors from './components/errors';\nimport path from 'path';\n\nexport default function(app) {\n  // Insert routes below\n  app.use('/api/guesss', require('./api/guess'));\n  app.use('/api/points', require('./api/point'));\n  app.use('/api/comments', require('./api/comment'));\n  app.use('/api/games', require('./api/game'));\n  app.use('/api/users', require('./api/user'));\n\n  app.use('/auth', require('./auth').default);\n\n  // All undefined asset or api routes should return a 404\n  app.route('/:url(api|auth|components|app|bower_components|assets)/*')\n   .get(errors[404]);\n\n  // All other routes should redirect to the index.html\n  app.route('/*')\n    .get((req, res) => {\n      res.sendFile(path.resolve(`${app.get('appPath')}/index.html`));\n    });\n}\n"
      ]
    },
    "mtime": 1475490817816
  },
  "{\"filename\":\"/home/nitrous/server/components/errors/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/components/errors\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/components/errors/index.js",
      "filenameRelative": "/home/nitrous/server/components/errors/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/components/errors",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/components/errors",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "/**\n * Error responses\n */\n\n'use strict';\n\nmodule.exports[404] = function pageNotFound(req, res) {\n  var viewFilePath = '404';\n  var statusCode = 404;\n  var result = {\n    status: statusCode\n  };\n\n  res.status(result.status);\n  res.render(viewFilePath, {}, function (err, html) {\n    if (err) {\n      return res.status(result.status).json(result);\n    }\n\n    res.send(html);\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJwYWdlTm90Rm91bmQiLCJyZXEiLCJyZXMiLCJ2aWV3RmlsZVBhdGgiLCJzdGF0dXNDb2RlIiwicmVzdWx0Iiwic3RhdHVzIiwicmVuZGVyIiwiZXJyIiwiaHRtbCIsImpzb24iLCJzZW5kIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUlBOztBQUVBQSxPQUFPQyxPQUFQLENBQWUsR0FBZixJQUFzQixTQUFTQyxZQUFULENBQXNCQyxHQUF0QixFQUEyQkMsR0FBM0IsRUFBZ0M7QUFDcEQsTUFBSUMsZUFBZSxLQUFuQjtBQUNBLE1BQUlDLGFBQWEsR0FBakI7QUFDQSxNQUFJQyxTQUFTO0FBQ1hDLFlBQVFGO0FBREcsR0FBYjs7QUFJQUYsTUFBSUksTUFBSixDQUFXRCxPQUFPQyxNQUFsQjtBQUNBSixNQUFJSyxNQUFKLENBQVdKLFlBQVgsRUFBeUIsRUFBekIsRUFBNkIsVUFBU0ssR0FBVCxFQUFjQyxJQUFkLEVBQW9CO0FBQy9DLFFBQUdELEdBQUgsRUFBUTtBQUNOLGFBQU9OLElBQUlJLE1BQUosQ0FBV0QsT0FBT0MsTUFBbEIsRUFBMEJJLElBQTFCLENBQStCTCxNQUEvQixDQUFQO0FBQ0Q7O0FBRURILFFBQUlTLElBQUosQ0FBU0YsSUFBVDtBQUNELEdBTkQ7QUFPRCxDQWZEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2NvbXBvbmVudHMvZXJyb3JzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFcnJvciByZXNwb25zZXNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzWzQwNF0gPSBmdW5jdGlvbiBwYWdlTm90Rm91bmQocmVxLCByZXMpIHtcbiAgdmFyIHZpZXdGaWxlUGF0aCA9ICc0MDQnO1xuICB2YXIgc3RhdHVzQ29kZSA9IDQwNDtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBzdGF0dXM6IHN0YXR1c0NvZGVcbiAgfTtcblxuICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXMpO1xuICByZXMucmVuZGVyKHZpZXdGaWxlUGF0aCwge30sIGZ1bmN0aW9uKGVyciwgaHRtbCkge1xuICAgIGlmKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1cykuanNvbihyZXN1bHQpO1xuICAgIH1cblxuICAgIHJlcy5zZW5kKGh0bWwpO1xuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "pageNotFound",
        "req",
        "res",
        "viewFilePath",
        "statusCode",
        "result",
        "status",
        "render",
        "err",
        "html",
        "json",
        "send"
      ],
      "mappings": "AAAA;;;;AAIA;;AAEAA,OAAOC,OAAP,CAAe,GAAf,IAAsB,SAASC,YAAT,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AACpD,MAAIC,eAAe,KAAnB;AACA,MAAIC,aAAa,GAAjB;AACA,MAAIC,SAAS;AACXC,YAAQF;AADG,GAAb;;AAIAF,MAAII,MAAJ,CAAWD,OAAOC,MAAlB;AACAJ,MAAIK,MAAJ,CAAWJ,YAAX,EAAyB,EAAzB,EAA6B,UAASK,GAAT,EAAcC,IAAd,EAAoB;AAC/C,QAAGD,GAAH,EAAQ;AACN,aAAON,IAAII,MAAJ,CAAWD,OAAOC,MAAlB,EAA0BI,IAA1B,CAA+BL,MAA/B,CAAP;AACD;;AAEDH,QAAIS,IAAJ,CAASF,IAAT;AACD,GAND;AAOD,CAfD",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/components/errors",
      "sourcesContent": [
        "/**\n * Error responses\n */\n\n'use strict';\n\nmodule.exports[404] = function pageNotFound(req, res) {\n  var viewFilePath = '404';\n  var statusCode = 404;\n  var result = {\n    status: statusCode\n  };\n\n  res.status(result.status);\n  res.render(viewFilePath, {}, function(err, html) {\n    if(err) {\n      return res.status(result.status).json(result);\n    }\n\n    res.send(html);\n  });\n};\n"
      ]
    },
    "mtime": 1475441232375
  },
  "{\"filename\":\"/home/nitrous/server/api/thing/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/thing\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/thing/index.js",
      "filenameRelative": "/home/nitrous/server/api/thing/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/api/thing",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/thing",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar express = require('express');\nvar controller = require('./thing.controller');\n\nvar router = express.Router();\n\nrouter.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', controller.create);\nrouter.put('/:id', controller.upsert);\nrouter.patch('/:id', controller.patch);\nrouter.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY29udHJvbGxlciIsInJvdXRlciIsIlJvdXRlciIsImdldCIsImluZGV4Iiwic2hvdyIsInBvc3QiLCJjcmVhdGUiLCJwdXQiLCJ1cHNlcnQiLCJwYXRjaCIsImRlbGV0ZSIsImRlc3Ryb3kiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxVQUFVQyxRQUFRLFNBQVIsQ0FBZDtBQUNBLElBQUlDLGFBQWFELFFBQVEsb0JBQVIsQ0FBakI7O0FBRUEsSUFBSUUsU0FBU0gsUUFBUUksTUFBUixFQUFiOztBQUVBRCxPQUFPRSxHQUFQLENBQVcsR0FBWCxFQUFnQkgsV0FBV0ksS0FBM0I7QUFDQUgsT0FBT0UsR0FBUCxDQUFXLE1BQVgsRUFBbUJILFdBQVdLLElBQTlCO0FBQ0FKLE9BQU9LLElBQVAsQ0FBWSxHQUFaLEVBQWlCTixXQUFXTyxNQUE1QjtBQUNBTixPQUFPTyxHQUFQLENBQVcsTUFBWCxFQUFtQlIsV0FBV1MsTUFBOUI7QUFDQVIsT0FBT1MsS0FBUCxDQUFhLE1BQWIsRUFBcUJWLFdBQVdVLEtBQWhDO0FBQ0FULE9BQU9VLE1BQVAsQ0FBYyxNQUFkLEVBQXNCWCxXQUFXWSxPQUFqQzs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQmIsTUFBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL3RoaW5nIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciBjb250cm9sbGVyID0gcmVxdWlyZSgnLi90aGluZy5jb250cm9sbGVyJyk7XG5cbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KCcvJywgY29udHJvbGxlci5pbmRleCk7XG5yb3V0ZXIuZ2V0KCcvOmlkJywgY29udHJvbGxlci5zaG93KTtcbnJvdXRlci5wb3N0KCcvJywgY29udHJvbGxlci5jcmVhdGUpO1xucm91dGVyLnB1dCgnLzppZCcsIGNvbnRyb2xsZXIudXBzZXJ0KTtcbnJvdXRlci5wYXRjaCgnLzppZCcsIGNvbnRyb2xsZXIucGF0Y2gpO1xucm91dGVyLmRlbGV0ZSgnLzppZCcsIGNvbnRyb2xsZXIuZGVzdHJveSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "controller",
        "router",
        "Router",
        "get",
        "index",
        "show",
        "post",
        "create",
        "put",
        "upsert",
        "patch",
        "delete",
        "destroy",
        "module",
        "exports"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,oBAAR,CAAjB;;AAEA,IAAIE,SAASH,QAAQI,MAAR,EAAb;;AAEAD,OAAOE,GAAP,CAAW,GAAX,EAAgBH,WAAWI,KAA3B;AACAH,OAAOE,GAAP,CAAW,MAAX,EAAmBH,WAAWK,IAA9B;AACAJ,OAAOK,IAAP,CAAY,GAAZ,EAAiBN,WAAWO,MAA5B;AACAN,OAAOO,GAAP,CAAW,MAAX,EAAmBR,WAAWS,MAA9B;AACAR,OAAOS,KAAP,CAAa,MAAb,EAAqBV,WAAWU,KAAhC;AACAT,OAAOU,MAAP,CAAc,MAAd,EAAsBX,WAAWY,OAAjC;;AAEAC,OAAOC,OAAP,GAAiBb,MAAjB",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/api/thing",
      "sourcesContent": [
        "'use strict';\n\nvar express = require('express');\nvar controller = require('./thing.controller');\n\nvar router = express.Router();\n\nrouter.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', controller.create);\nrouter.put('/:id', controller.upsert);\nrouter.patch('/:id', controller.patch);\nrouter.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1475441233355
  },
  "{\"filename\":\"/home/nitrous/server/api/thing/thing.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/thing\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fast-json-patch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jsonpatch"
              }
            ]
          },
          {
            "source": "./thing.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Thing"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "index",
            "req",
            "res",
            "show",
            "req",
            "res",
            "create",
            "req",
            "res",
            "upsert",
            "req",
            "res",
            "patch",
            "req",
            "res",
            "destroy",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "index",
              "exported": "index"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "upsert",
              "exported": "upsert"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "patch",
              "exported": "patch"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "destroy",
              "exported": "destroy"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/thing/thing.controller.js",
      "filenameRelative": "/home/nitrous/server/api/thing/thing.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "thing.controller.js",
      "sourceFileName": "thing.controller.js",
      "sourceRoot": "/home/nitrous/server/api/thing",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/thing",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "thing.controller"
    },
    "ignored": false,
    "code": "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/things              ->  index\n * POST    /api/things              ->  create\n * GET     /api/things/:id          ->  show\n * PUT     /api/things/:id          ->  upsert\n * PATCH   /api/things/:id          ->  patch\n * DELETE  /api/things/:id          ->  destroy\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.index = index;\nexports.show = show;\nexports.create = create;\nexports.upsert = upsert;\nexports.patch = patch;\nexports.destroy = destroy;\n\nvar _fastJsonPatch = require('fast-json-patch');\n\nvar _fastJsonPatch2 = _interopRequireDefault(_fastJsonPatch);\n\nvar _thing = require('./thing.model');\n\nvar _thing2 = _interopRequireDefault(_thing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function (entity) {\n    if (entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function (entity) {\n    try {\n      _fastJsonPatch2.default.apply(entity, patches, /*validate*/true);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function (entity) {\n    if (entity) {\n      return entity.remove().then(function () {\n        res.status(204).end();\n      });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function (entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Things\nfunction index(req, res) {\n  return _thing2.default.find().exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Gets a single Thing from the DB\nfunction show(req, res) {\n  return _thing2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Creates a new Thing in the DB\nfunction create(req, res) {\n  return _thing2.default.create(req.body).then(respondWithResult(res, 201)).catch(handleError(res));\n}\n\n// Upserts the given Thing in the DB at the specified ID\nfunction upsert(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return _thing2.default.findOneAndUpdate({ _id: req.params.id }, req.body, { upsert: true, setDefaultsOnInsert: true, runValidators: true }).exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Updates an existing Thing in the DB\nfunction patch(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return _thing2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(patchUpdates(req.body)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Deletes a Thing from the DB\nfunction destroy(req, res) {\n  return _thing2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(removeEntity(res)).catch(handleError(res));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoaW5nLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiaW5kZXgiLCJzaG93IiwiY3JlYXRlIiwidXBzZXJ0IiwicGF0Y2giLCJkZXN0cm95IiwicmVzcG9uZFdpdGhSZXN1bHQiLCJyZXMiLCJzdGF0dXNDb2RlIiwiZW50aXR5Iiwic3RhdHVzIiwianNvbiIsInBhdGNoVXBkYXRlcyIsInBhdGNoZXMiLCJhcHBseSIsImVyciIsIlByb21pc2UiLCJyZWplY3QiLCJzYXZlIiwicmVtb3ZlRW50aXR5IiwicmVtb3ZlIiwidGhlbiIsImVuZCIsImhhbmRsZUVudGl0eU5vdEZvdW5kIiwiaGFuZGxlRXJyb3IiLCJzZW5kIiwicmVxIiwiZmluZCIsImV4ZWMiLCJjYXRjaCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJib2R5IiwiX2lkIiwiZmluZE9uZUFuZFVwZGF0ZSIsInNldERlZmF1bHRzT25JbnNlcnQiLCJydW5WYWxpZGF0b3JzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7OztBQVVBOzs7OztRQXdEZ0JBLEssR0FBQUEsSztRQU9BQyxJLEdBQUFBLEk7UUFRQUMsTSxHQUFBQSxNO1FBT0FDLE0sR0FBQUEsTTtRQVdBQyxLLEdBQUFBLEs7UUFZQUMsTyxHQUFBQSxPOztBQW5HaEI7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0MsaUJBQVQsQ0FBMkJDLEdBQTNCLEVBQWdDQyxVQUFoQyxFQUE0QztBQUMxQ0EsZUFBYUEsY0FBYyxHQUEzQjtBQUNBLFNBQU8sVUFBU0MsTUFBVCxFQUFpQjtBQUN0QixRQUFHQSxNQUFILEVBQVc7QUFDVCxhQUFPRixJQUFJRyxNQUFKLENBQVdGLFVBQVgsRUFBdUJHLElBQXZCLENBQTRCRixNQUE1QixDQUFQO0FBQ0Q7QUFDRCxXQUFPLElBQVA7QUFDRCxHQUxEO0FBTUQ7O0FBRUQsU0FBU0csWUFBVCxDQUFzQkMsT0FBdEIsRUFBK0I7QUFDN0IsU0FBTyxVQUFTSixNQUFULEVBQWlCO0FBQ3RCLFFBQUk7QUFDRiw4QkFB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LEVBQWlCO0FBQ2YsV0FBT1IsSUFBSU8sSUFBSixDQUFTQyxHQUFoQjtBQUNEO0FBQ0QsU0FBTyxnQkFBTUosUUFBTixDQUFlSixJQUFJSyxNQUFKLENBQVdDLEVBQTFCLEVBQThCSixJQUE5QixHQUNKUCxJQURJLENBQ0NFLHFCQUFxQmhCLEdBQXJCLENBREQsRUFFSmMsSUFGSSxDQUVDVCxhQUFhYyxJQUFJTyxJQUFqQixDQUZELEVBR0paLElBSEksQ0FHQ2Ysa0JBQWtCQyxHQUFsQixDQUhELEVBSUpzQixLQUpJLENBSUVMLFlBQVlqQixHQUFaLENBSkYsQ0FBUDtBQUtEOztBQUVEO0FBQ08sU0FBU0YsT0FBVCxDQUFpQnFCLEdBQWpCLEVBQXNCbkIsR0FBdEIsRUFBMkI7QUFDaEMsU0FBTyxnQkFBTXVCLFFBQU4sQ0FBZUosSUFBSUssTUFBSixDQUFXQyxFQUExQixFQUE4QkosSUFBOUIsR0FDSlAsSUFESSxDQUNDRSxxQkFBcUJoQixHQUFyQixDQURELEVBRUpjLElBRkksQ0FFQ0YsYUFBYVosR0FBYixDQUZELEVBR0pzQixLQUhJLENBR0VMLFlBQVlqQixHQUFaLENBSEYsQ0FBUDtBQUlEIiwiZmlsZSI6InRoaW5nLmNvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL3RoaW5nIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVc2luZyBSYWlscy1saWtlIHN0YW5kYXJkIG5hbWluZyBjb252ZW50aW9uIGZvciBlbmRwb2ludHMuXG4gKiBHRVQgICAgIC9hcGkvdGhpbmdzICAgICAgICAgICAgICAtPiAgaW5kZXhcbiAqIFBPU1QgICAgL2FwaS90aGluZ3MgICAgICAgICAgICAgIC0+ICBjcmVhdGVcbiAqIEdFVCAgICAgL2FwaS90aGluZ3MvOmlkICAgICAgICAgIC0+ICBzaG93XG4gKiBQVVQgICAgIC9hcGkvdGhpbmdzLzppZCAgICAgICAgICAtPiAgdXBzZXJ0XG4gKiBQQVRDSCAgIC9hcGkvdGhpbmdzLzppZCAgICAgICAgICAtPiAgcGF0Y2hcbiAqIERFTEVURSAgL2FwaS90aGluZ3MvOmlkICAgICAgICAgIC0+ICBkZXN0cm95XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQganNvbnBhdGNoIGZyb20gJ2Zhc3QtanNvbi1wYXRjaCc7XG5pbXBvcnQgVGhpbmcgZnJvbSAnLi90aGluZy5tb2RlbCc7XG5cbmZ1bmN0aW9uIHJlc3BvbmRXaXRoUmVzdWx0KHJlcywgc3RhdHVzQ29kZSkge1xuICBzdGF0dXNDb2RlID0gc3RhdHVzQ29kZSB8fCAyMDA7XG4gIHJldHVybiBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICBpZihlbnRpdHkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oZW50aXR5KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhdGNoVXBkYXRlcyhwYXRjaGVzKSB7XG4gIHJldHVybiBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICB0cnkge1xuICAgICAganNvbnBhdGNoLmFwcGx5KGVudGl0eSwgcGF0Y2hlcywgLyp2YWxpZGF0ZSovIHRydWUpO1xuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW50aXR5LnNhdmUoKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRW50aXR5KHJlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoZW50aXR5KSB7XG4gICAgICByZXR1cm4gZW50aXR5LnJlbW92ZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwNCkuZW5kKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSB7XG4gIHJldHVybiBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICBpZighZW50aXR5KSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuZW5kKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGVudGl0eTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRXJyb3IocmVzLCBzdGF0dXNDb2RlKSB7XG4gIHN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlIHx8IDUwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVycikge1xuICAgIHJlcy5zdGF0dXMoc3RhdHVzQ29kZSkuc2VuZChlcnIpO1xuICB9O1xufVxuXG4vLyBHZXRzIGEgbGlzdCBvZiBUaGluZ3NcbmV4cG9ydCBmdW5jdGlvbiBpbmRleChyZXEsIHJlcykge1xuICByZXR1cm4gVGhpbmcuZmluZCgpLmV4ZWMoKVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcykpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vLyBHZXRzIGEgc2luZ2xlIFRoaW5nIGZyb20gdGhlIERCXG5leHBvcnQgZnVuY3Rpb24gc2hvdyhyZXEsIHJlcykge1xuICByZXR1cm4gVGhpbmcuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkuZXhlYygpXG4gICAgLnRoZW4oaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSlcbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gQ3JlYXRlcyBhIG5ldyBUaGluZyBpbiB0aGUgREJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMpIHtcbiAgcmV0dXJuIFRoaW5nLmNyZWF0ZShyZXEuYm9keSlcbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMsIDIwMSkpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vLyBVcHNlcnRzIHRoZSBnaXZlbiBUaGluZyBpbiB0aGUgREIgYXQgdGhlIHNwZWNpZmllZCBJRFxuZXhwb3J0IGZ1bmN0aW9uIHVwc2VydChyZXEsIHJlcykge1xuICBpZihyZXEuYm9keS5faWQpIHtcbiAgICBkZWxldGUgcmVxLmJvZHkuX2lkO1xuICB9XG4gIHJldHVybiBUaGluZy5maW5kT25lQW5kVXBkYXRlKHtfaWQ6IHJlcS5wYXJhbXMuaWR9LCByZXEuYm9keSwge3Vwc2VydDogdHJ1ZSwgc2V0RGVmYXVsdHNPbkluc2VydDogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pLmV4ZWMoKVxuXG4gICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIFVwZGF0ZXMgYW4gZXhpc3RpbmcgVGhpbmcgaW4gdGhlIERCXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocmVxLCByZXMpIHtcbiAgaWYocmVxLmJvZHkuX2lkKSB7XG4gICAgZGVsZXRlIHJlcS5ib2R5Ll9pZDtcbiAgfVxuICByZXR1cm4gVGhpbmcuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkuZXhlYygpXG4gICAgLnRoZW4oaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSlcbiAgICAudGhlbihwYXRjaFVwZGF0ZXMocmVxLmJvZHkpKVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcykpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vLyBEZWxldGVzIGEgVGhpbmcgZnJvbSB0aGUgREJcbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95KHJlcSwgcmVzKSB7XG4gIHJldHVybiBUaGluZy5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKClcbiAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuICAgIC50aGVuKHJlbW92ZUVudGl0eShyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "thing.controller.js"
      ],
      "names": [
        "index",
        "show",
        "create",
        "upsert",
        "patch",
        "destroy",
        "respondWithResult",
        "res",
        "statusCode",
        "entity",
        "status",
        "json",
        "patchUpdates",
        "patches",
        "apply",
        "err",
        "Promise",
        "reject",
        "save",
        "removeEntity",
        "remove",
        "then",
        "end",
        "handleEntityNotFound",
        "handleError",
        "send",
        "req",
        "find",
        "exec",
        "catch",
        "findById",
        "params",
        "id",
        "body",
        "_id",
        "findOneAndUpdate",
        "setDefaultsOnInsert",
        "runValidators"
      ],
      "mappings": "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",
      "file": "thing.controller.js",
      "sourceRoot": "/home/nitrous/server/api/thing",
      "sourcesContent": [
        "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/things              ->  index\n * POST    /api/things              ->  create\n * GET     /api/things/:id          ->  show\n * PUT     /api/things/:id          ->  upsert\n * PATCH   /api/things/:id          ->  patch\n * DELETE  /api/things/:id          ->  destroy\n */\n\n'use strict';\n\nimport jsonpatch from 'fast-json-patch';\nimport Thing from './thing.model';\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if(entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function(entity) {\n    try {\n      jsonpatch.apply(entity, patches, /*validate*/ true);\n    } catch(err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function(entity) {\n    if(entity) {\n      return entity.remove()\n        .then(() => {\n          res.status(204).end();\n        });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if(!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Things\nexport function index(req, res) {\n  return Thing.find().exec()\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Gets a single Thing from the DB\nexport function show(req, res) {\n  return Thing.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Creates a new Thing in the DB\nexport function create(req, res) {\n  return Thing.create(req.body)\n    .then(respondWithResult(res, 201))\n    .catch(handleError(res));\n}\n\n// Upserts the given Thing in the DB at the specified ID\nexport function upsert(req, res) {\n  if(req.body._id) {\n    delete req.body._id;\n  }\n  return Thing.findOneAndUpdate({_id: req.params.id}, req.body, {upsert: true, setDefaultsOnInsert: true, runValidators: true}).exec()\n\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Updates an existing Thing in the DB\nexport function patch(req, res) {\n  if(req.body._id) {\n    delete req.body._id;\n  }\n  return Thing.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(patchUpdates(req.body))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Deletes a Thing from the DB\nexport function destroy(req, res) {\n  return Thing.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(removeEntity(res))\n    .catch(handleError(res));\n}\n"
      ]
    },
    "mtime": 1475441233343
  },
  "{\"filename\":\"/home/nitrous/server/api/user/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireWildcard"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "Router"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Router",
                "local": "Router"
              }
            ]
          },
          {
            "source": "./user.controller",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "controller"
              }
            ]
          },
          {
            "source": "../../auth/auth.service",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "auth"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/user/index.js",
      "filenameRelative": "/home/nitrous/server/api/user/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/api/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _user = require('./user.controller');\n\nvar controller = _interopRequireWildcard(_user);\n\nvar _auth = require('../../auth/auth.service');\n\nvar auth = _interopRequireWildcard(_auth);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar router = new _express.Router();\n\nrouter.get('/', auth.hasRole('admin'), controller.index);\nrouter.delete('/:id', auth.hasRole('admin'), controller.destroy);\nrouter.get('/me', auth.isAuthenticated(), controller.me);\nrouter.put('/:id/password', auth.isAuthenticated(), controller.changePassword);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', controller.create);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbnRyb2xsZXIiLCJhdXRoIiwicm91dGVyIiwiZ2V0IiwiaGFzUm9sZSIsImluZGV4IiwiZGVsZXRlIiwiZGVzdHJveSIsImlzQXV0aGVudGljYXRlZCIsIm1lIiwicHV0IiwiY2hhbmdlUGFzc3dvcmQiLCJzaG93IiwicG9zdCIsImNyZWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUNBOztJQUFZQSxVOztBQUNaOztJQUFZQyxJOzs7O0FBRVosSUFBSUMsU0FBUyxxQkFBYjs7QUFFQUEsT0FBT0MsR0FBUCxDQUFXLEdBQVgsRUFBZ0JGLEtBQUtHLE9BQUwsQ0FBYSxPQUFiLENBQWhCLEVBQXVDSixXQUFXSyxLQUFsRDtBQUNBSCxPQUFPSSxNQUFQLENBQWMsTUFBZCxFQUFzQkwsS0FBS0csT0FBTCxDQUFhLE9BQWIsQ0FBdEIsRUFBNkNKLFdBQVdPLE9BQXhEO0FBQ0FMLE9BQU9DLEdBQVAsQ0FBVyxLQUFYLEVBQWtCRixLQUFLTyxlQUFMLEVBQWxCLEVBQTBDUixXQUFXUyxFQUFyRDtBQUNBUCxPQUFPUSxHQUFQLENBQVcsZUFBWCxFQUE0QlQsS0FBS08sZUFBTCxFQUE1QixFQUFvRFIsV0FBV1csY0FBL0Q7QUFDQVQsT0FBT0MsR0FBUCxDQUFXLE1BQVgsRUFBbUJGLEtBQUtPLGVBQUwsRUFBbkIsRUFBMkNSLFdBQVdZLElBQXREO0FBQ0FWLE9BQU9XLElBQVAsQ0FBWSxHQUFaLEVBQWlCYixXQUFXYyxNQUE1Qjs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQmQsTUFBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL3VzZXIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcbmltcG9ydCAqIGFzIGNvbnRyb2xsZXIgZnJvbSAnLi91c2VyLmNvbnRyb2xsZXInO1xuaW1wb3J0ICogYXMgYXV0aCBmcm9tICcuLi8uLi9hdXRoL2F1dGguc2VydmljZSc7XG5cbnZhciByb3V0ZXIgPSBuZXcgUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoJy8nLCBhdXRoLmhhc1JvbGUoJ2FkbWluJyksIGNvbnRyb2xsZXIuaW5kZXgpO1xucm91dGVyLmRlbGV0ZSgnLzppZCcsIGF1dGguaGFzUm9sZSgnYWRtaW4nKSwgY29udHJvbGxlci5kZXN0cm95KTtcbnJvdXRlci5nZXQoJy9tZScsIGF1dGguaXNBdXRoZW50aWNhdGVkKCksIGNvbnRyb2xsZXIubWUpO1xucm91dGVyLnB1dCgnLzppZC9wYXNzd29yZCcsIGF1dGguaXNBdXRoZW50aWNhdGVkKCksIGNvbnRyb2xsZXIuY2hhbmdlUGFzc3dvcmQpO1xucm91dGVyLmdldCgnLzppZCcsIGF1dGguaXNBdXRoZW50aWNhdGVkKCksIGNvbnRyb2xsZXIuc2hvdyk7XG5yb3V0ZXIucG9zdCgnLycsIGNvbnRyb2xsZXIuY3JlYXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "controller",
        "auth",
        "router",
        "get",
        "hasRole",
        "index",
        "delete",
        "destroy",
        "isAuthenticated",
        "me",
        "put",
        "changePassword",
        "show",
        "post",
        "create",
        "module",
        "exports"
      ],
      "mappings": "AAAA;;AAEA;;AACA;;IAAYA,U;;AACZ;;IAAYC,I;;;;AAEZ,IAAIC,SAAS,qBAAb;;AAEAA,OAAOC,GAAP,CAAW,GAAX,EAAgBF,KAAKG,OAAL,CAAa,OAAb,CAAhB,EAAuCJ,WAAWK,KAAlD;AACAH,OAAOI,MAAP,CAAc,MAAd,EAAsBL,KAAKG,OAAL,CAAa,OAAb,CAAtB,EAA6CJ,WAAWO,OAAxD;AACAL,OAAOC,GAAP,CAAW,KAAX,EAAkBF,KAAKO,eAAL,EAAlB,EAA0CR,WAAWS,EAArD;AACAP,OAAOQ,GAAP,CAAW,eAAX,EAA4BT,KAAKO,eAAL,EAA5B,EAAoDR,WAAWW,cAA/D;AACAT,OAAOC,GAAP,CAAW,MAAX,EAAmBF,KAAKO,eAAL,EAAnB,EAA2CR,WAAWY,IAAtD;AACAV,OAAOW,IAAP,CAAY,GAAZ,EAAiBb,WAAWc,MAA5B;;AAEAC,OAAOC,OAAP,GAAiBd,MAAjB",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/api/user",
      "sourcesContent": [
        "'use strict';\n\nimport {Router} from 'express';\nimport * as controller from './user.controller';\nimport * as auth from '../../auth/auth.service';\n\nvar router = new Router();\n\nrouter.get('/', auth.hasRole('admin'), controller.index);\nrouter.delete('/:id', auth.hasRole('admin'), controller.destroy);\nrouter.get('/me', auth.isAuthenticated(), controller.me);\nrouter.put('/:id/password', auth.isAuthenticated(), controller.changePassword);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', controller.create);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1475441231059
  },
  "{\"filename\":\"/home/nitrous/server/api/user/user.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          },
          {
            "source": "../../config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "jsonwebtoken",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jwt"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "index",
            "req",
            "res",
            "create",
            "req",
            "res",
            "show",
            "req",
            "res",
            "next",
            "destroy",
            "req",
            "res",
            "changePassword",
            "req",
            "res",
            "me",
            "req",
            "res",
            "next",
            "authCallback",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "index",
              "exported": "index"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "next"
            },
            {
              "kind": "local",
              "local": "destroy",
              "exported": "destroy"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "changePassword",
              "exported": "changePassword"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "me",
              "exported": "me"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "next"
            },
            {
              "kind": "local",
              "local": "authCallback",
              "exported": "authCallback"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/user/user.controller.js",
      "filenameRelative": "/home/nitrous/server/api/user/user.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "user.controller.js",
      "sourceFileName": "user.controller.js",
      "sourceRoot": "/home/nitrous/server/api/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "user.controller"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.index = index;\nexports.create = create;\nexports.show = show;\nexports.destroy = destroy;\nexports.changePassword = changePassword;\nexports.me = me;\nexports.authCallback = authCallback;\n\nvar _user = require('./user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nvar _environment = require('../../config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validationError(res, statusCode) {\n  statusCode = statusCode || 422;\n  return function (err) {\n    return res.status(statusCode).json(err);\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    return res.status(statusCode).send(err);\n  };\n}\n\n/**\n * Get list of users\n * restriction: 'admin'\n */\nfunction index(req, res) {\n  return _user2.default.find({}, '-salt -password').exec().then(function (users) {\n    res.status(200).json(users);\n  }).catch(handleError(res));\n}\n\n/**\n * Creates a new user\n */\nfunction create(req, res) {\n  var newUser = new _user2.default(req.body);\n  newUser.provider = 'local';\n  newUser.role = 'user';\n  newUser.save().then(function (user) {\n    var token = _jsonwebtoken2.default.sign({ _id: user._id }, _environment2.default.secrets.session, {\n      expiresIn: 60 * 60 * 5\n    });\n    res.json({ token: token });\n  }).catch(validationError(res));\n}\n\n/**\n * Get a single user\n */\nfunction show(req, res, next) {\n  var userId = req.params.id;\n\n  return _user2.default.findById(userId).exec().then(function (user) {\n    if (!user) {\n      return res.status(404).end();\n    }\n    res.json(user.profile);\n  }).catch(function (err) {\n    return next(err);\n  });\n}\n\n/**\n * Deletes a user\n * restriction: 'admin'\n */\nfunction destroy(req, res) {\n  return _user2.default.findByIdAndRemove(req.params.id).exec().then(function () {\n    res.status(204).end();\n  }).catch(handleError(res));\n}\n\n/**\n * Change a users password\n */\nfunction changePassword(req, res) {\n  var userId = req.user._id;\n  var oldPass = String(req.body.oldPassword);\n  var newPass = String(req.body.newPassword);\n\n  return _user2.default.findById(userId).exec().then(function (user) {\n    if (user.authenticate(oldPass)) {\n      user.password = newPass;\n      return user.save().then(function () {\n        res.status(204).end();\n      }).catch(validationError(res));\n    } else {\n      return res.status(403).end();\n    }\n  });\n}\n\n/**\n * Get my info\n */\nfunction me(req, res, next) {\n  var userId = req.user._id;\n\n  return _user2.default.findOne({ _id: userId }, '-salt -password').exec().then(function (user) {\n    // don't ever give out the password or salt\n    if (!user) {\n      return res.status(401).end();\n    }\n    res.json(user);\n  }).catch(function (err) {\n    return next(err);\n  });\n}\n\n/**\n * Authentication callback\n */\nfunction authCallback(req, res) {\n  res.redirect('/');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJpbmRleCIsImNyZWF0ZSIsInNob3ciLCJkZXN0cm95IiwiY2hhbmdlUGFzc3dvcmQiLCJtZSIsImF1dGhDYWxsYmFjayIsInZhbGlkYXRpb25FcnJvciIsInJlcyIsInN0YXR1c0NvZGUiLCJlcnIiLCJzdGF0dXMiLCJqc29uIiwiaGFuZGxlRXJyb3IiLCJzZW5kIiwicmVxIiwiZmluZCIsImV4ZWMiLCJ0aGVuIiwidXNlcnMiLCJjYXRjaCIsIm5ld1VzZXIiLCJib2R5IiwicHJvdmlkZXIiLCJyb2xlIiwic2F2ZSIsInVzZXIiLCJ0b2tlbiIsInNpZ24iLCJfaWQiLCJzZWNyZXRzIiwic2Vzc2lvbiIsImV4cGlyZXNJbiIsIm5leHQiLCJ1c2VySWQiLCJwYXJhbXMiLCJpZCIsImZpbmRCeUlkIiwiZW5kIiwicHJvZmlsZSIsImZpbmRCeUlkQW5kUmVtb3ZlIiwib2xkUGFzcyIsIlN0cmluZyIsIm9sZFBhc3N3b3JkIiwibmV3UGFzcyIsIm5ld1Bhc3N3b3JkIiwiYXV0aGVudGljYXRlIiwicGFzc3dvcmQiLCJmaW5kT25lIiwicmVkaXJlY3QiXSwibWFwcGluZ3MiOiJBQUFBOzs7OztRQXdCZ0JBLEssR0FBQUEsSztRQVdBQyxNLEdBQUFBLE07UUFpQkFDLEksR0FBQUEsSTtRQWlCQUMsTyxHQUFBQSxPO1FBV0FDLGMsR0FBQUEsYztRQXVCQUMsRSxHQUFBQSxFO1FBZ0JBQyxZLEdBQUFBLFk7O0FBckhoQjs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLFNBQVNDLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxVQUE5QixFQUEwQztBQUN4Q0EsZUFBYUEsY0FBYyxHQUEzQjtBQUNBLFNBQU8sVUFBU0MsR0FBVCxFQUFjO0FBQ25CLFdBQU9GLElBQUlHLE1BQUosQ0FBV0YsVUFBWCxFQUF1QkcsSUFBdkIsQ0FBNEJGLEdBQTVCLENBQVA7QUFDRCxHQUZEO0FBR0Q7O0FBRUQsU0FBU0csV0FBVCxDQUFx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QUFDQSxhQUFPbEIsS0FBS0QsSUFBTCxHQUNKUCxJQURJLENBQ0MsWUFBTTtBQUNWVixZQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQjJCLEdBQWhCO0FBQ0QsT0FISSxFQUlKbEIsS0FKSSxDQUlFYixnQkFBZ0JDLEdBQWhCLENBSkYsQ0FBUDtBQUtELEtBUEQsTUFPTztBQUNMLGFBQU9BLElBQUlHLE1BQUosQ0FBVyxHQUFYLEVBQWdCMkIsR0FBaEIsRUFBUDtBQUNEO0FBQ0YsR0FaSSxDQUFQO0FBYUQ7O0FBRUQ7OztBQUdPLFNBQVNqQyxFQUFULENBQVlVLEdBQVosRUFBaUJQLEdBQWpCLEVBQXNCeUIsSUFBdEIsRUFBNEI7QUFDakMsTUFBSUMsU0FBU25CLElBQUlXLElBQUosQ0FBU0csR0FBdEI7O0FBRUEsU0FBTyxlQUFLbUIsT0FBTCxDQUFhLEVBQUVuQixLQUFLSyxNQUFQLEVBQWIsRUFBOEIsaUJBQTlCLEVBQWlEakIsSUFBakQsR0FDSkMsSUFESSxDQUNDLGdCQUFRO0FBQUU7QUFDZCxRQUFHLENBQUNRLElBQUosRUFBVTtBQUNSLGFBQU9sQixJQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQjJCLEdBQWhCLEVBQVA7QUFDRDtBQUNEOUIsUUFBSUksSUFBSixDQUFTYyxJQUFUO0FBQ0QsR0FOSSxFQU9KTixLQVBJLENBT0U7QUFBQSxXQUFPYSxLQUFLdkIsR0FBTCxDQUFQO0FBQUEsR0FQRixDQUFQO0FBUUQ7O0FBRUQ7OztBQUdPLFNBQVNKLFlBQVQsQ0FBc0JTLEdBQXRCLEVBQTJCUCxHQUEzQixFQUFnQztBQUNyQ0EsTUFBSXlDLFFBQUosQ0FBYSxHQUFiO0FBQ0QiLCJmaWxlIjoidXNlci5jb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2FwaS91c2VyIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXIubW9kZWwnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcvZW52aXJvbm1lbnQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5mdW5jdGlvbiB2YWxpZGF0aW9uRXJyb3IocmVzLCBzdGF0dXNDb2RlKSB7XG4gIHN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlIHx8IDQyMjtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVycikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oZXJyKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRXJyb3IocmVzLCBzdGF0dXNDb2RlKSB7XG4gIHN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlIHx8IDUwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVycikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLnNlbmQoZXJyKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXQgbGlzdCBvZiB1c2Vyc1xuICogcmVzdHJpY3Rpb246ICdhZG1pbidcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4KHJlcSwgcmVzKSB7XG4gIHJldHVybiBVc2VyLmZpbmQoe30sICctc2FsdCAtcGFzc3dvcmQnKS5leGVjKClcbiAgICAudGhlbih1c2VycyA9PiB7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2Vycyk7XG4gICAgfSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB1c2VyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMpIHtcbiAgdmFyIG5ld1VzZXIgPSBuZXcgVXNlcihyZXEuYm9keSk7XG4gIG5ld1VzZXIucHJvdmlkZXIgPSAnbG9jYWwnO1xuICBuZXdVc2VyLnJvbGUgPSAndXNlcic7XG4gIG5ld1VzZXIuc2F2ZSgpXG4gICAgLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIHRva2VuID0gand0LnNpZ24oeyBfaWQ6IHVzZXIuX2lkIH0sIGNvbmZpZy5zZWNyZXRzLnNlc3Npb24sIHtcbiAgICAgICAgZXhwaXJlc0luOiA2MCAqIDYwICogNVxuICAgICAgfSk7XG4gICAgICByZXMuanNvbih7IHRva2VuIH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKHZhbGlkYXRpb25FcnJvcihyZXMpKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBzaW5nbGUgdXNlclxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdyhyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgdXNlcklkID0gcmVxLnBhcmFtcy5pZDtcblxuICByZXR1cm4gVXNlci5maW5kQnlJZCh1c2VySWQpLmV4ZWMoKVxuICAgIC50aGVuKHVzZXIgPT4ge1xuICAgICAgaWYoIXVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5lbmQoKTtcbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKHVzZXIucHJvZmlsZSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IG5leHQoZXJyKSk7XG59XG5cbi8qKlxuICogRGVsZXRlcyBhIHVzZXJcbiAqIHJlc3RyaWN0aW9uOiAnYWRtaW4nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95KHJlcSwgcmVzKSB7XG4gIHJldHVybiBVc2VyLmZpbmRCeUlkQW5kUmVtb3ZlKHJlcS5wYXJhbXMuaWQpLmV4ZWMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgcmVzLnN0YXR1cygyMDQpLmVuZCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vKipcbiAqIENoYW5nZSBhIHVzZXJzIHBhc3N3b3JkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZChyZXEsIHJlcykge1xuICB2YXIgdXNlcklkID0gcmVxLnVzZXIuX2lkO1xuICB2YXIgb2xkUGFzcyA9IFN0cmluZyhyZXEuYm9keS5vbGRQYXNzd29yZCk7XG4gIHZhciBuZXdQYXNzID0gU3RyaW5nKHJlcS5ib2R5Lm5ld1Bhc3N3b3JkKTtcblxuICByZXR1cm4gVXNlci5maW5kQnlJZCh1c2VySWQpLmV4ZWMoKVxuICAgIC50aGVuKHVzZXIgPT4ge1xuICAgICAgaWYodXNlci5hdXRoZW50aWNhdGUob2xkUGFzcykpIHtcbiAgICAgICAgdXNlci5wYXNzd29yZCA9IG5ld1Bhc3M7XG4gICAgICAgIHJldHVybiB1c2VyLnNhdmUoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjA0KS5lbmQoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCh2YWxpZGF0aW9uRXJyb3IocmVzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmVuZCgpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEdldCBteSBpbmZvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZShyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgdXNlcklkID0gcmVxLnVzZXIuX2lkO1xuXG4gIHJldHVybiBVc2VyLmZpbmRPbmUoeyBfaWQ6IHVzZXJJZCB9LCAnLXNhbHQgLXBhc3N3b3JkJykuZXhlYygpXG4gICAgLnRoZW4odXNlciA9PiB7IC8vIGRvbid0IGV2ZXIgZ2l2ZSBvdXQgdGhlIHBhc3N3b3JkIG9yIHNhbHRcbiAgICAgIGlmKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuZW5kKCk7XG4gICAgICB9XG4gICAgICByZXMuanNvbih1c2VyKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gbmV4dChlcnIpKTtcbn1cblxuLyoqXG4gKiBBdXRoZW50aWNhdGlvbiBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0aENhbGxiYWNrKHJlcSwgcmVzKSB7XG4gIHJlcy5yZWRpcmVjdCgnLycpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "index",
        "create",
        "show",
        "destroy",
        "changePassword",
        "me",
        "authCallback",
        "validationError",
        "res",
        "statusCode",
        "err",
        "status",
        "json",
        "handleError",
        "send",
        "req",
        "find",
        "exec",
        "then",
        "users",
        "catch",
        "newUser",
        "body",
        "provider",
        "role",
        "save",
        "user",
        "token",
        "sign",
        "_id",
        "secrets",
        "session",
        "expiresIn",
        "next",
        "userId",
        "params",
        "id",
        "findById",
        "end",
        "profile",
        "findByIdAndRemove",
        "oldPass",
        "String",
        "oldPassword",
        "newPass",
        "newPassword",
        "authenticate",
        "password",
        "findOne",
        "redirect"
      ],
      "mappings": "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",
      "file": "user.controller.js",
      "sourceRoot": "/home/nitrous/server/api/user",
      "sourcesContent": [
        "'use strict';\n\nimport User from './user.model';\nimport config from '../../config/environment';\nimport jwt from 'jsonwebtoken';\n\nfunction validationError(res, statusCode) {\n  statusCode = statusCode || 422;\n  return function(err) {\n    return res.status(statusCode).json(err);\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    return res.status(statusCode).send(err);\n  };\n}\n\n/**\n * Get list of users\n * restriction: 'admin'\n */\nexport function index(req, res) {\n  return User.find({}, '-salt -password').exec()\n    .then(users => {\n      res.status(200).json(users);\n    })\n    .catch(handleError(res));\n}\n\n/**\n * Creates a new user\n */\nexport function create(req, res) {\n  var newUser = new User(req.body);\n  newUser.provider = 'local';\n  newUser.role = 'user';\n  newUser.save()\n    .then(function(user) {\n      var token = jwt.sign({ _id: user._id }, config.secrets.session, {\n        expiresIn: 60 * 60 * 5\n      });\n      res.json({ token });\n    })\n    .catch(validationError(res));\n}\n\n/**\n * Get a single user\n */\nexport function show(req, res, next) {\n  var userId = req.params.id;\n\n  return User.findById(userId).exec()\n    .then(user => {\n      if(!user) {\n        return res.status(404).end();\n      }\n      res.json(user.profile);\n    })\n    .catch(err => next(err));\n}\n\n/**\n * Deletes a user\n * restriction: 'admin'\n */\nexport function destroy(req, res) {\n  return User.findByIdAndRemove(req.params.id).exec()\n    .then(function() {\n      res.status(204).end();\n    })\n    .catch(handleError(res));\n}\n\n/**\n * Change a users password\n */\nexport function changePassword(req, res) {\n  var userId = req.user._id;\n  var oldPass = String(req.body.oldPassword);\n  var newPass = String(req.body.newPassword);\n\n  return User.findById(userId).exec()\n    .then(user => {\n      if(user.authenticate(oldPass)) {\n        user.password = newPass;\n        return user.save()\n          .then(() => {\n            res.status(204).end();\n          })\n          .catch(validationError(res));\n      } else {\n        return res.status(403).end();\n      }\n    });\n}\n\n/**\n * Get my info\n */\nexport function me(req, res, next) {\n  var userId = req.user._id;\n\n  return User.findOne({ _id: userId }, '-salt -password').exec()\n    .then(user => { // don't ever give out the password or salt\n      if(!user) {\n        return res.status(401).end();\n      }\n      res.json(user);\n    })\n    .catch(err => next(err));\n}\n\n/**\n * Authentication callback\n */\nexport function authCallback(req, res) {\n  res.redirect('/');\n}\n"
      ]
    },
    "mtime": 1475441231063
  },
  "{\"filename\":\"/home/nitrous/server/auth/auth.service.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/auth\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "jsonwebtoken",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jwt"
              }
            ]
          },
          {
            "source": "express-jwt",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "expressJwt"
              }
            ]
          },
          {
            "source": "composable-middleware",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "compose"
              }
            ]
          },
          {
            "source": "../api/user/user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "isAuthenticated",
            "hasRole",
            "roleRequired",
            "signToken",
            "id",
            "role",
            "setTokenCookie",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "isAuthenticated",
              "exported": "isAuthenticated"
            },
            {
              "kind": "local",
              "local": "hasRole",
              "exported": "hasRole"
            },
            {
              "kind": "local",
              "local": "roleRequired",
              "exported": "roleRequired"
            },
            {
              "kind": "local",
              "local": "signToken",
              "exported": "signToken"
            },
            {
              "kind": "local",
              "local": "id",
              "exported": "id"
            },
            {
              "kind": "local",
              "local": "role",
              "exported": "role"
            },
            {
              "kind": "local",
              "local": "setTokenCookie",
              "exported": "setTokenCookie"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/auth/auth.service.js",
      "filenameRelative": "/home/nitrous/server/auth/auth.service.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "auth.service.js",
      "sourceFileName": "auth.service.js",
      "sourceRoot": "/home/nitrous/server/auth",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/auth",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "auth.service"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuthenticated = isAuthenticated;\nexports.hasRole = hasRole;\nexports.signToken = signToken;\nexports.setTokenCookie = setTokenCookie;\n\nvar _environment = require('../config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nvar _expressJwt = require('express-jwt');\n\nvar _expressJwt2 = _interopRequireDefault(_expressJwt);\n\nvar _composableMiddleware = require('composable-middleware');\n\nvar _composableMiddleware2 = _interopRequireDefault(_composableMiddleware);\n\nvar _user = require('../api/user/user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validateJwt = (0, _expressJwt2.default)({\n  secret: _environment2.default.secrets.session\n});\n\n/**\n * Attaches the user object to the request if authenticated\n * Otherwise returns 403\n */\nfunction isAuthenticated() {\n  return (0, _composableMiddleware2.default)()\n  // Validate jwt\n  .use(function (req, res, next) {\n    // allow access_token to be passed through query parameter as well\n    if (req.query && req.query.hasOwnProperty('access_token')) {\n      req.headers.authorization = 'Bearer ' + req.query.access_token;\n    }\n    // IE11 forgets to set Authorization header sometimes. Pull from cookie instead.\n    if (req.query && typeof req.headers.authorization === 'undefined') {\n      req.headers.authorization = 'Bearer ' + req.cookies.token;\n    }\n    validateJwt(req, res, next);\n  })\n  // Attach user to request\n  .use(function (req, res, next) {\n    _user2.default.findById(req.user._id).exec().then(function (user) {\n      if (!user) {\n        return res.status(401).end();\n      }\n      req.user = user;\n      next();\n    }).catch(function (err) {\n      return next(err);\n    });\n  });\n}\n\n/**\n * Checks if the user role meets the minimum requirements of the route\n */\nfunction hasRole(roleRequired) {\n  if (!roleRequired) {\n    throw new Error('Required role needs to be set');\n  }\n\n  return (0, _composableMiddleware2.default)().use(isAuthenticated()).use(function meetsRequirements(req, res, next) {\n    if (_environment2.default.userRoles.indexOf(req.user.role) >= _environment2.default.userRoles.indexOf(roleRequired)) {\n      return next();\n    } else {\n      return res.status(403).send('Forbidden');\n    }\n  });\n}\n\n/**\n * Returns a jwt token signed by the app secret\n */\nfunction signToken(id, role) {\n  return _jsonwebtoken2.default.sign({ _id: id, role: role }, _environment2.default.secrets.session, {\n    expiresIn: 60 * 60 * 5\n  });\n}\n\n/**\n * Set token cookie directly for oAuth strategies\n */\nfunction setTokenCookie(req, res) {\n  if (!req.user) {\n    return res.status(404).send('It looks like you aren\\'t logged in, please try again.');\n  }\n  var token = signToken(req.user._id, req.user.role);\n  res.cookie('token', token);\n  res.redirect('/');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJuYW1lcyI6WyJpc0F1dGhlbnRpY2F0ZWQiLCJoYXNSb2xlIiwic2lnblRva2VuIiwic2V0VG9rZW5Db29raWUiLCJ2YWxpZGF0ZUp3dCIsInNlY3JldCIsInNlY3JldHMiLCJzZXNzaW9uIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsInF1ZXJ5IiwiaGFzT3duUHJvcGVydHkiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImFjY2Vzc190b2tlbiIsImNvb2tpZXMiLCJ0b2tlbiIsImZpbmRCeUlkIiwidXNlciIsIl9pZCIsImV4ZWMiLCJ0aGVuIiwic3RhdHVzIiwiZW5kIiwiY2F0Y2giLCJlcnIiLCJyb2xlUmVxdWlyZWQiLCJFcnJvciIsIm1lZXRzUmVxdWlyZW1lbnRzIiwidXNlclJvbGVzIiwiaW5kZXhPZiIsInJvbGUiLCJzZW5kIiwiaWQiLCJzaWduIiwiZXhwaXJlc0luIiwiY29va2llIiwicmVkaXJlY3QiXSwibWFwcGluZ3MiOiJBQUFBOzs7OztRQWVnQkEsZSxHQUFBQSxlO1FBK0JBQyxPLEdBQUFBLE87UUFtQkFDLFMsR0FBQUEsUztRQVNBQyxjLEdBQUFBLGM7O0FBekVoQjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFJQyxjQUFjLDBCQUFXO0FBQzNCQyxVQUFRLHNCQUFPQyxPQUFQLENBQWVDO0FBREksQ0FBWCxDQUFsQjs7QUFJQTs7OztBQUlPLFNBQVNQLGVBQVQsR0FBMkI7QUFDaEMsU0FBTztBQUNMO0FBREssR0FFSlEsR0FGSSxDQUVBLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDNUI7QUFDQSxRQUFHRixJQUFJRyxLQUFKLElBQWFILElBQUlHLEtBQUosQ0FBVUMsY0FBVixDQUF5QixjQUF6QixDQUFoQixFQUEwRDtBQUN4REosVUFBSUssT0FBSixDQUFZQyxhQUFaLGVBQXNDTixJQUFJRyxLQUFKLENBQVVJLFlBQWhEO0FBQ0Q7QUFDRjtBQUNDLFFBQUdQLElBQUlHLEtBQUosSUFBYSxPQUFPSCxJQUFJSyxPQUFKLENBQVlDLGFBQW5CLEtBQXFDLFdBQXJELEVBQWtFO0FBQ2hFTixVQUFJSyxPQUFKLENBQVlDLGFBQVosZUFBc0NOLElBQUlRLE9BQUosQ0FBWUMsS0FBbEQ7QUFDRDtBQUNEZCxnQkFBWUssR0FBWixFQUFpQkMsR0FBakIsRUFBc0JDLElBQXRCO0FBQ0QsR0FaSTtBQWFMO0FBYkssR0FjSkgsR0FkSSxDQWNBLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDNUIsbUJBQUtRLFFBQUwsQ0FBY1YsSUFBSVcsSUFBSixDQUFTQyxHQUF2QixFQUE0QkMsSUFBNUIsR0FDR0MsSUFESCxDQUNRLGdCQUFRO0FBQ1osVUFBRyxDQUFDSCxJQUFKLEVBQVU7QUFDUixlQUFPVixJQUFJYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsR0FBaEIsRUFBUDtBQUNEO0FBQ0RoQixVQUFJVyxJQUFKLEdBQVdBLElBQVg7QUFDQVQ7QUFDRCxLQVBILEVBUUdlLEtBUkgsQ0FRUztBQUFBLGFBQU9mLEtBQUtnQixHQUFMLENBQVA7QUFBQSxLQVJUO0FBU0QsR0F4QkksQ0FBUDtBQXlCRDs7QUFFRDs7O0FBR08sU0FBUzFCLE9BQVQsQ0FBaUIyQixZQUFqQixFQUErQjtBQUNwQyxNQUFHLENBQUNBLFlBQUosRUFBa0I7QUFDaEIsVUFBTSxJQUFJQyxLQUFKLENBQVUsK0JBQVYsQ0FBTjtBQUNEOztBQUVELFNBQU8sc0NBQ0pyQixHQURJLENBQ0FSLGlCQURBLEVBRUpRLEdBRkksQ0FFQSxTQUFTc0IsaUJBQVQsQ0FBMkJyQixHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUNDLElBQXJDLEVBQTJDO0FBQzlDLFFBQUcsc0JBQU9vQixTQUFQLENBQWlCQyxPQUFqQixDQUF5QnZCLElBQUlXLElBQUosQ0FBU2EsSUFBbEMsS0FBMkMsc0JBQU9GLFNBQVAsQ0FBaUJDLE9BQWpCLENBQXlCSixZQUF6QixDQUE5QyxFQUFzRjtBQUNwRixhQUFPakIsTUFBUDtBQUNELEtBRkQsTUFFTztBQUNMLGFBQU9ELElBQUljLE1BQUosQ0FBVyxHQUFYLEVBQWdCVSxJQUFoQixDQUFxQixXQUFyQixDQUFQO0FBQ0Q7QUFDRixHQVJJLENBQVA7QUFTRDs7QUFFRDs7O0FBR08sU0FBU2hDLFNBQVQsQ0FBbUJpQyxFQUFuQixFQUF1QkYsSUFBdkIsRUFBNkI7QUFDbEMsU0FBTyx1QkFBSUcsSUFBSixDQUFTLEVBQUVmLEtBQUtjLEVBQVAsRUFBV0YsVUFBWCxFQUFULEVBQTRCLHNCQUFPM0IsT0FBUCxDQUFlQyxPQUEzQyxFQUFvRDtBQUN6RDhCLGVBQVcsS0FBSyxFQUFMLEdBQVU7QUFEb0MsR0FBcEQsQ0FBUDtBQUdEOztBQUVEOzs7QUFHTyxTQUFTbEMsY0FBVCxDQUF3Qk0sR0FBeEIsRUFBNkJDLEdBQTdCLEVBQWtDO0FBQ3ZDLE1BQUcsQ0FBQ0QsSUFBSVcsSUFBUixFQUFjO0FBQ1osV0FBT1YsSUFBSWMsTUFBSixDQUFXLEdBQVgsRUFBZ0JVLElBQWhCLENBQXFCLHdEQUFyQixDQUFQO0FBQ0Q7QUFDRCxNQUFJaEIsUUFBUWhCLFVBQVVPLElBQUlXLElBQUosQ0FBU0MsR0FBbkIsRUFBd0JaLElBQUlXLElBQUosQ0FBU2EsSUFBakMsQ0FBWjtBQUNBdkIsTUFBSTRCLE1BQUosQ0FBVyxPQUFYLEVBQW9CcEIsS0FBcEI7QUFDQVIsTUFBSTZCLFFBQUosQ0FBYSxHQUFiO0FBQ0QiLCJmaWxlIjoiYXV0aC5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2F1dGgiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZy9lbnZpcm9ubWVudCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgZXhwcmVzc0p3dCBmcm9tICdleHByZXNzLWp3dCc7XG5pbXBvcnQgY29tcG9zZSBmcm9tICdjb21wb3NhYmxlLW1pZGRsZXdhcmUnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vYXBpL3VzZXIvdXNlci5tb2RlbCc7XG5cbnZhciB2YWxpZGF0ZUp3dCA9IGV4cHJlc3NKd3Qoe1xuICBzZWNyZXQ6IGNvbmZpZy5zZWNyZXRzLnNlc3Npb25cbn0pO1xuXG4vKipcbiAqIEF0dGFjaGVzIHRoZSB1c2VyIG9iamVjdCB0byB0aGUgcmVxdWVzdCBpZiBhdXRoZW50aWNhdGVkXG4gKiBPdGhlcndpc2UgcmV0dXJucyA0MDNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcbiAgcmV0dXJuIGNvbXBvc2UoKVxuICAgIC8vIFZhbGlkYXRlIGp3dFxuICAgIC51c2UoZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICAgIC8vIGFsbG93IGFjY2Vzc190b2tlbiB0byBiZSBwYXNzZWQgdGhyb3VnaCBxdWVyeSBwYXJhbWV0ZXIgYXMgd2VsbFxuICAgICAgaWYocmVxLnF1ZXJ5ICYmIHJlcS5xdWVyeS5oYXNPd25Qcm9wZXJ0eSgnYWNjZXNzX3Rva2VuJykpIHtcbiAgICAgICAgcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHtyZXEucXVlcnkuYWNjZXNzX3Rva2VufWA7XG4gICAgICB9XG4gICAgIC8vIElFMTEgZm9yZ2V0cyB0byBzZXQgQXV0aG9yaXphdGlvbiBoZWFkZXIgc29tZXRpbWVzLiBQdWxsIGZyb20gY29va2llIGluc3RlYWQuXG4gICAgICBpZihyZXEucXVlcnkgJiYgdHlwZW9mIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7cmVxLmNvb2tpZXMudG9rZW59YDtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlSnd0KHJlcSwgcmVzLCBuZXh0KTtcbiAgICB9KVxuICAgIC8vIEF0dGFjaCB1c2VyIHRvIHJlcXVlc3RcbiAgICAudXNlKGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICBVc2VyLmZpbmRCeUlkKHJlcS51c2VyLl9pZCkuZXhlYygpXG4gICAgICAgIC50aGVuKHVzZXIgPT4ge1xuICAgICAgICAgIGlmKCF1c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmVuZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXEudXNlciA9IHVzZXI7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IG5leHQoZXJyKSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSB1c2VyIHJvbGUgbWVldHMgdGhlIG1pbmltdW0gcmVxdWlyZW1lbnRzIG9mIHRoZSByb3V0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzUm9sZShyb2xlUmVxdWlyZWQpIHtcbiAgaWYoIXJvbGVSZXF1aXJlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcm9sZSBuZWVkcyB0byBiZSBzZXQnKTtcbiAgfVxuXG4gIHJldHVybiBjb21wb3NlKClcbiAgICAudXNlKGlzQXV0aGVudGljYXRlZCgpKVxuICAgIC51c2UoZnVuY3Rpb24gbWVldHNSZXF1aXJlbWVudHMocmVxLCByZXMsIG5leHQpIHtcbiAgICAgIGlmKGNvbmZpZy51c2VyUm9sZXMuaW5kZXhPZihyZXEudXNlci5yb2xlKSA+PSBjb25maWcudXNlclJvbGVzLmluZGV4T2Yocm9sZVJlcXVpcmVkKSkge1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdGb3JiaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgand0IHRva2VuIHNpZ25lZCBieSB0aGUgYXBwIHNlY3JldFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2lnblRva2VuKGlkLCByb2xlKSB7XG4gIHJldHVybiBqd3Quc2lnbih7IF9pZDogaWQsIHJvbGUgfSwgY29uZmlnLnNlY3JldHMuc2Vzc2lvbiwge1xuICAgIGV4cGlyZXNJbjogNjAgKiA2MCAqIDVcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IHRva2VuIGNvb2tpZSBkaXJlY3RseSBmb3Igb0F1dGggc3RyYXRlZ2llc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VG9rZW5Db29raWUocmVxLCByZXMpIHtcbiAgaWYoIXJlcS51c2VyKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdJdCBsb29rcyBsaWtlIHlvdSBhcmVuXFwndCBsb2dnZWQgaW4sIHBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gIH1cbiAgdmFyIHRva2VuID0gc2lnblRva2VuKHJlcS51c2VyLl9pZCwgcmVxLnVzZXIucm9sZSk7XG4gIHJlcy5jb29raWUoJ3Rva2VuJywgdG9rZW4pO1xuICByZXMucmVkaXJlY3QoJy8nKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "auth.service.js"
      ],
      "names": [
        "isAuthenticated",
        "hasRole",
        "signToken",
        "setTokenCookie",
        "validateJwt",
        "secret",
        "secrets",
        "session",
        "use",
        "req",
        "res",
        "next",
        "query",
        "hasOwnProperty",
        "headers",
        "authorization",
        "access_token",
        "cookies",
        "token",
        "findById",
        "user",
        "_id",
        "exec",
        "then",
        "status",
        "end",
        "catch",
        "err",
        "roleRequired",
        "Error",
        "meetsRequirements",
        "userRoles",
        "indexOf",
        "role",
        "send",
        "id",
        "sign",
        "expiresIn",
        "cookie",
        "redirect"
      ],
      "mappings": "AAAA;;;;;QAegBA,e,GAAAA,e;QA+BAC,O,GAAAA,O;QAmBAC,S,GAAAA,S;QASAC,c,GAAAA,c;;AAzEhB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIC,cAAc,0BAAW;AAC3BC,UAAQ,sBAAOC,OAAP,CAAeC;AADI,CAAX,CAAlB;;AAIA;;;;AAIO,SAASP,eAAT,GAA2B;AAChC,SAAO;AACL;AADK,GAEJQ,GAFI,CAEA,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC5B;AACA,QAAGF,IAAIG,KAAJ,IAAaH,IAAIG,KAAJ,CAAUC,cAAV,CAAyB,cAAzB,CAAhB,EAA0D;AACxDJ,UAAIK,OAAJ,CAAYC,aAAZ,eAAsCN,IAAIG,KAAJ,CAAUI,YAAhD;AACD;AACF;AACC,QAAGP,IAAIG,KAAJ,IAAa,OAAOH,IAAIK,OAAJ,CAAYC,aAAnB,KAAqC,WAArD,EAAkE;AAChEN,UAAIK,OAAJ,CAAYC,aAAZ,eAAsCN,IAAIQ,OAAJ,CAAYC,KAAlD;AACD;AACDd,gBAAYK,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB;AACD,GAZI;AAaL;AAbK,GAcJH,GAdI,CAcA,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC5B,mBAAKQ,QAAL,CAAcV,IAAIW,IAAJ,CAASC,GAAvB,EAA4BC,IAA5B,GACGC,IADH,CACQ,gBAAQ;AACZ,UAAG,CAACH,IAAJ,EAAU;AACR,eAAOV,IAAIc,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EAAP;AACD;AACDhB,UAAIW,IAAJ,GAAWA,IAAX;AACAT;AACD,KAPH,EAQGe,KARH,CAQS;AAAA,aAAOf,KAAKgB,GAAL,CAAP;AAAA,KART;AASD,GAxBI,CAAP;AAyBD;;AAED;;;AAGO,SAAS1B,OAAT,CAAiB2B,YAAjB,EAA+B;AACpC,MAAG,CAACA,YAAJ,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACD;;AAED,SAAO,sCACJrB,GADI,CACAR,iBADA,EAEJQ,GAFI,CAEA,SAASsB,iBAAT,CAA2BrB,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;AAC9C,QAAG,sBAAOoB,SAAP,CAAiBC,OAAjB,CAAyBvB,IAAIW,IAAJ,CAASa,IAAlC,KAA2C,sBAAOF,SAAP,CAAiBC,OAAjB,CAAyBJ,YAAzB,CAA9C,EAAsF;AACpF,aAAOjB,MAAP;AACD,KAFD,MAEO;AACL,aAAOD,IAAIc,MAAJ,CAAW,GAAX,EAAgBU,IAAhB,CAAqB,WAArB,CAAP;AACD;AACF,GARI,CAAP;AASD;;AAED;;;AAGO,SAAShC,SAAT,CAAmBiC,EAAnB,EAAuBF,IAAvB,EAA6B;AAClC,SAAO,uBAAIG,IAAJ,CAAS,EAAEf,KAAKc,EAAP,EAAWF,UAAX,EAAT,EAA4B,sBAAO3B,OAAP,CAAeC,OAA3C,EAAoD;AACzD8B,eAAW,KAAK,EAAL,GAAU;AADoC,GAApD,CAAP;AAGD;;AAED;;;AAGO,SAASlC,cAAT,CAAwBM,GAAxB,EAA6BC,GAA7B,EAAkC;AACvC,MAAG,CAACD,IAAIW,IAAR,EAAc;AACZ,WAAOV,IAAIc,MAAJ,CAAW,GAAX,EAAgBU,IAAhB,CAAqB,wDAArB,CAAP;AACD;AACD,MAAIhB,QAAQhB,UAAUO,IAAIW,IAAJ,CAASC,GAAnB,EAAwBZ,IAAIW,IAAJ,CAASa,IAAjC,CAAZ;AACAvB,MAAI4B,MAAJ,CAAW,OAAX,EAAoBpB,KAApB;AACAR,MAAI6B,QAAJ,CAAa,GAAb;AACD",
      "file": "auth.service.js",
      "sourceRoot": "/home/nitrous/server/auth",
      "sourcesContent": [
        "'use strict';\nimport config from '../config/environment';\nimport jwt from 'jsonwebtoken';\nimport expressJwt from 'express-jwt';\nimport compose from 'composable-middleware';\nimport User from '../api/user/user.model';\n\nvar validateJwt = expressJwt({\n  secret: config.secrets.session\n});\n\n/**\n * Attaches the user object to the request if authenticated\n * Otherwise returns 403\n */\nexport function isAuthenticated() {\n  return compose()\n    // Validate jwt\n    .use(function(req, res, next) {\n      // allow access_token to be passed through query parameter as well\n      if(req.query && req.query.hasOwnProperty('access_token')) {\n        req.headers.authorization = `Bearer ${req.query.access_token}`;\n      }\n     // IE11 forgets to set Authorization header sometimes. Pull from cookie instead.\n      if(req.query && typeof req.headers.authorization === 'undefined') {\n        req.headers.authorization = `Bearer ${req.cookies.token}`;\n      }\n      validateJwt(req, res, next);\n    })\n    // Attach user to request\n    .use(function(req, res, next) {\n      User.findById(req.user._id).exec()\n        .then(user => {\n          if(!user) {\n            return res.status(401).end();\n          }\n          req.user = user;\n          next();\n        })\n        .catch(err => next(err));\n    });\n}\n\n/**\n * Checks if the user role meets the minimum requirements of the route\n */\nexport function hasRole(roleRequired) {\n  if(!roleRequired) {\n    throw new Error('Required role needs to be set');\n  }\n\n  return compose()\n    .use(isAuthenticated())\n    .use(function meetsRequirements(req, res, next) {\n      if(config.userRoles.indexOf(req.user.role) >= config.userRoles.indexOf(roleRequired)) {\n        return next();\n      } else {\n        return res.status(403).send('Forbidden');\n      }\n    });\n}\n\n/**\n * Returns a jwt token signed by the app secret\n */\nexport function signToken(id, role) {\n  return jwt.sign({ _id: id, role }, config.secrets.session, {\n    expiresIn: 60 * 60 * 5\n  });\n}\n\n/**\n * Set token cookie directly for oAuth strategies\n */\nexport function setTokenCookie(req, res) {\n  if(!req.user) {\n    return res.status(404).send('It looks like you aren\\'t logged in, please try again.');\n  }\n  var token = signToken(req.user._id, req.user.role);\n  res.cookie('token', token);\n  res.redirect('/');\n}\n"
      ]
    },
    "mtime": 1475441232371
  },
  "{\"filename\":\"/home/nitrous/server/auth/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/auth\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "../config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "../api/user/user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/auth/index.js",
      "filenameRelative": "/home/nitrous/server/auth/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/auth",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/auth",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _environment = require('../config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _user = require('../api/user/user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Passport Configuration\nrequire('./local/passport').setup(_user2.default, _environment2.default);\n\nvar router = _express2.default.Router();\n\nrouter.use('/local', require('./local').default);\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJzZXR1cCIsInJvdXRlciIsIlJvdXRlciIsInVzZSIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBO0FBQ0FBLFFBQVEsa0JBQVIsRUFBNEJDLEtBQTVCOztBQUVBLElBQUlDLFNBQVMsa0JBQVFDLE1BQVIsRUFBYjs7QUFFQUQsT0FBT0UsR0FBUCxDQUFXLFFBQVgsRUFBcUJKLFFBQVEsU0FBUixFQUFtQkssT0FBeEM7O2tCQUVlSCxNIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2F1dGgiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2Vudmlyb25tZW50JztcbmltcG9ydCBVc2VyIGZyb20gJy4uL2FwaS91c2VyL3VzZXIubW9kZWwnO1xuXG4vLyBQYXNzcG9ydCBDb25maWd1cmF0aW9uXG5yZXF1aXJlKCcuL2xvY2FsL3Bhc3Nwb3J0Jykuc2V0dXAoVXNlciwgY29uZmlnKTtcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci51c2UoJy9sb2NhbCcsIHJlcXVpcmUoJy4vbG9jYWwnKS5kZWZhdWx0KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "require",
        "setup",
        "router",
        "Router",
        "use",
        "default"
      ],
      "mappings": "AAAA;;;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACAA,QAAQ,kBAAR,EAA4BC,KAA5B;;AAEA,IAAIC,SAAS,kBAAQC,MAAR,EAAb;;AAEAD,OAAOE,GAAP,CAAW,QAAX,EAAqBJ,QAAQ,SAAR,EAAmBK,OAAxC;;kBAEeH,M",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/auth",
      "sourcesContent": [
        "'use strict';\nimport express from 'express';\nimport config from '../config/environment';\nimport User from '../api/user/user.model';\n\n// Passport Configuration\nrequire('./local/passport').setup(User, config);\n\nvar router = express.Router();\n\nrouter.use('/local', require('./local').default);\n\nexport default router;\n"
      ]
    },
    "mtime": 1475441232371
  },
  "{\"filename\":\"/home/nitrous/server/auth/local/passport.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/auth/local\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "passport-local",
            "imported": [
              "Strategy"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Strategy",
                "local": "LocalStrategy"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "setup",
            "User"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "setup",
              "exported": "setup"
            },
            {
              "kind": "local",
              "local": "User",
              "exported": "User"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/auth/local/passport.js",
      "filenameRelative": "/home/nitrous/server/auth/local/passport.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "passport.js",
      "sourceFileName": "passport.js",
      "sourceRoot": "/home/nitrous/server/auth/local",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/auth/local",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "passport"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setup = setup;\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _passportLocal = require('passport-local');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction localAuthenticate(User, email, password, done) {\n  User.findOne({\n    email: email.toLowerCase()\n  }).exec().then(function (user) {\n    if (!user) {\n      return done(null, false, {\n        message: 'This email is not registered.'\n      });\n    }\n    user.authenticate(password, function (authError, authenticated) {\n      if (authError) {\n        return done(authError);\n      }\n      if (!authenticated) {\n        return done(null, false, { message: 'This password is not correct.' });\n      } else {\n        return done(null, user);\n      }\n    });\n  }).catch(function (err) {\n    return done(err);\n  });\n}\n\nfunction setup(User /*, config*/) {\n  _passport2.default.use(new _passportLocal.Strategy({\n    usernameField: 'email',\n    passwordField: 'password' // this is the virtual field on the model\n  }, function (email, password, done) {\n    return localAuthenticate(User, email, password, done);\n  }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInNldHVwIiwibG9jYWxBdXRoZW50aWNhdGUiLCJVc2VyIiwiZW1haWwiLCJwYXNzd29yZCIsImRvbmUiLCJmaW5kT25lIiwidG9Mb3dlckNhc2UiLCJleGVjIiwidGhlbiIsInVzZXIiLCJtZXNzYWdlIiwiYXV0aGVudGljYXRlIiwiYXV0aEVycm9yIiwiYXV0aGVudGljYXRlZCIsImNhdGNoIiwiZXJyIiwidXNlIiwidXNlcm5hbWVGaWVsZCIsInBhc3N3b3JkRmllbGQiXSwibWFwcGluZ3MiOiI7Ozs7O1FBMkJnQkEsSyxHQUFBQSxLOztBQTNCaEI7Ozs7QUFDQTs7OztBQUVBLFNBQVNDLGlCQUFULENBQTJCQyxJQUEzQixFQUFpQ0MsS0FBakMsRUFBd0NDLFFBQXhDLEVBQWtEQyxJQUFsRCxFQUF3RDtBQUN0REgsT0FBS0ksT0FBTCxDQUFhO0FBQ1hILFdBQU9BLE1BQU1JLFdBQU47QUFESSxHQUFiLEVBRUdDLElBRkgsR0FHR0MsSUFISCxDQUdRLGdCQUFRO0FBQ1osUUFBRyxDQUFDQyxJQUFKLEVBQVU7QUFDUixhQUFPTCxLQUFLLElBQUwsRUFBVyxLQUFYLEVBQWtCO0FBQ3ZCTSxpQkFBUztBQURjLE9BQWxCLENBQVA7QUFHRDtBQUNERCxTQUFLRSxZQUFMLENBQWtCUixRQUFsQixFQUE0QixVQUFTUyxTQUFULEVBQW9CQyxhQUFwQixFQUFtQztBQUM3RCxVQUFHRCxTQUFILEVBQWM7QUFDWixlQUFPUixLQUFLUSxTQUFMLENBQVA7QUFDRDtBQUNELFVBQUcsQ0FBQ0MsYUFBSixFQUFtQjtBQUNqQixlQUFPVCxLQUFLLElBQUwsRUFBVyxLQUFYLEVBQWtCLEVBQUVNLFNBQVMsK0JBQVgsRUFBbEIsQ0FBUDtBQUNELE9BRkQsTUFFTztBQUNMLGVBQU9OLEtBQUssSUFBTCxFQUFXSyxJQUFYLENBQVA7QUFDRDtBQUNGLEtBVEQ7QUFVRCxHQW5CSCxFQW9CR0ssS0FwQkgsQ0FvQlM7QUFBQSxXQUFPVixLQUFLVyxHQUFMLENBQVA7QUFBQSxHQXBCVDtBQXFCRDs7QUFFTSxTQUFTaEIsS0FBVCxDQUFlRSxJQUFmLENBQW1CLFlBQW5CLEVBQWlDO0FBQ3RDLHFCQUFTZSxHQUFULENBQWEsNEJBQWtCO0FBQzdCQyxtQkFBZSxPQURjO0FBRTdCQyxtQkFBZSxVQUZjLENBRUg7QUFGRyxHQUFsQixFQUdWLFVBQVNoQixLQUFULEVBQWdCQyxRQUFoQixFQUEwQkMsSUFBMUIsRUFBZ0M7QUFDakMsV0FBT0osa0JBQWtCQyxJQUFsQixFQUF3QkMsS0FBeEIsRUFBK0JDLFFBQS9CLEVBQXlDQyxJQUF6QyxDQUFQO0FBQ0QsR0FMWSxDQUFiO0FBTUQiLCJmaWxlIjoicGFzc3BvcnQuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXV0aC9sb2NhbCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQge1N0cmF0ZWd5IGFzIExvY2FsU3RyYXRlZ3l9IGZyb20gJ3Bhc3Nwb3J0LWxvY2FsJztcblxuZnVuY3Rpb24gbG9jYWxBdXRoZW50aWNhdGUoVXNlciwgZW1haWwsIHBhc3N3b3JkLCBkb25lKSB7XG4gIFVzZXIuZmluZE9uZSh7XG4gICAgZW1haWw6IGVtYWlsLnRvTG93ZXJDYXNlKClcbiAgfSkuZXhlYygpXG4gICAgLnRoZW4odXNlciA9PiB7XG4gICAgICBpZighdXNlcikge1xuICAgICAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSwge1xuICAgICAgICAgIG1lc3NhZ2U6ICdUaGlzIGVtYWlsIGlzIG5vdCByZWdpc3RlcmVkLidcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB1c2VyLmF1dGhlbnRpY2F0ZShwYXNzd29yZCwgZnVuY3Rpb24oYXV0aEVycm9yLCBhdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIGlmKGF1dGhFcnJvcikge1xuICAgICAgICAgIHJldHVybiBkb25lKGF1dGhFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSwgeyBtZXNzYWdlOiAnVGhpcyBwYXNzd29yZCBpcyBub3QgY29ycmVjdC4nIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIHVzZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gZG9uZShlcnIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKFVzZXIvKiwgY29uZmlnKi8pIHtcbiAgcGFzc3BvcnQudXNlKG5ldyBMb2NhbFN0cmF0ZWd5KHtcbiAgICB1c2VybmFtZUZpZWxkOiAnZW1haWwnLFxuICAgIHBhc3N3b3JkRmllbGQ6ICdwYXNzd29yZCcgLy8gdGhpcyBpcyB0aGUgdmlydHVhbCBmaWVsZCBvbiB0aGUgbW9kZWxcbiAgfSwgZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkLCBkb25lKSB7XG4gICAgcmV0dXJuIGxvY2FsQXV0aGVudGljYXRlKFVzZXIsIGVtYWlsLCBwYXNzd29yZCwgZG9uZSk7XG4gIH0pKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [
        "setup",
        "localAuthenticate",
        "User",
        "email",
        "password",
        "done",
        "findOne",
        "toLowerCase",
        "exec",
        "then",
        "user",
        "message",
        "authenticate",
        "authError",
        "authenticated",
        "catch",
        "err",
        "use",
        "usernameField",
        "passwordField"
      ],
      "mappings": ";;;;;QA2BgBA,K,GAAAA,K;;AA3BhB;;;;AACA;;;;AAEA,SAASC,iBAAT,CAA2BC,IAA3B,EAAiCC,KAAjC,EAAwCC,QAAxC,EAAkDC,IAAlD,EAAwD;AACtDH,OAAKI,OAAL,CAAa;AACXH,WAAOA,MAAMI,WAAN;AADI,GAAb,EAEGC,IAFH,GAGGC,IAHH,CAGQ,gBAAQ;AACZ,QAAG,CAACC,IAAJ,EAAU;AACR,aAAOL,KAAK,IAAL,EAAW,KAAX,EAAkB;AACvBM,iBAAS;AADc,OAAlB,CAAP;AAGD;AACDD,SAAKE,YAAL,CAAkBR,QAAlB,EAA4B,UAASS,SAAT,EAAoBC,aAApB,EAAmC;AAC7D,UAAGD,SAAH,EAAc;AACZ,eAAOR,KAAKQ,SAAL,CAAP;AACD;AACD,UAAG,CAACC,aAAJ,EAAmB;AACjB,eAAOT,KAAK,IAAL,EAAW,KAAX,EAAkB,EAAEM,SAAS,+BAAX,EAAlB,CAAP;AACD,OAFD,MAEO;AACL,eAAON,KAAK,IAAL,EAAWK,IAAX,CAAP;AACD;AACF,KATD;AAUD,GAnBH,EAoBGK,KApBH,CAoBS;AAAA,WAAOV,KAAKW,GAAL,CAAP;AAAA,GApBT;AAqBD;;AAEM,SAAShB,KAAT,CAAeE,IAAf,CAAmB,YAAnB,EAAiC;AACtC,qBAASe,GAAT,CAAa,4BAAkB;AAC7BC,mBAAe,OADc;AAE7BC,mBAAe,UAFc,CAEH;AAFG,GAAlB,EAGV,UAAShB,KAAT,EAAgBC,QAAhB,EAA0BC,IAA1B,EAAgC;AACjC,WAAOJ,kBAAkBC,IAAlB,EAAwBC,KAAxB,EAA+BC,QAA/B,EAAyCC,IAAzC,CAAP;AACD,GALY,CAAb;AAMD",
      "file": "passport.js",
      "sourceRoot": "/home/nitrous/server/auth/local",
      "sourcesContent": [
        "import passport from 'passport';\nimport {Strategy as LocalStrategy} from 'passport-local';\n\nfunction localAuthenticate(User, email, password, done) {\n  User.findOne({\n    email: email.toLowerCase()\n  }).exec()\n    .then(user => {\n      if(!user) {\n        return done(null, false, {\n          message: 'This email is not registered.'\n        });\n      }\n      user.authenticate(password, function(authError, authenticated) {\n        if(authError) {\n          return done(authError);\n        }\n        if(!authenticated) {\n          return done(null, false, { message: 'This password is not correct.' });\n        } else {\n          return done(null, user);\n        }\n      });\n    })\n    .catch(err => done(err));\n}\n\nexport function setup(User/*, config*/) {\n  passport.use(new LocalStrategy({\n    usernameField: 'email',\n    passwordField: 'password' // this is the virtual field on the model\n  }, function(email, password, done) {\n    return localAuthenticate(User, email, password, done);\n  }));\n}\n"
      ]
    },
    "mtime": 1475441232371
  },
  "{\"filename\":\"/home/nitrous/server/auth/local/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/auth/local\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../auth.service",
            "imported": [
              "signToken"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "signToken",
                "local": "signToken"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/auth/local/index.js",
      "filenameRelative": "/home/nitrous/server/auth/local/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/auth/local",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/auth/local",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _auth = require('../auth.service');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = _express2.default.Router();\n\nrouter.post('/', function (req, res, next) {\n  _passport2.default.authenticate('local', function (err, user, info) {\n    var error = err || info;\n    if (error) {\n      return res.status(401).json(error);\n    }\n    if (!user) {\n      return res.status(404).json({ message: 'Something went wrong, please try again.' });\n    }\n\n    var token = (0, _auth.signToken)(user._id, user.role);\n    res.json({ token: token });\n  })(req, res, next);\n});\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aGVudGljYXRlIiwiZXJyIiwidXNlciIsImluZm8iLCJlcnJvciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidG9rZW4iLCJfaWQiLCJyb2xlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUEsSUFBSUEsU0FBUyxrQkFBUUMsTUFBUixFQUFiOztBQUVBRCxPQUFPRSxJQUFQLENBQVksR0FBWixFQUFpQixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ3hDLHFCQUFTQyxZQUFULENBQXNCLE9BQXRCLEVBQStCLFVBQVNDLEdBQVQsRUFBY0MsSUFBZCxFQUFvQkMsSUFBcEIsRUFBMEI7QUFDdkQsUUFBSUMsUUFBUUgsT0FBT0UsSUFBbkI7QUFDQSxRQUFHQyxLQUFILEVBQVU7QUFDUixhQUFPTixJQUFJTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJGLEtBQXJCLENBQVA7QUFDRDtBQUNELFFBQUcsQ0FBQ0YsSUFBSixFQUFVO0FBQ1IsYUFBT0osSUFBSU8sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUNDLFNBQVMseUNBQVYsRUFBckIsQ0FBUDtBQUNEOztBQUVELFFBQUlDLFFBQVEscUJBQVVOLEtBQUtPLEdBQWYsRUFBb0JQLEtBQUtRLElBQXpCLENBQVo7QUFDQVosUUFBSVEsSUFBSixDQUFTLEVBQUVFLFlBQUYsRUFBVDtBQUNELEdBWEQsRUFXR1gsR0FYSCxFQVdRQyxHQVhSLEVBV2FDLElBWGI7QUFZRCxDQWJEOztrQkFlZUwsTSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9uaXRyb3VzL3NlcnZlci9hdXRoL2xvY2FsIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQge3NpZ25Ub2tlbn0gZnJvbSAnLi4vYXV0aC5zZXJ2aWNlJztcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbCcsIGZ1bmN0aW9uKGVyciwgdXNlciwgaW5mbykge1xuICAgIHZhciBlcnJvciA9IGVyciB8fCBpbmZvO1xuICAgIGlmKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oZXJyb3IpO1xuICAgIH1cbiAgICBpZighdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4uJ30pO1xuICAgIH1cblxuICAgIHZhciB0b2tlbiA9IHNpZ25Ub2tlbih1c2VyLl9pZCwgdXNlci5yb2xlKTtcbiAgICByZXMuanNvbih7IHRva2VuIH0pO1xuICB9KShyZXEsIHJlcywgbmV4dCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "router",
        "Router",
        "post",
        "req",
        "res",
        "next",
        "authenticate",
        "err",
        "user",
        "info",
        "error",
        "status",
        "json",
        "message",
        "token",
        "_id",
        "role"
      ],
      "mappings": "AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA,IAAIA,SAAS,kBAAQC,MAAR,EAAb;;AAEAD,OAAOE,IAAP,CAAY,GAAZ,EAAiB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACxC,qBAASC,YAAT,CAAsB,OAAtB,EAA+B,UAASC,GAAT,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AACvD,QAAIC,QAAQH,OAAOE,IAAnB;AACA,QAAGC,KAAH,EAAU;AACR,aAAON,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAArB,CAAP;AACD;AACD,QAAG,CAACF,IAAJ,EAAU;AACR,aAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,yCAAV,EAArB,CAAP;AACD;;AAED,QAAIC,QAAQ,qBAAUN,KAAKO,GAAf,EAAoBP,KAAKQ,IAAzB,CAAZ;AACAZ,QAAIQ,IAAJ,CAAS,EAAEE,YAAF,EAAT;AACD,GAXD,EAWGX,GAXH,EAWQC,GAXR,EAWaC,IAXb;AAYD,CAbD;;kBAeeL,M",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/auth/local",
      "sourcesContent": [
        "'use strict';\n\nimport express from 'express';\nimport passport from 'passport';\nimport {signToken} from '../auth.service';\n\nvar router = express.Router();\n\nrouter.post('/', function(req, res, next) {\n  passport.authenticate('local', function(err, user, info) {\n    var error = err || info;\n    if(error) {\n      return res.status(401).json(error);\n    }\n    if(!user) {\n      return res.status(404).json({message: 'Something went wrong, please try again.'});\n    }\n\n    var token = signToken(user._id, user.role);\n    res.json({ token });\n  })(req, res, next);\n});\n\nexport default router;\n"
      ]
    },
    "mtime": 1475441232371
  },
  "{\"filename\":\"/home/nitrous/server/api/guess/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/guess\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/guess/index.js",
      "filenameRelative": "/home/nitrous/server/api/guess/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/api/guess",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/guess",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar express = require('express');\nvar controller = require('./guess.controller');\nvar auth = require(\"../../auth/auth.service\");\n\nvar router = express.Router();\n\n//router.get('/', controller.index);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', auth.isAuthenticated(), controller.create);\n//router.put('/:id', controller.upsert);\n//router.patch('/:id', controller.patch);\n//router.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY29udHJvbGxlciIsImF1dGgiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzaG93IiwicG9zdCIsImNyZWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsYUFBYUQsUUFBUSxvQkFBUixDQUFqQjtBQUNBLElBQUlFLE9BQU9GLFFBQVEseUJBQVIsQ0FBWDs7QUFFQSxJQUFJRyxTQUFTSixRQUFRSyxNQUFSLEVBQWI7O0FBRUE7QUFDQUQsT0FBT0UsR0FBUCxDQUFXLE1BQVgsRUFBbUJILEtBQUtJLGVBQUwsRUFBbkIsRUFBMkNMLFdBQVdNLElBQXREO0FBQ0FKLE9BQU9LLElBQVAsQ0FBWSxHQUFaLEVBQWlCTixLQUFLSSxlQUFMLEVBQWpCLEVBQXlDTCxXQUFXUSxNQUFwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQlIsTUFBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL2d1ZXNzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciBjb250cm9sbGVyID0gcmVxdWlyZSgnLi9ndWVzcy5jb250cm9sbGVyJyk7XG52YXIgYXV0aCA9IHJlcXVpcmUoXCIuLi8uLi9hdXRoL2F1dGguc2VydmljZVwiKTtcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vcm91dGVyLmdldCgnLycsIGNvbnRyb2xsZXIuaW5kZXgpO1xucm91dGVyLmdldCgnLzppZCcsIGF1dGguaXNBdXRoZW50aWNhdGVkKCksIGNvbnRyb2xsZXIuc2hvdyk7XG5yb3V0ZXIucG9zdCgnLycsIGF1dGguaXNBdXRoZW50aWNhdGVkKCksIGNvbnRyb2xsZXIuY3JlYXRlKTtcbi8vcm91dGVyLnB1dCgnLzppZCcsIGNvbnRyb2xsZXIudXBzZXJ0KTtcbi8vcm91dGVyLnBhdGNoKCcvOmlkJywgY29udHJvbGxlci5wYXRjaCk7XG4vL3JvdXRlci5kZWxldGUoJy86aWQnLCBjb250cm9sbGVyLmRlc3Ryb3kpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "controller",
        "auth",
        "router",
        "Router",
        "get",
        "isAuthenticated",
        "show",
        "post",
        "create",
        "module",
        "exports"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,oBAAR,CAAjB;AACA,IAAIE,OAAOF,QAAQ,yBAAR,CAAX;;AAEA,IAAIG,SAASJ,QAAQK,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,MAAX,EAAmBH,KAAKI,eAAL,EAAnB,EAA2CL,WAAWM,IAAtD;AACAJ,OAAOK,IAAP,CAAY,GAAZ,EAAiBN,KAAKI,eAAL,EAAjB,EAAyCL,WAAWQ,MAApD;AACA;AACA;AACA;;AAEAC,OAAOC,OAAP,GAAiBR,MAAjB",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/api/guess",
      "sourcesContent": [
        "'use strict';\n\nvar express = require('express');\nvar controller = require('./guess.controller');\nvar auth = require(\"../../auth/auth.service\");\n\nvar router = express.Router();\n\n//router.get('/', controller.index);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', auth.isAuthenticated(), controller.create);\n//router.put('/:id', controller.upsert);\n//router.patch('/:id', controller.patch);\n//router.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1475485972325
  },
  "{\"filename\":\"/home/nitrous/server/api/guess/guess.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/guess\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fast-json-patch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jsonpatch"
              }
            ]
          },
          {
            "source": "./guess.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Guess"
              }
            ]
          },
          {
            "source": "../game/game.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Game"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "index",
            "req",
            "res",
            "show",
            "req",
            "res",
            "create",
            "req",
            "res",
            "upsert",
            "req",
            "res",
            "patch",
            "req",
            "res",
            "destroy",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "index",
              "exported": "index"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "upsert",
              "exported": "upsert"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "patch",
              "exported": "patch"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "destroy",
              "exported": "destroy"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/guess/guess.controller.js",
      "filenameRelative": "/home/nitrous/server/api/guess/guess.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "guess.controller.js",
      "sourceFileName": "guess.controller.js",
      "sourceRoot": "/home/nitrous/server/api/guess",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/guess",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "guess.controller"
    },
    "ignored": false,
    "code": "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/guesss              ->  index\n * POST    /api/guesss              ->  create\n * GET     /api/guesss/:id          ->  show\n * PUT     /api/guesss/:id          ->  upsert\n * PATCH   /api/guesss/:id          ->  patch\n * DELETE  /api/guesss/:id          ->  destroy\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.index = index;\nexports.show = show;\nexports.create = create;\nexports.upsert = upsert;\nexports.patch = patch;\nexports.destroy = destroy;\n\nvar _fastJsonPatch = require('fast-json-patch');\n\nvar _fastJsonPatch2 = _interopRequireDefault(_fastJsonPatch);\n\nvar _guess = require('./guess.model');\n\nvar _guess2 = _interopRequireDefault(_guess);\n\nvar _game = require('../game/game.model');\n\nvar _game2 = _interopRequireDefault(_game);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function (entity) {\n    if (entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function (entity) {\n    try {\n      _fastJsonPatch2.default.apply(entity, patches, /*validate*/true);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function (entity) {\n    if (entity) {\n      return entity.remove().then(function () {\n        res.status(204).end();\n      });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function (entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Guesss\nfunction index(req, res) {\n  return _game2.default.findById(req.body.gameId, \"guesses\").exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Gets a single Guess from the DB\nfunction show(req, res) {\n  return _game2.default.findById(req.params.id, \"guesses\").exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Creates a new Guess in the DB\nfunction create(req, res) {\n  return _game2.default.findByIdAndUpdate(req.body.gameId, { $push: { \"guesses\": { userId: req.body.userId, guess: req.body.guess } } }, { safe: true, upsert: true, new: true }).then(respondWithResult(res, 201)).catch(handleError(res));\n}\n\n// Upserts the given Guess in the DB at the specified ID\nfunction upsert(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return _guess2.default.findOneAndUpdate({ _id: req.params.id }, req.body, { upsert: true, setDefaultsOnInsert: true, runValidators: true }).exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Updates an existing Guess in the DB\nfunction patch(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return _guess2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(patchUpdates(req.body)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Deletes a Guess from the DB\nfunction destroy(req, res) {\n  return _guess2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(removeEntity(res)).catch(handleError(res));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1ZXNzLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiaW5kZXgiLCJzaG93IiwiY3JlYXRlIiwidXBzZXJ0IiwicGF0Y2giLCJkZXN0cm95IiwicmVzcG9uZFdpdGhSZXN1bHQiLCJyZXMiLCJzdGF0dXNDb2RlIiwiZW50aXR5Iiwic3RhdHVzIiwianNvbiIsInBhdGNoVXBkYXRlcyIsInBhdGNoZXMiLCJhcHBseSIsImVyciIsIlByb21pc2UiLCJyZWplY3QiLCJzYXZlIiwicmVtb3ZlRW50aXR5IiwicmVtb3ZlIiwidGhlbiIsImVuZCIsImhhbmRsZUVudGl0eU5vdEZvdW5kIiwiaGFuZGxlRXJyb3IiLCJzZW5kIiwicmVxIiwiZmluZEJ5SWQiLCJib2R5IiwiZ2FtZUlkIiwiZXhlYyIsImNhdGNoIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRwdXNoIiwidXNlcklkIiwiZ3Vlc3MiLCJzYWZlIiwibmV3IiwiX2lkIiwiZmluZE9uZUFuZFVwZGF0ZSIsInNldERlZmF1bHRzT25JbnNlcnQiLCJydW5WYWxpZGF0b3JzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7OztBQVVBOzs7OztRQXlEZ0JBLEssR0FBQUEsSztRQU9BQyxJLEdBQUFBLEk7UUFPQUMsTSxHQUFBQSxNO1FBVUFDLE0sR0FBQUEsTTtRQVdBQyxLLEdBQUFBLEs7UUFZQUMsTyxHQUFBQSxPOztBQXRHaEI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxTQUFTQyxpQkFBVCxDQUEyQkMsR0FBM0IsRUFBZ0NDLFVBQWhDLEVBQTRDO0FBQzFDQSxlQUFhQSxjQUFjLEdBQTNCO0FBQ0EsU0FBTyxVQUFTQyxNQUFULEVBQWlCO0FBQ3RCLFFBQUdBLE1BQUgsRUFBVztBQUNULGFBQU9GLElBQUlHLE1BQUosQ0FBV0YsVUFBWCxFQUF1QkcsSUFBdkIsQ0FBNEJGLE1BQTVCLENBQVA7QUFDRDtBQUNELFdBQU8sSUFBUDtBQUNELEdBTEQ7QUFNRDs7QUFFRCxTQUFTRyxZQUFULENBQXNCQyxPQUF0QixFQUErQjtBQUM3QixTQUFPLFVBQVNKLE1BQVQsRUFBaUI7QUFDdEIsUUFBSTtBQUNGLDhCQUFVSyxLQUFWLENBQWdCTCxNQUFoQixFQUF3QkksT0FBeEIsRUFBaUMsWUFBYSxJQUE5QztBQUNELEtBRkQsQ0FFRSxPQUFNRSxHQUFOLEVBQVc7QUFDWCxhQUFPQyxRQUFRQyxNQUFSLENBQWVGLEdBQWYsQ0FBUDtBQUNEOztBQUVELFdBQU9OLE9BQU9TLElBQVAsRUFBUDtBQUNELEdBUkQ7QUFTRDs7QUFFRCxTQUFTQyxZQUFULENBQXNCWixHQUF0QixFQUEyQjtBQUN6QixTQUFPLFVBQVNFLE1BQVQsRUFBaUI7QUFDdEIsUUFBR0EsTUFBSCxFQUFXO0FBQ1QsYUFBT0EsT0FBT1csTUFBUCxHQUNKQyxJQURJLENBQ0MsWUFBTTtBQUNWZCxZQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQlksR0FBaEI7QUFDRCxPQUhJLENBQVA7QUFJRDtBQUNGLEdBUEQ7QUFRRDs7QUFFRCxTQUFTQyxvQkFBVCxDQUE4QmhCLEdBQTlCLEVBQW1DO0FBQ2pDLFNBQU8sVUFBU0UsTUFBVCxFQUFpQjtBQUN0QixRQUFHLENBQUNBLE1BQUosRUFBWTtBQUNWRixVQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQlksR0FBaEI7QUFDQSxhQUFPLElBQVA7QUFDRDtBQUNELFdBQU9iLE1BQVA7QUFDRCxHQU5EO0FBT0Q7O0FBRUQsU0FBU2UsV0FBVCxDQUFxQmpCLEdBQXJCLEVBQTBCQyxVQUExQixFQUFzQztBQUNwQ0EsZUFBYUEsY0FBYyxHQUEzQjtBQUNBLFNBQU8sVUFBU08sR0FBVCxFQUFjO0FBQ25CUixRQUFJRyxNQUFKLENBQVdGLFVBQVgsRUFBdUJpQixJQUF2QixDQUE0QlYsR0FBNUI7QUFDRCxHQUZEO0FBR0Q7O0FBRUQ7QUFDTyxTQUFTZixLQUFULENBQWUwQixHQUFmLEVBQW9CbkIsR0FBcEIsRUFBeUI7QUFDOUIsU0FBTyxlQUFLb0IsUUFBTCxDQUFjRCxJQUFJRSxJQUFKLENBQVNDLE1BQXZCLEVBQStCLFNBQS9CLEVBQTBDQyxJQUExQyxHQUNKVCxJQURJLENBQ0NmLGtCQUFrQkMsR0FBbEIsQ0FERCxFQUVKd0IsS0FGSSxDQUVFUCxZQUFZakIsR0FBWixDQUZGLENBQVA7QUFHRDs7QUFFRDtBQUNPLFNBQVNOLElBQVQsQ0FBY3lCLEdBQWQsRUFBbUJuQixHQUFuQixFQUF3QjtBQUM3QixTQUFPLGVBQUtvQixRQUFMLENBQWNELElBQUlNLE1BQUosQ0FBV0MsRUFBekIsRUFBNkIsU0FBN0IsRUFBd0NILElBQXhDLEdBQ0pULElBREksQ0FDQ2Ysa0JBQWtCQyxHQUFsQixDQURELEVBRUp3QixLQUZJLENBRUVQLFlBQVlqQixHQUFaLENBRkYsQ0FBUDtBQUdEOztBQUVEO0FBQ08sU0FBU0wsTUFBVCxDQUFnQndCLEdBQWhCLEVBQXFCbkIsR0FBckIsRUFBMEI7QUFDL0IsU0FBTyxlQUFLMkIsaUJBQUwsQ0FDTFIsSUFBSUUsSUFBSixDQUFTQyxNQURKLEVBRUwsRUFBQ00sT0FBTyxFQUFDLFdBQVcsRUFBQ0MsUUFBUVYsSUFBSUUsSUFBSixDQUFTUSxNQUFsQixFQUEwQkMsT0FBT1gsSUFBSUUsSUFBSixDQUFTUyxLQUExQyxFQUFaLEVBQVIsRUFGSyxFQUdMLEVBQUNDLE1BQU0sSUFBUCxFQUFhbkMsUUFBUSxJQUFyQixFQUEyQm9DLEtBQUssSUFBaEMsRUFISyxFQUlKbEIsSUFKSSxDQUlDZixrQkFBa0JDLEdBQWxCLEVBQXVCLEdBQXZCLENBSkQsRUFLSndCLEtBTEksQ0FLRVAsWUFBWWpCLEdBQVosQ0FMRixDQUFQO0FBTUQ7O0FBRUQ7QUFDTyxTQUFTSixNQUFULENBQWdCdUIsR0FBaEIsRUFBcUJuQixHQUFyQixFQUEwQjtBQUMvQixNQUFHbUIsSUFBSUUsSUFBSixDQUFTWSxHQUFaLEVBQWlCO0FBQ2YsV0FBT2QsSUFBSUUsSUFBSixDQUFTWSxHQUFoQjtBQUNEO0FBQ0QsU0FBTyxnQkFBTUMsZ0JBQU4sQ0FBdUIsRUFBQ0QsS0FBS2QsSUFBSU0sTUFBSixDQUFXQyxFQUFqQixFQUF2QixFQUE2Q1AsSUFBSUUsSUFBakQsRUFBdUQsRUFBQ3pCLFFBQVEsSUFBVCxFQUFldUMscUJBQXFCLElBQXBDLEVBQTBDQyxlQUFlLElBQXpELEVBQXZELEVBQXVIYixJQUF2SCxHQUVKVCxJQUZJLENBRUNmLGtCQUFrQkMsR0FBbEIsQ0FGRCxFQUdKd0IsS0FISSxDQUdFUCxZQUFZakIsR0FBWixDQUhGLENBQVA7QUFJRDs7QUFFRDtBQUNPLFNBQVNILEtBQVQsQ0FBZXNCLEdBQWYsRUFBb0JuQixHQUFwQixFQUF5QjtBQUM5QixNQUFHbUIsSUFBSUUsSUFBSixDQUFTWSxHQUFaLEVBQWlCO0FBQ2YsV0FBT2QsSUFBSUUsSUFBSixDQUFTWSxHQUFoQjtBQUNEO0FBQ0QsU0FBTyxnQkFBTWIsUUFBTixDQUFlRCxJQUFJTSxNQUFKLENBQVdDLEVBQTFCLEVBQThCSCxJQUE5QixHQUNKVCxJQURJLENBQ0NFLHFCQUFxQmhCLEdBQXJCLENBREQsRUFFSmMsSUFGSSxDQUVDVCxhQUFhYyxJQUFJRSxJQUFqQixDQUZELEVBR0pQLElBSEksQ0FHQ2Ysa0JBQWtCQyxHQUFsQixDQUhELEVBSUp3QixLQUpJLENBSUVQLFlBQVlqQixHQUFaLENBSkYsQ0FBUDtBQUtEOztBQUVEO0FBQ08sU0FBU0YsT0FBVCxDQUFpQnFCLEdBQWpCLEVBQXNCbkIsR0FBdEIsRUFBMkI7QUFDaEMsU0FBTyxnQkFBTW9CLFFBQU4sQ0FBZUQsSUFBSU0sTUFBSixDQUFXQyxFQUExQixFQUE4QkgsSUFBOUIsR0FDSlQsSUFESSxDQUNDRSxxQkFBcUJoQixHQUFyQixDQURELEVBRUpjLElBRkksQ0FFQ0YsYUFBYVosR0FBYixDQUZELEVBR0p3QixLQUhJLENBR0VQLFlBQVlqQixHQUFaLENBSEYsQ0FBUDtBQUlEIiwiZmlsZSI6Imd1ZXNzLmNvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL2d1ZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVc2luZyBSYWlscy1saWtlIHN0YW5kYXJkIG5hbWluZyBjb252ZW50aW9uIGZvciBlbmRwb2ludHMuXG4gKiBHRVQgICAgIC9hcGkvZ3Vlc3NzICAgICAgICAgICAgICAtPiAgaW5kZXhcbiAqIFBPU1QgICAgL2FwaS9ndWVzc3MgICAgICAgICAgICAgIC0+ICBjcmVhdGVcbiAqIEdFVCAgICAgL2FwaS9ndWVzc3MvOmlkICAgICAgICAgIC0+ICBzaG93XG4gKiBQVVQgICAgIC9hcGkvZ3Vlc3NzLzppZCAgICAgICAgICAtPiAgdXBzZXJ0XG4gKiBQQVRDSCAgIC9hcGkvZ3Vlc3NzLzppZCAgICAgICAgICAtPiAgcGF0Y2hcbiAqIERFTEVURSAgL2FwaS9ndWVzc3MvOmlkICAgICAgICAgIC0+ICBkZXN0cm95XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQganNvbnBhdGNoIGZyb20gJ2Zhc3QtanNvbi1wYXRjaCc7XG5pbXBvcnQgR3Vlc3MgZnJvbSAnLi9ndWVzcy5tb2RlbCc7XG5pbXBvcnQgR2FtZSBmcm9tICcuLi9nYW1lL2dhbWUubW9kZWwnO1xuXG5mdW5jdGlvbiByZXNwb25kV2l0aFJlc3VsdChyZXMsIHN0YXR1c0NvZGUpIHtcbiAgc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGUgfHwgMjAwO1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoZW50aXR5KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKGVudGl0eSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRjaFVwZGF0ZXMocGF0Y2hlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGpzb25wYXRjaC5hcHBseShlbnRpdHksIHBhdGNoZXMsIC8qdmFsaWRhdGUqLyB0cnVlKTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGl0eS5zYXZlKCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVudGl0eShyZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVudGl0eSkge1xuICAgIGlmKGVudGl0eSkge1xuICAgICAgcmV0dXJuIGVudGl0eS5yZW1vdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDQpLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVudGl0eU5vdEZvdW5kKHJlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoIWVudGl0eSkge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmVuZCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdHk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlcywgc3RhdHVzQ29kZSkge1xuICBzdGF0dXNDb2RlID0gc3RhdHVzQ29kZSB8fCA1MDA7XG4gIHJldHVybiBmdW5jdGlvbihlcnIpIHtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLnNlbmQoZXJyKTtcbiAgfTtcbn1cblxuLy8gR2V0cyBhIGxpc3Qgb2YgR3Vlc3NzXG5leHBvcnQgZnVuY3Rpb24gaW5kZXgocmVxLCByZXMpIHtcbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWQocmVxLmJvZHkuZ2FtZUlkLCBcImd1ZXNzZXNcIikuZXhlYygpXG4gICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIEdldHMgYSBzaW5nbGUgR3Vlc3MgZnJvbSB0aGUgREJcbmV4cG9ydCBmdW5jdGlvbiBzaG93KHJlcSwgcmVzKSB7XG4gIHJldHVybiBHYW1lLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQsIFwiZ3Vlc3Nlc1wiKS5leGVjKClcbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gQ3JlYXRlcyBhIG5ldyBHdWVzcyBpbiB0aGUgREJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMpIHtcbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgcmVxLmJvZHkuZ2FtZUlkLFxuICAgIHskcHVzaDoge1wiZ3Vlc3Nlc1wiOiB7dXNlcklkOiByZXEuYm9keS51c2VySWQsIGd1ZXNzOiByZXEuYm9keS5ndWVzc319fSxcbiAgICB7c2FmZTogdHJ1ZSwgdXBzZXJ0OiB0cnVlLCBuZXc6IHRydWV9KVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcywgMjAxKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIFVwc2VydHMgdGhlIGdpdmVuIEd1ZXNzIGluIHRoZSBEQiBhdCB0aGUgc3BlY2lmaWVkIElEXG5leHBvcnQgZnVuY3Rpb24gdXBzZXJ0KHJlcSwgcmVzKSB7XG4gIGlmKHJlcS5ib2R5Ll9pZCkge1xuICAgIGRlbGV0ZSByZXEuYm9keS5faWQ7XG4gIH1cbiAgcmV0dXJuIEd1ZXNzLmZpbmRPbmVBbmRVcGRhdGUoe19pZDogcmVxLnBhcmFtcy5pZH0sIHJlcS5ib2R5LCB7dXBzZXJ0OiB0cnVlLCBzZXREZWZhdWx0c09uSW5zZXJ0OiB0cnVlLCBydW5WYWxpZGF0b3JzOiB0cnVlfSkuZXhlYygpXG5cbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gVXBkYXRlcyBhbiBleGlzdGluZyBHdWVzcyBpbiB0aGUgREJcbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChyZXEsIHJlcykge1xuICBpZihyZXEuYm9keS5faWQpIHtcbiAgICBkZWxldGUgcmVxLmJvZHkuX2lkO1xuICB9XG4gIHJldHVybiBHdWVzcy5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKClcbiAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuICAgIC50aGVuKHBhdGNoVXBkYXRlcyhyZXEuYm9keSkpXG4gICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIERlbGV0ZXMgYSBHdWVzcyBmcm9tIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3kocmVxLCByZXMpIHtcbiAgcmV0dXJuIEd1ZXNzLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLmV4ZWMoKVxuICAgIC50aGVuKGhhbmRsZUVudGl0eU5vdEZvdW5kKHJlcykpXG4gICAgLnRoZW4ocmVtb3ZlRW50aXR5KHJlcykpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "guess.controller.js"
      ],
      "names": [
        "index",
        "show",
        "create",
        "upsert",
        "patch",
        "destroy",
        "respondWithResult",
        "res",
        "statusCode",
        "entity",
        "status",
        "json",
        "patchUpdates",
        "patches",
        "apply",
        "err",
        "Promise",
        "reject",
        "save",
        "removeEntity",
        "remove",
        "then",
        "end",
        "handleEntityNotFound",
        "handleError",
        "send",
        "req",
        "findById",
        "body",
        "gameId",
        "exec",
        "catch",
        "params",
        "id",
        "findByIdAndUpdate",
        "$push",
        "userId",
        "guess",
        "safe",
        "new",
        "_id",
        "findOneAndUpdate",
        "setDefaultsOnInsert",
        "runValidators"
      ],
      "mappings": "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",
      "file": "guess.controller.js",
      "sourceRoot": "/home/nitrous/server/api/guess",
      "sourcesContent": [
        "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/guesss              ->  index\n * POST    /api/guesss              ->  create\n * GET     /api/guesss/:id          ->  show\n * PUT     /api/guesss/:id          ->  upsert\n * PATCH   /api/guesss/:id          ->  patch\n * DELETE  /api/guesss/:id          ->  destroy\n */\n\n'use strict';\n\nimport jsonpatch from 'fast-json-patch';\nimport Guess from './guess.model';\nimport Game from '../game/game.model';\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if(entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function(entity) {\n    try {\n      jsonpatch.apply(entity, patches, /*validate*/ true);\n    } catch(err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function(entity) {\n    if(entity) {\n      return entity.remove()\n        .then(() => {\n          res.status(204).end();\n        });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if(!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Guesss\nexport function index(req, res) {\n  return Game.findById(req.body.gameId, \"guesses\").exec()\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Gets a single Guess from the DB\nexport function show(req, res) {\n  return Game.findById(req.params.id, \"guesses\").exec()\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Creates a new Guess in the DB\nexport function create(req, res) {\n  return Game.findByIdAndUpdate(\n    req.body.gameId,\n    {$push: {\"guesses\": {userId: req.body.userId, guess: req.body.guess}}},\n    {safe: true, upsert: true, new: true})\n    .then(respondWithResult(res, 201))\n    .catch(handleError(res));\n}\n\n// Upserts the given Guess in the DB at the specified ID\nexport function upsert(req, res) {\n  if(req.body._id) {\n    delete req.body._id;\n  }\n  return Guess.findOneAndUpdate({_id: req.params.id}, req.body, {upsert: true, setDefaultsOnInsert: true, runValidators: true}).exec()\n\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Updates an existing Guess in the DB\nexport function patch(req, res) {\n  if(req.body._id) {\n    delete req.body._id;\n  }\n  return Guess.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(patchUpdates(req.body))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Deletes a Guess from the DB\nexport function destroy(req, res) {\n  return Guess.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(removeEntity(res))\n    .catch(handleError(res));\n}\n"
      ]
    },
    "mtime": 1475485373065
  },
  "{\"filename\":\"/home/nitrous/server/api/guess/guess.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/guess\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/guess/guess.model.js",
      "filenameRelative": "/home/nitrous/server/api/guess/guess.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "guess.model.js",
      "sourceFileName": "guess.model.js",
      "sourceRoot": "/home/nitrous/server/api/guess",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/guess",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "guess.model"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GuessSchema = new _mongoose2.default.Schema({\n  userId: String,\n  guess: String,\n  gameId: String\n});\n\nexports.default = _mongoose2.default.model('Guess', GuessSchema);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1ZXNzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIkd1ZXNzU2NoZW1hIiwiU2NoZW1hIiwidXNlcklkIiwiU3RyaW5nIiwiZ3Vlc3MiLCJnYW1lSWQiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQUVBOzs7Ozs7QUFFQSxJQUFJQSxjQUFjLElBQUksbUJBQVNDLE1BQWIsQ0FBb0I7QUFDcENDLFVBQVFDLE1BRDRCO0FBRXBDQyxTQUFPRCxNQUY2QjtBQUdwQ0UsVUFBUUY7QUFINEIsQ0FBcEIsQ0FBbEI7O2tCQU1lLG1CQUFTRyxLQUFULENBQWUsT0FBZixFQUF3Qk4sV0FBeEIsQyIsImZpbGUiOiJndWVzcy5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9uaXRyb3VzL3NlcnZlci9hcGkvZ3Vlc3MiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbnZhciBHdWVzc1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICB1c2VySWQ6IFN0cmluZyxcbiAgZ3Vlc3M6IFN0cmluZyxcbiAgZ2FtZUlkOiBTdHJpbmdcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbCgnR3Vlc3MnLCBHdWVzc1NjaGVtYSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "guess.model.js"
      ],
      "names": [
        "GuessSchema",
        "Schema",
        "userId",
        "String",
        "guess",
        "gameId",
        "model"
      ],
      "mappings": "AAAA;;;;;;AAEA;;;;;;AAEA,IAAIA,cAAc,IAAI,mBAASC,MAAb,CAAoB;AACpCC,UAAQC,MAD4B;AAEpCC,SAAOD,MAF6B;AAGpCE,UAAQF;AAH4B,CAApB,CAAlB;;kBAMe,mBAASG,KAAT,CAAe,OAAf,EAAwBN,WAAxB,C",
      "file": "guess.model.js",
      "sourceRoot": "/home/nitrous/server/api/guess",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\n\nvar GuessSchema = new mongoose.Schema({\n  userId: String,\n  guess: String,\n  gameId: String\n});\n\nexport default mongoose.model('Guess', GuessSchema);\n"
      ]
    },
    "mtime": 1475485051336
  },
  "{\"filename\":\"/home/nitrous/server/api/game/game.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/game\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/game/game.model.js",
      "filenameRelative": "/home/nitrous/server/api/game/game.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "game.model.js",
      "sourceFileName": "game.model.js",
      "sourceRoot": "/home/nitrous/server/api/game",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/game",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "game.model"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GameSchema = new _mongoose2.default.Schema({\n  name: String,\n  drawnObject: String,\n  comments: [{\n    userId: String,\n    comment: String,\n    createdAt: { type: Date, default: Date.now() }\n  }],\n  guesses: [{\n    userId: String,\n    createdAt: { type: Date, default: Date.now() },\n    guess: String\n  }],\n  points: [{\n    x: Number,\n    y: Number,\n    color: Number,\n    order: Number\n  }]\n});\n\nexports.default = _mongoose2.default.model('Game', GameSchema);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWUubW9kZWwuanMiXSwibmFtZXMiOlsiR2FtZVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJkcmF3bk9iamVjdCIsImNvbW1lbnRzIiwidXNlcklkIiwiY29tbWVudCIsImNyZWF0ZWRBdCIsInR5cGUiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsImd1ZXNzZXMiLCJndWVzcyIsInBvaW50cyIsIngiLCJOdW1iZXIiLCJ5IiwiY29sb3IiLCJvcmRlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBRUE7Ozs7OztBQUVBLElBQUlBLGFBQWEsSUFBSSxtQkFBU0MsTUFBYixDQUFvQjtBQUNuQ0MsUUFBTUMsTUFENkI7QUFFbkNDLGVBQWFELE1BRnNCO0FBR25DRSxZQUFVLENBQUM7QUFDVEMsWUFBUUgsTUFEQztBQUVUSSxhQUFTSixNQUZBO0FBR1RLLGVBQVcsRUFBQ0MsTUFBTUMsSUFBUCxFQUFhQyxTQUFTRCxLQUFLRSxHQUFMLEVBQXRCO0FBSEYsR0FBRCxDQUh5QjtBQVFuQ0MsV0FBUyxDQUFDO0FBQ1JQLFlBQVFILE1BREE7QUFFUkssZUFBVyxFQUFDQyxNQUFNQyxJQUFQLEVBQWFDLFNBQVNELEtBQUtFLEdBQUwsRUFBdEIsRUFGSDtBQUdSRSxXQUFPWDtBQUhDLEdBQUQsQ0FSMEI7QUFhbkNZLFVBQVEsQ0FBQztBQUNQQyxPQUFHQyxNQURJO0FBRVBDLE9BQUdELE1BRkk7QUFHUEUsV0FBT0YsTUFIQTtBQUlQRyxXQUFPSDtBQUpBLEdBQUQ7QUFiMkIsQ0FBcEIsQ0FBakI7O2tCQXFCZSxtQkFBU0ksS0FBVCxDQUFlLE1BQWYsRUFBdUJyQixVQUF2QixDIiwiZmlsZSI6ImdhbWUubW9kZWwuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL2dhbWUiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbnZhciBHYW1lU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IFN0cmluZyxcbiAgZHJhd25PYmplY3Q6IFN0cmluZyxcbiAgY29tbWVudHM6IFt7XG4gICAgdXNlcklkOiBTdHJpbmcsXG4gICAgY29tbWVudDogU3RyaW5nLFxuICAgIGNyZWF0ZWRBdDoge3R5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93KCl9XG4gIH1dLFxuICBndWVzc2VzOiBbe1xuICAgIHVzZXJJZDogU3RyaW5nLFxuICAgIGNyZWF0ZWRBdDoge3R5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93KCl9LFxuICAgIGd1ZXNzOiBTdHJpbmcsXG4gIH1dLFxuICBwb2ludHM6IFt7XG4gICAgeDogTnVtYmVyLFxuICAgIHk6IE51bWJlcixcbiAgICBjb2xvcjogTnVtYmVyLFxuICAgIG9yZGVyOiBOdW1iZXJcbiAgfV1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbCgnR2FtZScsIEdhbWVTY2hlbWEpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "game.model.js"
      ],
      "names": [
        "GameSchema",
        "Schema",
        "name",
        "String",
        "drawnObject",
        "comments",
        "userId",
        "comment",
        "createdAt",
        "type",
        "Date",
        "default",
        "now",
        "guesses",
        "guess",
        "points",
        "x",
        "Number",
        "y",
        "color",
        "order",
        "model"
      ],
      "mappings": "AAAA;;;;;;AAEA;;;;;;AAEA,IAAIA,aAAa,IAAI,mBAASC,MAAb,CAAoB;AACnCC,QAAMC,MAD6B;AAEnCC,eAAaD,MAFsB;AAGnCE,YAAU,CAAC;AACTC,YAAQH,MADC;AAETI,aAASJ,MAFA;AAGTK,eAAW,EAACC,MAAMC,IAAP,EAAaC,SAASD,KAAKE,GAAL,EAAtB;AAHF,GAAD,CAHyB;AAQnCC,WAAS,CAAC;AACRP,YAAQH,MADA;AAERK,eAAW,EAACC,MAAMC,IAAP,EAAaC,SAASD,KAAKE,GAAL,EAAtB,EAFH;AAGRE,WAAOX;AAHC,GAAD,CAR0B;AAanCY,UAAQ,CAAC;AACPC,OAAGC,MADI;AAEPC,OAAGD,MAFI;AAGPE,WAAOF,MAHA;AAIPG,WAAOH;AAJA,GAAD;AAb2B,CAApB,CAAjB;;kBAqBe,mBAASI,KAAT,CAAe,MAAf,EAAuBrB,UAAvB,C",
      "file": "game.model.js",
      "sourceRoot": "/home/nitrous/server/api/game",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\n\nvar GameSchema = new mongoose.Schema({\n  name: String,\n  drawnObject: String,\n  comments: [{\n    userId: String,\n    comment: String,\n    createdAt: {type: Date, default: Date.now()}\n  }],\n  guesses: [{\n    userId: String,\n    createdAt: {type: Date, default: Date.now()},\n    guess: String,\n  }],\n  points: [{\n    x: Number,\n    y: Number,\n    color: Number,\n    order: Number\n  }]\n});\n\nexport default mongoose.model('Game', GameSchema);\n"
      ]
    },
    "mtime": 1475492010965
  },
  "{\"filename\":\"/home/nitrous/server/api/point/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/point\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/point/index.js",
      "filenameRelative": "/home/nitrous/server/api/point/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/api/point",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/point",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar express = require('express');\nvar controller = require('./point.controller');\nvar auth = require(\"../../auth/auth.service\");\n\nvar router = express.Router();\n\n//router.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', auth.isAuthenticated(), controller.create);\n//router.put('/:id', auth.isAuthenticated(), controller.upsert);\n//router.patch('/:id', controller.patch);\n//router.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY29udHJvbGxlciIsImF1dGgiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJzaG93IiwicG9zdCIsImlzQXV0aGVudGljYXRlZCIsImNyZWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsYUFBYUQsUUFBUSxvQkFBUixDQUFqQjtBQUNBLElBQUlFLE9BQU9GLFFBQVEseUJBQVIsQ0FBWDs7QUFFQSxJQUFJRyxTQUFTSixRQUFRSyxNQUFSLEVBQWI7O0FBRUE7QUFDQUQsT0FBT0UsR0FBUCxDQUFXLE1BQVgsRUFBbUJKLFdBQVdLLElBQTlCO0FBQ0FILE9BQU9JLElBQVAsQ0FBWSxHQUFaLEVBQWlCTCxLQUFLTSxlQUFMLEVBQWpCLEVBQXlDUCxXQUFXUSxNQUFwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQlIsTUFBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL3BvaW50Iiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciBjb250cm9sbGVyID0gcmVxdWlyZSgnLi9wb2ludC5jb250cm9sbGVyJyk7XG52YXIgYXV0aCA9IHJlcXVpcmUoXCIuLi8uLi9hdXRoL2F1dGguc2VydmljZVwiKTtcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vcm91dGVyLmdldCgnLycsIGNvbnRyb2xsZXIuaW5kZXgpO1xucm91dGVyLmdldCgnLzppZCcsIGNvbnRyb2xsZXIuc2hvdyk7XG5yb3V0ZXIucG9zdCgnLycsIGF1dGguaXNBdXRoZW50aWNhdGVkKCksIGNvbnRyb2xsZXIuY3JlYXRlKTtcbi8vcm91dGVyLnB1dCgnLzppZCcsIGF1dGguaXNBdXRoZW50aWNhdGVkKCksIGNvbnRyb2xsZXIudXBzZXJ0KTtcbi8vcm91dGVyLnBhdGNoKCcvOmlkJywgY29udHJvbGxlci5wYXRjaCk7XG4vL3JvdXRlci5kZWxldGUoJy86aWQnLCBjb250cm9sbGVyLmRlc3Ryb3kpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "controller",
        "auth",
        "router",
        "Router",
        "get",
        "show",
        "post",
        "isAuthenticated",
        "create",
        "module",
        "exports"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,oBAAR,CAAjB;AACA,IAAIE,OAAOF,QAAQ,yBAAR,CAAX;;AAEA,IAAIG,SAASJ,QAAQK,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,MAAX,EAAmBJ,WAAWK,IAA9B;AACAH,OAAOI,IAAP,CAAY,GAAZ,EAAiBL,KAAKM,eAAL,EAAjB,EAAyCP,WAAWQ,MAApD;AACA;AACA;AACA;;AAEAC,OAAOC,OAAP,GAAiBR,MAAjB",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/api/point",
      "sourcesContent": [
        "'use strict';\n\nvar express = require('express');\nvar controller = require('./point.controller');\nvar auth = require(\"../../auth/auth.service\");\n\nvar router = express.Router();\n\n//router.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', auth.isAuthenticated(), controller.create);\n//router.put('/:id', auth.isAuthenticated(), controller.upsert);\n//router.patch('/:id', controller.patch);\n//router.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1475491457345
  },
  "{\"filename\":\"/home/nitrous/server/api/point/point.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/point\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fast-json-patch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jsonpatch"
              }
            ]
          },
          {
            "source": "../game/game.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Game"
              }
            ]
          },
          {
            "source": "./point.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Point"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "show",
            "req",
            "res",
            "create",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/point/point.controller.js",
      "filenameRelative": "/home/nitrous/server/api/point/point.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "point.controller.js",
      "sourceFileName": "point.controller.js",
      "sourceRoot": "/home/nitrous/server/api/point",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/point",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "point.controller"
    },
    "ignored": false,
    "code": "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/points              ->  index\n * POST    /api/points              ->  create\n * GET     /api/points/:id          ->  show\n * PUT     /api/points/:id          ->  upsert\n * PATCH   /api/points/:id          ->  patch\n * DELETE  /api/points/:id          ->  destroy\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.show = show;\nexports.create = create;\n\nvar _fastJsonPatch = require('fast-json-patch');\n\nvar _fastJsonPatch2 = _interopRequireDefault(_fastJsonPatch);\n\nvar _game = require('../game/game.model');\n\nvar _game2 = _interopRequireDefault(_game);\n\nvar _point = require('./point.model');\n\nvar _point2 = _interopRequireDefault(_point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function (entity) {\n    if (entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function (entity) {\n    try {\n      _fastJsonPatch2.default.apply(entity, patches, /*validate*/true);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function (entity) {\n    if (entity) {\n      return entity.remove().then(function () {\n        res.status(204).end();\n      });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function (entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Points\n// export function index(req, res) {\n//   return Point.find().exec()\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// Gets a single Point from the DB\nfunction show(req, res) {\n  return _game2.default.findById(req.params.id, \"points\").exec().then(handleEntityNotFound(res)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Creates a new Point in the DB\nfunction create(req, res) {\n  return _game2.default.findByIdAndUpdate(req.body.gameId, { $push: { \"points\": { x: req.body.x, y: req.body.y, color: req.body.color, order: req.body.order } } }, { safe: true, upsert: true, new: true }).then(respondWithResult(res, 201)).catch(handleError(res));\n}\n\n// // Upserts the given Point in the DB at the specified ID\n// export function upsert(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Point.findOneAndUpdate({_id: req.params.id}, req.body, {upsert: true, setDefaultsOnInsert: true, runValidators: true}).exec()\n\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Updates an existing Point in the DB\n// export function patch(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Point.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(patchUpdates(req.body))\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Deletes a Point from the DB\n// export function destroy(req, res) {\n//   return Point.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(removeEntity(res))\n//     .catch(handleError(res));\n// }\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvaW50LmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsic2hvdyIsImNyZWF0ZSIsInJlc3BvbmRXaXRoUmVzdWx0IiwicmVzIiwic3RhdHVzQ29kZSIsImVudGl0eSIsInN0YXR1cyIsImpzb24iLCJwYXRjaFVwZGF0ZXMiLCJwYXRjaGVzIiwiYXBwbHkiLCJlcnIiLCJQcm9taXNlIiwicmVqZWN0Iiwic2F2ZSIsInJlbW92ZUVudGl0eSIsInJlbW92ZSIsInRoZW4iLCJlbmQiLCJoYW5kbGVFbnRpdHlOb3RGb3VuZCIsImhhbmRsZUVycm9yIiwic2VuZCIsInJlcSIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJleGVjIiwiY2F0Y2giLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImJvZHkiLCJnYW1lSWQiLCIkcHVzaCIsIngiLCJ5IiwiY29sb3IiLCJvcmRlciIsInNhZmUiLCJ1cHNlcnQiLCJuZXciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0FBVUE7Ozs7O1FBZ0VnQkEsSSxHQUFBQSxJO1FBUUFDLE0sR0FBQUEsTTs7QUF0RWhCOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0MsaUJBQVQsQ0FBMkJDLEdBQTNCLEVBQWdDQyxVQUFoQyxFQUE0QztBQUMxQ0EsZUFBYUEsY0FBYyxHQUEzQjtBQUNBLFNBQU8sVUFBU0MsTUFBVCxFQUFpQjtBQUN0QixRQUFHQSxNQUFILEVBQVc7QUFDVCxhQUFPRixJQUFJRyxNQUFKLENBQVdGLFVBQVgsRUFBdUJHLElBQXZCLENBQTRCRixNQUE1QixDQUFQO0FBQ0Q7QUFDRCxXQUFPLElBQVA7QUFDRCxHQUxEO0FBTUQ7O0FBRUQsU0FBU0csWUFBVCxDQUFzQkMsT0FBdEIsRUFBK0I7QUFDN0IsU0FBTyxVQUFTSixNQUFULEVBQWlCO0FBQ3RCLFFBQUk7QUFDRiw4QkFBVUssS0FBVixDQUFnQkwsTUFBaEIsRUFBd0JJLE9BQXhCLEVBQWlDLFlBQWEsSUFBOUM7QUFDRCxLQUZELENBRUUsT0FBTUUsR0FBTixFQUFXO0FBQ1gsYUFBT0MsUUFBUUMsTUFBUixDQUFlRixHQUFmLENBQVA7QUFDRDs7QUFFRCxXQUFPTixPQUFPUyxJQUFQLEVBQVA7QUFDRCxHQVJEO0FBU0Q7O0FBRUQsU0FBU0MsWUFBVCxDQUFzQlosR0FBdEIsRUFBMkI7QUFDekIsU0FBTyxVQUFTRSxNQUFULEVBQWlCO0FBQ3RCLFFBQUdBLE1BQUgsRUFBVztBQUNULGFBQU9BLE9BQU9XLE1BQVAsR0FDSkMsSUFESSxDQUNDLFlBQU07QUFDVmQsWUFBSUcsTUFBSixDQUFXLEdBQVgsRUFBZ0JZLEdBQWhCO0FBQ0QsT0FISSxDQUFQO0FBSUQ7QUFDRixHQVBEO0FBUUQ7O0FBRUQsU0FBU0Msb0JBQVQsQ0FBOEJoQixHQUE5QixFQUFtQztBQUNqQyxTQUFPLFVBQVNFLE1BQVQsRUFBaUI7QUFDdEIsUUFBRyxDQUFDQSxNQUFKLEVBQVk7QUFDVkYsVUFBSUcsTUFBSixDQUFXLEdBQVgsRUFBZ0JZLEdBQWhCO0FBQ0EsYUFBTyxJQUFQO0FBQ0Q7QUFDRCxXQUFPYixNQUFQO0FBQ0QsR0FORDtBQU9EOztBQUVELFNBQVNlLFdBQVQsQ0FBcUJqQixHQUFyQixFQUEwQkMsVUFBMUIsRUFBc0M7QUFDcENBLGVBQWFBLGNBQWMsR0FBM0I7QUFDQSxTQUFPLFVBQVNPLEdBQVQsRUFBYztBQUNuQlIsUUFBSUcsTUFBSixDQUFXRixVQUFYLEVBQXVCaUIsSUFBdkIsQ0FBNEJWLEdBQTVCO0FBQ0QsR0FGRDtBQUdEOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNPLFNBQVNYLElBQVQsQ0FBY3NCLEdBQWQsRUFBbUJuQixHQUFuQixFQUF3QjtBQUM3QixTQUFPLGVBQUtvQixRQUFMLENBQWNELElBQUlFLE1BQUosQ0FBV0MsRUFBekIsRUFBNkIsUUFBN0IsRUFBdUNDLElBQXZDLEdBQ0pULElBREksQ0FDQ0UscUJBQXFCaEIsR0FBckIsQ0FERCxFQUVKYyxJQUZJLENBRUNmLGtCQUFrQkMsR0FBbEIsQ0FGRCxFQUdKd0IsS0FISSxDQUdFUCxZQUFZakIsR0FBWixDQUhGLENBQVA7QUFJRDs7QUFFRDtBQUNPLFNBQVNGLE1BQVQsQ0FBZ0JxQixHQUFoQixFQUFxQm5CLEdBQXJCLEVBQTBCO0FBQy9CLFNBQU8sZUFBS3lCLGlCQUFMLENBQ0xOLElBQUlPLElBQUosQ0FBU0MsTUFESixFQUVMLEVBQUNDLE9BQU8sRUFBQyxVQUFVLEVBQUNDLEdBQUdWLElBQUlPLElBQUosQ0FBU0csQ0FBYixFQUFnQkMsR0FBR1gsSUFBSU8sSUFBSixDQUFTSSxDQUE1QixFQUErQkMsT0FBT1osSUFBSU8sSUFBSixDQUFTSyxLQUEvQyxFQUFzREMsT0FBT2IsSUFBSU8sSUFBSixDQUFTTSxLQUF0RSxFQUFYLEVBQVIsRUFGSyxFQUdMLEVBQUNDLE1BQU0sSUFBUCxFQUFhQyxRQUFRLElBQXJCLEVBQTJCQyxLQUFLLElBQWhDLEVBSEssRUFJSnJCLElBSkksQ0FJQ2Ysa0JBQWtCQyxHQUFsQixFQUF1QixHQUF2QixDQUpELEVBS0p3QixLQUxJLENBS0VQLFlBQVlqQixHQUFaLENBTEYsQ0FBUDtBQU1EOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJwb2ludC5jb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2FwaS9wb2ludCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNpbmcgUmFpbHMtbGlrZSBzdGFuZGFyZCBuYW1pbmcgY29udmVudGlvbiBmb3IgZW5kcG9pbnRzLlxuICogR0VUICAgICAvYXBpL3BvaW50cyAgICAgICAgICAgICAgLT4gIGluZGV4XG4gKiBQT1NUICAgIC9hcGkvcG9pbnRzICAgICAgICAgICAgICAtPiAgY3JlYXRlXG4gKiBHRVQgICAgIC9hcGkvcG9pbnRzLzppZCAgICAgICAgICAtPiAgc2hvd1xuICogUFVUICAgICAvYXBpL3BvaW50cy86aWQgICAgICAgICAgLT4gIHVwc2VydFxuICogUEFUQ0ggICAvYXBpL3BvaW50cy86aWQgICAgICAgICAgLT4gIHBhdGNoXG4gKiBERUxFVEUgIC9hcGkvcG9pbnRzLzppZCAgICAgICAgICAtPiAgZGVzdHJveVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGpzb25wYXRjaCBmcm9tICdmYXN0LWpzb24tcGF0Y2gnO1xuaW1wb3J0IEdhbWUgZnJvbSBcIi4uL2dhbWUvZ2FtZS5tb2RlbFwiO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQubW9kZWwnO1xuXG5mdW5jdGlvbiByZXNwb25kV2l0aFJlc3VsdChyZXMsIHN0YXR1c0NvZGUpIHtcbiAgc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGUgfHwgMjAwO1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoZW50aXR5KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKGVudGl0eSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRjaFVwZGF0ZXMocGF0Y2hlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGpzb25wYXRjaC5hcHBseShlbnRpdHksIHBhdGNoZXMsIC8qdmFsaWRhdGUqLyB0cnVlKTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGl0eS5zYXZlKCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVudGl0eShyZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVudGl0eSkge1xuICAgIGlmKGVudGl0eSkge1xuICAgICAgcmV0dXJuIGVudGl0eS5yZW1vdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDQpLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVudGl0eU5vdEZvdW5kKHJlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoIWVudGl0eSkge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmVuZCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdHk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlcywgc3RhdHVzQ29kZSkge1xuICBzdGF0dXNDb2RlID0gc3RhdHVzQ29kZSB8fCA1MDA7XG4gIHJldHVybiBmdW5jdGlvbihlcnIpIHtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLnNlbmQoZXJyKTtcbiAgfTtcbn1cblxuLy8gR2V0cyBhIGxpc3Qgb2YgUG9pbnRzXG4vLyBleHBvcnQgZnVuY3Rpb24gaW5kZXgocmVxLCByZXMpIHtcbi8vICAgcmV0dXJuIFBvaW50LmZpbmQoKS5leGVjKClcbi8vICAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuLy8gICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbi8vIH1cblxuLy8gR2V0cyBhIHNpbmdsZSBQb2ludCBmcm9tIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIHNob3cocmVxLCByZXMpIHtcbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCwgXCJwb2ludHNcIikuZXhlYygpXG4gICAgLnRoZW4oaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSlcbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gQ3JlYXRlcyBhIG5ldyBQb2ludCBpbiB0aGUgREJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMpIHtcbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgcmVxLmJvZHkuZ2FtZUlkLFxuICAgIHskcHVzaDoge1wicG9pbnRzXCI6IHt4OiByZXEuYm9keS54LCB5OiByZXEuYm9keS55LCBjb2xvcjogcmVxLmJvZHkuY29sb3IsIG9yZGVyOiByZXEuYm9keS5vcmRlcn19fSxcbiAgICB7c2FmZTogdHJ1ZSwgdXBzZXJ0OiB0cnVlLCBuZXc6IHRydWV9KVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcywgMjAxKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIC8vIFVwc2VydHMgdGhlIGdpdmVuIFBvaW50IGluIHRoZSBEQiBhdCB0aGUgc3BlY2lmaWVkIElEXG4vLyBleHBvcnQgZnVuY3Rpb24gdXBzZXJ0KHJlcSwgcmVzKSB7XG4vLyAgIGlmKHJlcS5ib2R5Ll9pZCkge1xuLy8gICAgIGRlbGV0ZSByZXEuYm9keS5faWQ7XG4vLyAgIH1cbi8vICAgcmV0dXJuIFBvaW50LmZpbmRPbmVBbmRVcGRhdGUoe19pZDogcmVxLnBhcmFtcy5pZH0sIHJlcS5ib2R5LCB7dXBzZXJ0OiB0cnVlLCBzZXREZWZhdWx0c09uSW5zZXJ0OiB0cnVlLCBydW5WYWxpZGF0b3JzOiB0cnVlfSkuZXhlYygpXG5cbi8vICAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuLy8gICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbi8vIH1cblxuLy8gLy8gVXBkYXRlcyBhbiBleGlzdGluZyBQb2ludCBpbiB0aGUgREJcbi8vIGV4cG9ydCBmdW5jdGlvbiBwYXRjaChyZXEsIHJlcykge1xuLy8gICBpZihyZXEuYm9keS5faWQpIHtcbi8vICAgICBkZWxldGUgcmVxLmJvZHkuX2lkO1xuLy8gICB9XG4vLyAgIHJldHVybiBQb2ludC5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKClcbi8vICAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuLy8gICAgIC50aGVuKHBhdGNoVXBkYXRlcyhyZXEuYm9keSkpXG4vLyAgICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbi8vICAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG4vLyB9XG5cbi8vIC8vIERlbGV0ZXMgYSBQb2ludCBmcm9tIHRoZSBEQlxuLy8gZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3kocmVxLCByZXMpIHtcbi8vICAgcmV0dXJuIFBvaW50LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLmV4ZWMoKVxuLy8gICAgIC50aGVuKGhhbmRsZUVudGl0eU5vdEZvdW5kKHJlcykpXG4vLyAgICAgLnRoZW4ocmVtb3ZlRW50aXR5KHJlcykpXG4vLyAgICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xuLy8gfVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "point.controller.js"
      ],
      "names": [
        "show",
        "create",
        "respondWithResult",
        "res",
        "statusCode",
        "entity",
        "status",
        "json",
        "patchUpdates",
        "patches",
        "apply",
        "err",
        "Promise",
        "reject",
        "save",
        "removeEntity",
        "remove",
        "then",
        "end",
        "handleEntityNotFound",
        "handleError",
        "send",
        "req",
        "findById",
        "params",
        "id",
        "exec",
        "catch",
        "findByIdAndUpdate",
        "body",
        "gameId",
        "$push",
        "x",
        "y",
        "color",
        "order",
        "safe",
        "upsert",
        "new"
      ],
      "mappings": "AAAA;;;;;;;;;;AAUA;;;;;QAgEgBA,I,GAAAA,I;QAQAC,M,GAAAA,M;;AAtEhB;;;;AACA;;;;AACA;;;;;;AAEA,SAASC,iBAAT,CAA2BC,GAA3B,EAAgCC,UAAhC,EAA4C;AAC1CA,eAAaA,cAAc,GAA3B;AACA,SAAO,UAASC,MAAT,EAAiB;AACtB,QAAGA,MAAH,EAAW;AACT,aAAOF,IAAIG,MAAJ,CAAWF,UAAX,EAAuBG,IAAvB,CAA4BF,MAA5B,CAAP;AACD;AACD,WAAO,IAAP;AACD,GALD;AAMD;;AAED,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;AAC7B,SAAO,UAASJ,MAAT,EAAiB;AACtB,QAAI;AACF,8BAAUK,KAAV,CAAgBL,MAAhB,EAAwBI,OAAxB,EAAiC,YAAa,IAA9C;AACD,KAFD,CAEE,OAAME,GAAN,EAAW;AACX,aAAOC,QAAQC,MAAR,CAAeF,GAAf,CAAP;AACD;;AAED,WAAON,OAAOS,IAAP,EAAP;AACD,GARD;AASD;;AAED,SAASC,YAAT,CAAsBZ,GAAtB,EAA2B;AACzB,SAAO,UAASE,MAAT,EAAiB;AACtB,QAAGA,MAAH,EAAW;AACT,aAAOA,OAAOW,MAAP,GACJC,IADI,CACC,YAAM;AACVd,YAAIG,MAAJ,CAAW,GAAX,EAAgBY,GAAhB;AACD,OAHI,CAAP;AAID;AACF,GAPD;AAQD;;AAED,SAASC,oBAAT,CAA8BhB,GAA9B,EAAmC;AACjC,SAAO,UAASE,MAAT,EAAiB;AACtB,QAAG,CAACA,MAAJ,EAAY;AACVF,UAAIG,MAAJ,CAAW,GAAX,EAAgBY,GAAhB;AACA,aAAO,IAAP;AACD;AACD,WAAOb,MAAP;AACD,GAND;AAOD;;AAED,SAASe,WAAT,CAAqBjB,GAArB,EAA0BC,UAA1B,EAAsC;AACpCA,eAAaA,cAAc,GAA3B;AACA,SAAO,UAASO,GAAT,EAAc;AACnBR,QAAIG,MAAJ,CAAWF,UAAX,EAAuBiB,IAAvB,CAA4BV,GAA5B;AACD,GAFD;AAGD;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACO,SAASX,IAAT,CAAcsB,GAAd,EAAmBnB,GAAnB,EAAwB;AAC7B,SAAO,eAAKoB,QAAL,CAAcD,IAAIE,MAAJ,CAAWC,EAAzB,EAA6B,QAA7B,EAAuCC,IAAvC,GACJT,IADI,CACCE,qBAAqBhB,GAArB,CADD,EAEJc,IAFI,CAECf,kBAAkBC,GAAlB,CAFD,EAGJwB,KAHI,CAGEP,YAAYjB,GAAZ,CAHF,CAAP;AAID;;AAED;AACO,SAASF,MAAT,CAAgBqB,GAAhB,EAAqBnB,GAArB,EAA0B;AAC/B,SAAO,eAAKyB,iBAAL,CACLN,IAAIO,IAAJ,CAASC,MADJ,EAEL,EAACC,OAAO,EAAC,UAAU,EAACC,GAAGV,IAAIO,IAAJ,CAASG,CAAb,EAAgBC,GAAGX,IAAIO,IAAJ,CAASI,CAA5B,EAA+BC,OAAOZ,IAAIO,IAAJ,CAASK,KAA/C,EAAsDC,OAAOb,IAAIO,IAAJ,CAASM,KAAtE,EAAX,EAAR,EAFK,EAGL,EAACC,MAAM,IAAP,EAAaC,QAAQ,IAArB,EAA2BC,KAAK,IAAhC,EAHK,EAIJrB,IAJI,CAICf,kBAAkBC,GAAlB,EAAuB,GAAvB,CAJD,EAKJwB,KALI,CAKEP,YAAYjB,GAAZ,CALF,CAAP;AAMD;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA",
      "file": "point.controller.js",
      "sourceRoot": "/home/nitrous/server/api/point",
      "sourcesContent": [
        "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/points              ->  index\n * POST    /api/points              ->  create\n * GET     /api/points/:id          ->  show\n * PUT     /api/points/:id          ->  upsert\n * PATCH   /api/points/:id          ->  patch\n * DELETE  /api/points/:id          ->  destroy\n */\n\n'use strict';\n\nimport jsonpatch from 'fast-json-patch';\nimport Game from \"../game/game.model\";\nimport Point from './point.model';\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if(entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function(entity) {\n    try {\n      jsonpatch.apply(entity, patches, /*validate*/ true);\n    } catch(err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function(entity) {\n    if(entity) {\n      return entity.remove()\n        .then(() => {\n          res.status(204).end();\n        });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if(!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Points\n// export function index(req, res) {\n//   return Point.find().exec()\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// Gets a single Point from the DB\nexport function show(req, res) {\n  return Game.findById(req.params.id, \"points\").exec()\n    .then(handleEntityNotFound(res))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Creates a new Point in the DB\nexport function create(req, res) {\n  return Game.findByIdAndUpdate(\n    req.body.gameId,\n    {$push: {\"points\": {x: req.body.x, y: req.body.y, color: req.body.color, order: req.body.order}}},\n    {safe: true, upsert: true, new: true})\n    .then(respondWithResult(res, 201))\n    .catch(handleError(res));\n}\n\n// // Upserts the given Point in the DB at the specified ID\n// export function upsert(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Point.findOneAndUpdate({_id: req.params.id}, req.body, {upsert: true, setDefaultsOnInsert: true, runValidators: true}).exec()\n\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Updates an existing Point in the DB\n// export function patch(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Point.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(patchUpdates(req.body))\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Deletes a Point from the DB\n// export function destroy(req, res) {\n//   return Point.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(removeEntity(res))\n//     .catch(handleError(res));\n// }\n"
      ]
    },
    "mtime": 1475491927400
  },
  "{\"filename\":\"/home/nitrous/server/api/point/point.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/point\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/point/point.model.js",
      "filenameRelative": "/home/nitrous/server/api/point/point.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "point.model.js",
      "sourceFileName": "point.model.js",
      "sourceRoot": "/home/nitrous/server/api/point",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/point",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "point.model"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PointSchema = new _mongoose2.default.Schema({\n  name: String,\n  info: String,\n  active: Boolean\n});\n\nexports.default = _mongoose2.default.model('Point', PointSchema);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvaW50Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIlBvaW50U2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsImluZm8iLCJhY3RpdmUiLCJCb29sZWFuIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7Ozs7O0FBRUEsSUFBSUEsY0FBYyxJQUFJLG1CQUFTQyxNQUFiLENBQW9CO0FBQ3BDQyxRQUFNQyxNQUQ4QjtBQUVwQ0MsUUFBTUQsTUFGOEI7QUFHcENFLFVBQVFDO0FBSDRCLENBQXBCLENBQWxCOztrQkFNZSxtQkFBU0MsS0FBVCxDQUFlLE9BQWYsRUFBd0JQLFdBQXhCLEMiLCJmaWxlIjoicG9pbnQubW9kZWwuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL3BvaW50Iiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG52YXIgUG9pbnRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogU3RyaW5nLFxuICBpbmZvOiBTdHJpbmcsXG4gIGFjdGl2ZTogQm9vbGVhblxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCdQb2ludCcsIFBvaW50U2NoZW1hKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "point.model.js"
      ],
      "names": [
        "PointSchema",
        "Schema",
        "name",
        "String",
        "info",
        "active",
        "Boolean",
        "model"
      ],
      "mappings": "AAAA;;;;;;AAEA;;;;;;AAEA,IAAIA,cAAc,IAAI,mBAASC,MAAb,CAAoB;AACpCC,QAAMC,MAD8B;AAEpCC,QAAMD,MAF8B;AAGpCE,UAAQC;AAH4B,CAApB,CAAlB;;kBAMe,mBAASC,KAAT,CAAe,OAAf,EAAwBP,WAAxB,C",
      "file": "point.model.js",
      "sourceRoot": "/home/nitrous/server/api/point",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\n\nvar PointSchema = new mongoose.Schema({\n  name: String,\n  info: String,\n  active: Boolean\n});\n\nexport default mongoose.model('Point', PointSchema);\n"
      ]
    },
    "mtime": 1475483264278
  },
  "{\"filename\":\"/home/nitrous/server/api/comment/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/comment\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/comment/index.js",
      "filenameRelative": "/home/nitrous/server/api/comment/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/api/comment",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/comment",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar express = require('express');\nvar controller = require('./comment.controller');\nvar auth = require(\"../../auth/auth.service\");\n\nvar router = express.Router();\n\n//router.get('/', controller.index);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', auth.isAuthenticated(), controller.create);\n//router.put('/:id', controller.upsert);\n//router.patch('/:id', controller.patch);\n//router.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY29udHJvbGxlciIsImF1dGgiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzaG93IiwicG9zdCIsImNyZWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsYUFBYUQsUUFBUSxzQkFBUixDQUFqQjtBQUNBLElBQUlFLE9BQU9GLFFBQVEseUJBQVIsQ0FBWDs7QUFFQSxJQUFJRyxTQUFTSixRQUFRSyxNQUFSLEVBQWI7O0FBRUE7QUFDQUQsT0FBT0UsR0FBUCxDQUFXLE1BQVgsRUFBbUJILEtBQUtJLGVBQUwsRUFBbkIsRUFBMkNMLFdBQVdNLElBQXREO0FBQ0FKLE9BQU9LLElBQVAsQ0FBWSxHQUFaLEVBQWlCTixLQUFLSSxlQUFMLEVBQWpCLEVBQXlDTCxXQUFXUSxNQUFwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQlIsTUFBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL2NvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIGNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbW1lbnQuY29udHJvbGxlcicpO1xudmFyIGF1dGggPSByZXF1aXJlKFwiLi4vLi4vYXV0aC9hdXRoLnNlcnZpY2VcIik7XG5cbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vL3JvdXRlci5nZXQoJy8nLCBjb250cm9sbGVyLmluZGV4KTtcbnJvdXRlci5nZXQoJy86aWQnLCBhdXRoLmlzQXV0aGVudGljYXRlZCgpLCBjb250cm9sbGVyLnNob3cpO1xucm91dGVyLnBvc3QoJy8nLCBhdXRoLmlzQXV0aGVudGljYXRlZCgpLCBjb250cm9sbGVyLmNyZWF0ZSk7XG4vL3JvdXRlci5wdXQoJy86aWQnLCBjb250cm9sbGVyLnVwc2VydCk7XG4vL3JvdXRlci5wYXRjaCgnLzppZCcsIGNvbnRyb2xsZXIucGF0Y2gpO1xuLy9yb3V0ZXIuZGVsZXRlKCcvOmlkJywgY29udHJvbGxlci5kZXN0cm95KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "controller",
        "auth",
        "router",
        "Router",
        "get",
        "isAuthenticated",
        "show",
        "post",
        "create",
        "module",
        "exports"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,sBAAR,CAAjB;AACA,IAAIE,OAAOF,QAAQ,yBAAR,CAAX;;AAEA,IAAIG,SAASJ,QAAQK,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,MAAX,EAAmBH,KAAKI,eAAL,EAAnB,EAA2CL,WAAWM,IAAtD;AACAJ,OAAOK,IAAP,CAAY,GAAZ,EAAiBN,KAAKI,eAAL,EAAjB,EAAyCL,WAAWQ,MAApD;AACA;AACA;AACA;;AAEAC,OAAOC,OAAP,GAAiBR,MAAjB",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/api/comment",
      "sourcesContent": [
        "'use strict';\n\nvar express = require('express');\nvar controller = require('./comment.controller');\nvar auth = require(\"../../auth/auth.service\");\n\nvar router = express.Router();\n\n//router.get('/', controller.index);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', auth.isAuthenticated(), controller.create);\n//router.put('/:id', controller.upsert);\n//router.patch('/:id', controller.patch);\n//router.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1475485916449
  },
  "{\"filename\":\"/home/nitrous/server/api/comment/comment.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/comment\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fast-json-patch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jsonpatch"
              }
            ]
          },
          {
            "source": "./comment.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Comment"
              }
            ]
          },
          {
            "source": "../game/game.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Game"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "show",
            "req",
            "res",
            "create",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/comment/comment.controller.js",
      "filenameRelative": "/home/nitrous/server/api/comment/comment.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "comment.controller.js",
      "sourceFileName": "comment.controller.js",
      "sourceRoot": "/home/nitrous/server/api/comment",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/comment",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "comment.controller"
    },
    "ignored": false,
    "code": "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/comments              ->  index\n * POST    /api/comments              ->  create\n * GET     /api/comments/:id          ->  show\n * PUT     /api/comments/:id          ->  upsert\n * PATCH   /api/comments/:id          ->  patch\n * DELETE  /api/comments/:id          ->  destroy\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.show = show;\nexports.create = create;\n\nvar _fastJsonPatch = require('fast-json-patch');\n\nvar _fastJsonPatch2 = _interopRequireDefault(_fastJsonPatch);\n\nvar _comment = require('./comment.model');\n\nvar _comment2 = _interopRequireDefault(_comment);\n\nvar _game = require('../game/game.model');\n\nvar _game2 = _interopRequireDefault(_game);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function (entity) {\n    if (entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function (entity) {\n    try {\n      _fastJsonPatch2.default.apply(entity, patches, /*validate*/true);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function (entity) {\n    if (entity) {\n      return entity.remove().then(function () {\n        res.status(204).end();\n      });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function (entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Comments\n// export function index(req, res) {\n//   return Game.findById(req.body.id).exec()\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// Gets a single Comment from the DB\nfunction show(req, res) {\n  return _game2.default.findById(req.params.id, \"comments\").exec().then(handleEntityNotFound(res)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Creates a new Comment in the DB\nfunction create(req, res) {\n  return _game2.default.findByIdAndUpdate(req.body.gameId, { $push: { \"comments\": { userId: req.body.userId, comment: req.body.guess } } }, { safe: true, upsert: true, new: true }).then(respondWithResult(res, 201)).catch(handleError(res));\n}\n\n// Upserts the given Comment in the DB at the specified ID\n// export function upsert(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Comment.findOneAndUpdate({_id: req.params.id}, req.body, {upsert: true, setDefaultsOnInsert: true, runValidators: true}).exec()\n\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Updates an existing Comment in the DB\n// export function patch(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Comment.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(patchUpdates(req.body))\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Deletes a Comment from the DB\n// export function destroy(req, res) {\n//   return Comment.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(removeEntity(res))\n//     .catch(handleError(res));\n// }\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJzaG93IiwiY3JlYXRlIiwicmVzcG9uZFdpdGhSZXN1bHQiLCJyZXMiLCJzdGF0dXNDb2RlIiwiZW50aXR5Iiwic3RhdHVzIiwianNvbiIsInBhdGNoVXBkYXRlcyIsInBhdGNoZXMiLCJhcHBseSIsImVyciIsIlByb21pc2UiLCJyZWplY3QiLCJzYXZlIiwicmVtb3ZlRW50aXR5IiwicmVtb3ZlIiwidGhlbiIsImVuZCIsImhhbmRsZUVudGl0eU5vdEZvdW5kIiwiaGFuZGxlRXJyb3IiLCJzZW5kIiwicmVxIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsImV4ZWMiLCJjYXRjaCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiYm9keSIsImdhbWVJZCIsIiRwdXNoIiwidXNlcklkIiwiY29tbWVudCIsImd1ZXNzIiwic2FmZSIsInVwc2VydCIsIm5ldyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7QUFVQTs7Ozs7UUFnRWdCQSxJLEdBQUFBLEk7UUFRQUMsTSxHQUFBQSxNOztBQXRFaEI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxTQUFTQyxpQkFBVCxDQUEyQkMsR0FBM0IsRUFBZ0NDLFVBQWhDLEVBQTRDO0FBQzFDQSxlQUFhQSxjQUFjLEdBQTNCO0FBQ0EsU0FBTyxVQUFTQyxNQUFULEVBQWlCO0FBQ3RCLFFBQUdBLE1BQUgsRUFBVztBQUNULGFBQU9GLElBQUlHLE1BQUosQ0FBV0YsVUFBWCxFQUF1QkcsSUFBdkIsQ0FBNEJGLE1BQTVCLENBQVA7QUFDRDtBQUNELFdBQU8sSUFBUDtBQUNELEdBTEQ7QUFNRDs7QUFFRCxTQUFTRyxZQUFULENBQXNCQyxPQUF0QixFQUErQjtBQUM3QixTQUFPLFVBQVNKLE1BQVQsRUFBaUI7QUFDdEIsUUFBSTtBQUNGLDhCQUFVSyxLQUFWLENBQWdCTCxNQUFoQixFQUF3QkksT0FBeEIsRUFBaUMsWUFBYSxJQUE5QztBQUNELEtBRkQsQ0FFRSxPQUFNRSxHQUFOLEVBQVc7QUFDWCxhQUFPQyxRQUFRQyxNQUFSLENBQWVGLEdBQWYsQ0FBUDtBQUNEOztBQUVELFdBQU9OLE9BQU9TLElBQVAsRUFBUDtBQUNELEdBUkQ7QUFTRDs7QUFFRCxTQUFTQyxZQUFULENBQXNCWixHQUF0QixFQUEyQjtBQUN6QixTQUFPLFVBQVNFLE1BQVQsRUFBaUI7QUFDdEIsUUFBR0EsTUFBSCxFQUFXO0FBQ1QsYUFBT0EsT0FBT1csTUFBUCxHQUNKQyxJQURJLENBQ0MsWUFBTTtBQUNWZCxZQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQlksR0FBaEI7QUFDRCxPQUhJLENBQVA7QUFJRDtBQUNGLEdBUEQ7QUFRRDs7QUFFRCxTQUFTQyxvQkFBVCxDQUE4QmhCLEdBQTlCLEVBQW1DO0FBQ2pDLFNBQU8sVUFBU0UsTUFBVCxFQUFpQjtBQUN0QixRQUFHLENBQUNBLE1BQUosRUFBWTtBQUNWRixVQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQlksR0FBaEI7QUFDQSxhQUFPLElBQVA7QUFDRDtBQUNELFdBQU9iLE1BQVA7QUFDRCxHQU5EO0FBT0Q7O0FBRUQsU0FBU2UsV0FBVCxDQUFxQmpCLEdBQXJCLEVBQTBCQyxVQUExQixFQUFzQztBQUNwQ0EsZUFBYUEsY0FBYyxHQUEzQjtBQUNBLFNBQU8sVUFBU08sR0FBVCxFQUFjO0FBQ25CUixRQUFJRyxNQUFKLENBQVdGLFVBQVgsRUFBdUJpQixJQUF2QixDQUE0QlYsR0FBNUI7QUFDRCxHQUZEO0FBR0Q7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ08sU0FBU1gsSUFBVCxDQUFjc0IsR0FBZCxFQUFtQm5CLEdBQW5CLEVBQXdCO0FBQzdCLFNBQU8sZUFBS29CLFFBQUwsQ0FBY0QsSUFBSUUsTUFBSixDQUFXQyxFQUF6QixFQUE2QixVQUE3QixFQUF5Q0MsSUFBekMsR0FDSlQsSUFESSxDQUNDRSxxQkFBcUJoQixHQUFyQixDQURELEVBRUpjLElBRkksQ0FFQ2Ysa0JBQWtCQyxHQUFsQixDQUZELEVBR0p3QixLQUhJLENBR0VQLFlBQVlqQixHQUFaLENBSEYsQ0FBUDtBQUlEOztBQUVEO0FBQ08sU0FBU0YsTUFBVCxDQUFnQnFCLEdBQWhCLEVBQXFCbkIsR0FBckIsRUFBMEI7QUFDL0IsU0FBTyxlQUFLeUIsaUJBQUwsQ0FDTE4sSUFBSU8sSUFBSixDQUFTQyxNQURKLEVBRUwsRUFBQ0MsT0FBTyxFQUFDLFlBQVksRUFBQ0MsUUFBUVYsSUFBSU8sSUFBSixDQUFTRyxNQUFsQixFQUEwQkMsU0FBU1gsSUFBSU8sSUFBSixDQUFTSyxLQUE1QyxFQUFiLEVBQVIsRUFGSyxFQUdMLEVBQUNDLE1BQU0sSUFBUCxFQUFhQyxRQUFRLElBQXJCLEVBQTJCQyxLQUFLLElBQWhDLEVBSEssRUFJSnBCLElBSkksQ0FJQ2Ysa0JBQWtCQyxHQUFsQixFQUF1QixHQUF2QixDQUpELEVBS0p3QixLQUxJLENBS0VQLFlBQVlqQixHQUFaLENBTEYsQ0FBUDtBQU1EOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJjb21tZW50LmNvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL2NvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFVzaW5nIFJhaWxzLWxpa2Ugc3RhbmRhcmQgbmFtaW5nIGNvbnZlbnRpb24gZm9yIGVuZHBvaW50cy5cbiAqIEdFVCAgICAgL2FwaS9jb21tZW50cyAgICAgICAgICAgICAgLT4gIGluZGV4XG4gKiBQT1NUICAgIC9hcGkvY29tbWVudHMgICAgICAgICAgICAgIC0+ICBjcmVhdGVcbiAqIEdFVCAgICAgL2FwaS9jb21tZW50cy86aWQgICAgICAgICAgLT4gIHNob3dcbiAqIFBVVCAgICAgL2FwaS9jb21tZW50cy86aWQgICAgICAgICAgLT4gIHVwc2VydFxuICogUEFUQ0ggICAvYXBpL2NvbW1lbnRzLzppZCAgICAgICAgICAtPiAgcGF0Y2hcbiAqIERFTEVURSAgL2FwaS9jb21tZW50cy86aWQgICAgICAgICAgLT4gIGRlc3Ryb3lcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBqc29ucGF0Y2ggZnJvbSAnZmFzdC1qc29uLXBhdGNoJztcbmltcG9ydCBDb21tZW50IGZyb20gJy4vY29tbWVudC5tb2RlbCc7XG5pbXBvcnQgR2FtZSBmcm9tICcuLi9nYW1lL2dhbWUubW9kZWwnO1xuXG5mdW5jdGlvbiByZXNwb25kV2l0aFJlc3VsdChyZXMsIHN0YXR1c0NvZGUpIHtcbiAgc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGUgfHwgMjAwO1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoZW50aXR5KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKGVudGl0eSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRjaFVwZGF0ZXMocGF0Y2hlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGpzb25wYXRjaC5hcHBseShlbnRpdHksIHBhdGNoZXMsIC8qdmFsaWRhdGUqLyB0cnVlKTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGl0eS5zYXZlKCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVudGl0eShyZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVudGl0eSkge1xuICAgIGlmKGVudGl0eSkge1xuICAgICAgcmV0dXJuIGVudGl0eS5yZW1vdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDQpLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVudGl0eU5vdEZvdW5kKHJlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoIWVudGl0eSkge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmVuZCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdHk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlcywgc3RhdHVzQ29kZSkge1xuICBzdGF0dXNDb2RlID0gc3RhdHVzQ29kZSB8fCA1MDA7XG4gIHJldHVybiBmdW5jdGlvbihlcnIpIHtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLnNlbmQoZXJyKTtcbiAgfTtcbn1cblxuLy8gR2V0cyBhIGxpc3Qgb2YgQ29tbWVudHNcbi8vIGV4cG9ydCBmdW5jdGlvbiBpbmRleChyZXEsIHJlcykge1xuLy8gICByZXR1cm4gR2FtZS5maW5kQnlJZChyZXEuYm9keS5pZCkuZXhlYygpXG4vLyAgICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbi8vICAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG4vLyB9XG5cbi8vIEdldHMgYSBzaW5nbGUgQ29tbWVudCBmcm9tIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIHNob3cocmVxLCByZXMpIHtcbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCwgXCJjb21tZW50c1wiKS5leGVjKClcbiAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcykpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vLyBDcmVhdGVzIGEgbmV3IENvbW1lbnQgaW4gdGhlIERCXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzKSB7XG4gIHJldHVybiBHYW1lLmZpbmRCeUlkQW5kVXBkYXRlKFxuICAgIHJlcS5ib2R5LmdhbWVJZCxcbiAgICB7JHB1c2g6IHtcImNvbW1lbnRzXCI6IHt1c2VySWQ6IHJlcS5ib2R5LnVzZXJJZCwgY29tbWVudDogcmVxLmJvZHkuZ3Vlc3N9fX0sXG4gICAge3NhZmU6IHRydWUsIHVwc2VydDogdHJ1ZSwgbmV3OiB0cnVlfSlcbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMsIDIwMSkpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vLyBVcHNlcnRzIHRoZSBnaXZlbiBDb21tZW50IGluIHRoZSBEQiBhdCB0aGUgc3BlY2lmaWVkIElEXG4vLyBleHBvcnQgZnVuY3Rpb24gdXBzZXJ0KHJlcSwgcmVzKSB7XG4vLyAgIGlmKHJlcS5ib2R5Ll9pZCkge1xuLy8gICAgIGRlbGV0ZSByZXEuYm9keS5faWQ7XG4vLyAgIH1cbi8vICAgcmV0dXJuIENvbW1lbnQuZmluZE9uZUFuZFVwZGF0ZSh7X2lkOiByZXEucGFyYW1zLmlkfSwgcmVxLmJvZHksIHt1cHNlcnQ6IHRydWUsIHNldERlZmF1bHRzT25JbnNlcnQ6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWV9KS5leGVjKClcblxuLy8gICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcykpXG4vLyAgICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xuLy8gfVxuXG4vLyAvLyBVcGRhdGVzIGFuIGV4aXN0aW5nIENvbW1lbnQgaW4gdGhlIERCXG4vLyBleHBvcnQgZnVuY3Rpb24gcGF0Y2gocmVxLCByZXMpIHtcbi8vICAgaWYocmVxLmJvZHkuX2lkKSB7XG4vLyAgICAgZGVsZXRlIHJlcS5ib2R5Ll9pZDtcbi8vICAgfVxuLy8gICByZXR1cm4gQ29tbWVudC5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKClcbi8vICAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuLy8gICAgIC50aGVuKHBhdGNoVXBkYXRlcyhyZXEuYm9keSkpXG4vLyAgICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbi8vICAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG4vLyB9XG5cbi8vIC8vIERlbGV0ZXMgYSBDb21tZW50IGZyb20gdGhlIERCXG4vLyBleHBvcnQgZnVuY3Rpb24gZGVzdHJveShyZXEsIHJlcykge1xuLy8gICByZXR1cm4gQ29tbWVudC5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKClcbi8vICAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuLy8gICAgIC50aGVuKHJlbW92ZUVudGl0eShyZXMpKVxuLy8gICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbi8vIH1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "comment.controller.js"
      ],
      "names": [
        "show",
        "create",
        "respondWithResult",
        "res",
        "statusCode",
        "entity",
        "status",
        "json",
        "patchUpdates",
        "patches",
        "apply",
        "err",
        "Promise",
        "reject",
        "save",
        "removeEntity",
        "remove",
        "then",
        "end",
        "handleEntityNotFound",
        "handleError",
        "send",
        "req",
        "findById",
        "params",
        "id",
        "exec",
        "catch",
        "findByIdAndUpdate",
        "body",
        "gameId",
        "$push",
        "userId",
        "comment",
        "guess",
        "safe",
        "upsert",
        "new"
      ],
      "mappings": "AAAA;;;;;;;;;;AAUA;;;;;QAgEgBA,I,GAAAA,I;QAQAC,M,GAAAA,M;;AAtEhB;;;;AACA;;;;AACA;;;;;;AAEA,SAASC,iBAAT,CAA2BC,GAA3B,EAAgCC,UAAhC,EAA4C;AAC1CA,eAAaA,cAAc,GAA3B;AACA,SAAO,UAASC,MAAT,EAAiB;AACtB,QAAGA,MAAH,EAAW;AACT,aAAOF,IAAIG,MAAJ,CAAWF,UAAX,EAAuBG,IAAvB,CAA4BF,MAA5B,CAAP;AACD;AACD,WAAO,IAAP;AACD,GALD;AAMD;;AAED,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;AAC7B,SAAO,UAASJ,MAAT,EAAiB;AACtB,QAAI;AACF,8BAAUK,KAAV,CAAgBL,MAAhB,EAAwBI,OAAxB,EAAiC,YAAa,IAA9C;AACD,KAFD,CAEE,OAAME,GAAN,EAAW;AACX,aAAOC,QAAQC,MAAR,CAAeF,GAAf,CAAP;AACD;;AAED,WAAON,OAAOS,IAAP,EAAP;AACD,GARD;AASD;;AAED,SAASC,YAAT,CAAsBZ,GAAtB,EAA2B;AACzB,SAAO,UAASE,MAAT,EAAiB;AACtB,QAAGA,MAAH,EAAW;AACT,aAAOA,OAAOW,MAAP,GACJC,IADI,CACC,YAAM;AACVd,YAAIG,MAAJ,CAAW,GAAX,EAAgBY,GAAhB;AACD,OAHI,CAAP;AAID;AACF,GAPD;AAQD;;AAED,SAASC,oBAAT,CAA8BhB,GAA9B,EAAmC;AACjC,SAAO,UAASE,MAAT,EAAiB;AACtB,QAAG,CAACA,MAAJ,EAAY;AACVF,UAAIG,MAAJ,CAAW,GAAX,EAAgBY,GAAhB;AACA,aAAO,IAAP;AACD;AACD,WAAOb,MAAP;AACD,GAND;AAOD;;AAED,SAASe,WAAT,CAAqBjB,GAArB,EAA0BC,UAA1B,EAAsC;AACpCA,eAAaA,cAAc,GAA3B;AACA,SAAO,UAASO,GAAT,EAAc;AACnBR,QAAIG,MAAJ,CAAWF,UAAX,EAAuBiB,IAAvB,CAA4BV,GAA5B;AACD,GAFD;AAGD;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACO,SAASX,IAAT,CAAcsB,GAAd,EAAmBnB,GAAnB,EAAwB;AAC7B,SAAO,eAAKoB,QAAL,CAAcD,IAAIE,MAAJ,CAAWC,EAAzB,EAA6B,UAA7B,EAAyCC,IAAzC,GACJT,IADI,CACCE,qBAAqBhB,GAArB,CADD,EAEJc,IAFI,CAECf,kBAAkBC,GAAlB,CAFD,EAGJwB,KAHI,CAGEP,YAAYjB,GAAZ,CAHF,CAAP;AAID;;AAED;AACO,SAASF,MAAT,CAAgBqB,GAAhB,EAAqBnB,GAArB,EAA0B;AAC/B,SAAO,eAAKyB,iBAAL,CACLN,IAAIO,IAAJ,CAASC,MADJ,EAEL,EAACC,OAAO,EAAC,YAAY,EAACC,QAAQV,IAAIO,IAAJ,CAASG,MAAlB,EAA0BC,SAASX,IAAIO,IAAJ,CAASK,KAA5C,EAAb,EAAR,EAFK,EAGL,EAACC,MAAM,IAAP,EAAaC,QAAQ,IAArB,EAA2BC,KAAK,IAAhC,EAHK,EAIJpB,IAJI,CAICf,kBAAkBC,GAAlB,EAAuB,GAAvB,CAJD,EAKJwB,KALI,CAKEP,YAAYjB,GAAZ,CALF,CAAP;AAMD;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA",
      "file": "comment.controller.js",
      "sourceRoot": "/home/nitrous/server/api/comment",
      "sourcesContent": [
        "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/comments              ->  index\n * POST    /api/comments              ->  create\n * GET     /api/comments/:id          ->  show\n * PUT     /api/comments/:id          ->  upsert\n * PATCH   /api/comments/:id          ->  patch\n * DELETE  /api/comments/:id          ->  destroy\n */\n\n'use strict';\n\nimport jsonpatch from 'fast-json-patch';\nimport Comment from './comment.model';\nimport Game from '../game/game.model';\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if(entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function(entity) {\n    try {\n      jsonpatch.apply(entity, patches, /*validate*/ true);\n    } catch(err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function(entity) {\n    if(entity) {\n      return entity.remove()\n        .then(() => {\n          res.status(204).end();\n        });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if(!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Comments\n// export function index(req, res) {\n//   return Game.findById(req.body.id).exec()\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// Gets a single Comment from the DB\nexport function show(req, res) {\n  return Game.findById(req.params.id, \"comments\").exec()\n    .then(handleEntityNotFound(res))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Creates a new Comment in the DB\nexport function create(req, res) {\n  return Game.findByIdAndUpdate(\n    req.body.gameId,\n    {$push: {\"comments\": {userId: req.body.userId, comment: req.body.guess}}},\n    {safe: true, upsert: true, new: true})\n    .then(respondWithResult(res, 201))\n    .catch(handleError(res));\n}\n\n// Upserts the given Comment in the DB at the specified ID\n// export function upsert(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Comment.findOneAndUpdate({_id: req.params.id}, req.body, {upsert: true, setDefaultsOnInsert: true, runValidators: true}).exec()\n\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Updates an existing Comment in the DB\n// export function patch(req, res) {\n//   if(req.body._id) {\n//     delete req.body._id;\n//   }\n//   return Comment.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(patchUpdates(req.body))\n//     .then(respondWithResult(res))\n//     .catch(handleError(res));\n// }\n\n// // Deletes a Comment from the DB\n// export function destroy(req, res) {\n//   return Comment.findById(req.params.id).exec()\n//     .then(handleEntityNotFound(res))\n//     .then(removeEntity(res))\n//     .catch(handleError(res));\n// }\n"
      ]
    },
    "mtime": 1475485565733
  },
  "{\"filename\":\"/home/nitrous/server/api/comment/comment.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/comment\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/comment/comment.model.js",
      "filenameRelative": "/home/nitrous/server/api/comment/comment.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "comment.model.js",
      "sourceFileName": "comment.model.js",
      "sourceRoot": "/home/nitrous/server/api/comment",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/comment",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "comment.model"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CommentSchema = new _mongoose2.default.Schema({\n  userId: String,\n  comment: String\n});\n\nexports.default = _mongoose2.default.model('Comment', CommentSchema);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQubW9kZWwuanMiXSwibmFtZXMiOlsiQ29tbWVudFNjaGVtYSIsIlNjaGVtYSIsInVzZXJJZCIsIlN0cmluZyIsImNvbW1lbnQiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQUVBOzs7Ozs7QUFFQSxJQUFJQSxnQkFBZ0IsSUFBSSxtQkFBU0MsTUFBYixDQUFvQjtBQUN0Q0MsVUFBUUMsTUFEOEI7QUFFdENDLFdBQVNEO0FBRjZCLENBQXBCLENBQXBCOztrQkFLZSxtQkFBU0UsS0FBVCxDQUFlLFNBQWYsRUFBMEJMLGFBQTFCLEMiLCJmaWxlIjoiY29tbWVudC5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9uaXRyb3VzL3NlcnZlci9hcGkvY29tbWVudCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxudmFyIENvbW1lbnRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdXNlcklkOiBTdHJpbmcsXG4gIGNvbW1lbnQ6IFN0cmluZ1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCdDb21tZW50JywgQ29tbWVudFNjaGVtYSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "comment.model.js"
      ],
      "names": [
        "CommentSchema",
        "Schema",
        "userId",
        "String",
        "comment",
        "model"
      ],
      "mappings": "AAAA;;;;;;AAEA;;;;;;AAEA,IAAIA,gBAAgB,IAAI,mBAASC,MAAb,CAAoB;AACtCC,UAAQC,MAD8B;AAEtCC,WAASD;AAF6B,CAApB,CAApB;;kBAKe,mBAASE,KAAT,CAAe,SAAf,EAA0BL,aAA1B,C",
      "file": "comment.model.js",
      "sourceRoot": "/home/nitrous/server/api/comment",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\n\nvar CommentSchema = new mongoose.Schema({\n  userId: String,\n  comment: String\n});\n\nexport default mongoose.model('Comment', CommentSchema);\n"
      ]
    },
    "mtime": 1475485066576
  },
  "{\"filename\":\"/home/nitrous/server/api/game/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/game\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/game/index.js",
      "filenameRelative": "/home/nitrous/server/api/game/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/nitrous/server/api/game",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/game",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar express = require('express');\nvar controller = require('./game.controller');\n\nvar router = express.Router();\n\nrouter.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', controller.create);\nrouter.put('/:id', controller.upsert);\nrouter.patch('/:id', controller.patch);\nrouter.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY29udHJvbGxlciIsInJvdXRlciIsIlJvdXRlciIsImdldCIsImluZGV4Iiwic2hvdyIsInBvc3QiLCJjcmVhdGUiLCJwdXQiLCJ1cHNlcnQiLCJwYXRjaCIsImRlbGV0ZSIsImRlc3Ryb3kiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxVQUFVQyxRQUFRLFNBQVIsQ0FBZDtBQUNBLElBQUlDLGFBQWFELFFBQVEsbUJBQVIsQ0FBakI7O0FBRUEsSUFBSUUsU0FBU0gsUUFBUUksTUFBUixFQUFiOztBQUVBRCxPQUFPRSxHQUFQLENBQVcsR0FBWCxFQUFnQkgsV0FBV0ksS0FBM0I7QUFDQUgsT0FBT0UsR0FBUCxDQUFXLE1BQVgsRUFBbUJILFdBQVdLLElBQTlCO0FBQ0FKLE9BQU9LLElBQVAsQ0FBWSxHQUFaLEVBQWlCTixXQUFXTyxNQUE1QjtBQUNBTixPQUFPTyxHQUFQLENBQVcsTUFBWCxFQUFtQlIsV0FBV1MsTUFBOUI7QUFDQVIsT0FBT1MsS0FBUCxDQUFhLE1BQWIsRUFBcUJWLFdBQVdVLEtBQWhDO0FBQ0FULE9BQU9VLE1BQVAsQ0FBYyxNQUFkLEVBQXNCWCxXQUFXWSxPQUFqQzs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQmIsTUFBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbml0cm91cy9zZXJ2ZXIvYXBpL2dhbWUiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIGNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2dhbWUuY29udHJvbGxlcicpO1xuXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldCgnLycsIGNvbnRyb2xsZXIuaW5kZXgpO1xucm91dGVyLmdldCgnLzppZCcsIGNvbnRyb2xsZXIuc2hvdyk7XG5yb3V0ZXIucG9zdCgnLycsIGNvbnRyb2xsZXIuY3JlYXRlKTtcbnJvdXRlci5wdXQoJy86aWQnLCBjb250cm9sbGVyLnVwc2VydCk7XG5yb3V0ZXIucGF0Y2goJy86aWQnLCBjb250cm9sbGVyLnBhdGNoKTtcbnJvdXRlci5kZWxldGUoJy86aWQnLCBjb250cm9sbGVyLmRlc3Ryb3kpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "controller",
        "router",
        "Router",
        "get",
        "index",
        "show",
        "post",
        "create",
        "put",
        "upsert",
        "patch",
        "delete",
        "destroy",
        "module",
        "exports"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,mBAAR,CAAjB;;AAEA,IAAIE,SAASH,QAAQI,MAAR,EAAb;;AAEAD,OAAOE,GAAP,CAAW,GAAX,EAAgBH,WAAWI,KAA3B;AACAH,OAAOE,GAAP,CAAW,MAAX,EAAmBH,WAAWK,IAA9B;AACAJ,OAAOK,IAAP,CAAY,GAAZ,EAAiBN,WAAWO,MAA5B;AACAN,OAAOO,GAAP,CAAW,MAAX,EAAmBR,WAAWS,MAA9B;AACAR,OAAOS,KAAP,CAAa,MAAb,EAAqBV,WAAWU,KAAhC;AACAT,OAAOU,MAAP,CAAc,MAAd,EAAsBX,WAAWY,OAAjC;;AAEAC,OAAOC,OAAP,GAAiBb,MAAjB",
      "file": "index.js",
      "sourceRoot": "/home/nitrous/server/api/game",
      "sourcesContent": [
        "'use strict';\n\nvar express = require('express');\nvar controller = require('./game.controller');\n\nvar router = express.Router();\n\nrouter.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', controller.create);\nrouter.put('/:id', controller.upsert);\nrouter.patch('/:id', controller.patch);\nrouter.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1475483241057
  },
  "{\"filename\":\"/home/nitrous/server/api/game/game.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/nitrous/server/api/game\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.17.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fast-json-patch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jsonpatch"
              }
            ]
          },
          {
            "source": "./game.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Game"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "index",
            "req",
            "res",
            "show",
            "req",
            "res",
            "create",
            "req",
            "res",
            "upsert",
            "req",
            "res",
            "patch",
            "req",
            "res",
            "destroy",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "index",
              "exported": "index"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "upsert",
              "exported": "upsert"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "patch",
              "exported": "patch"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "destroy",
              "exported": "destroy"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/nitrous/server/api/game/game.controller.js",
      "filenameRelative": "/home/nitrous/server/api/game/game.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "game.controller.js",
      "sourceFileName": "game.controller.js",
      "sourceRoot": "/home/nitrous/server/api/game",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/nitrous/server/api/game",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "game.controller"
    },
    "ignored": false,
    "code": "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/games              ->  index\n * POST    /api/games              ->  create\n * GET     /api/games/:id          ->  show\n * PUT     /api/games/:id          ->  upsert\n * PATCH   /api/games/:id          ->  patch\n * DELETE  /api/games/:id          ->  destroy\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.index = index;\nexports.show = show;\nexports.create = create;\nexports.upsert = upsert;\nexports.patch = patch;\nexports.destroy = destroy;\n\nvar _fastJsonPatch = require('fast-json-patch');\n\nvar _fastJsonPatch2 = _interopRequireDefault(_fastJsonPatch);\n\nvar _game = require('./game.model');\n\nvar _game2 = _interopRequireDefault(_game);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function (entity) {\n    if (entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function (entity) {\n    try {\n      _fastJsonPatch2.default.apply(entity, patches, /*validate*/true);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function (entity) {\n    if (entity) {\n      return entity.remove().then(function () {\n        res.status(204).end();\n      });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function (entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Games\nfunction index(req, res) {\n  return _game2.default.find().exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Gets a single Game from the DB\nfunction show(req, res) {\n  return _game2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Creates a new Game in the DB\nfunction create(req, res) {\n  return _game2.default.create(req.body).then(respondWithResult(res, 201)).catch(handleError(res));\n}\n\n// Upserts the given Game in the DB at the specified ID\nfunction upsert(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return _game2.default.findOneAndUpdate({ _id: req.params.id }, req.body, { upsert: true, setDefaultsOnInsert: true, runValidators: true }).exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Updates an existing Game in the DB\nfunction patch(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return _game2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(patchUpdates(req.body)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Deletes a Game from the DB\nfunction destroy(req, res) {\n  return _game2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(removeEntity(res)).catch(handleError(res));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWUuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJpbmRleCIsInNob3ciLCJjcmVhdGUiLCJ1cHNlcnQiLCJwYXRjaCIsImRlc3Ryb3kiLCJyZXNwb25kV2l0aFJlc3VsdCIsInJlcyIsInN0YXR1c0NvZGUiLCJlbnRpdHkiLCJzdGF0dXMiLCJqc29uIiwicGF0Y2hVcGRhdGVzIiwicGF0Y2hlcyIsImFwcGx5IiwiZXJyIiwiUHJvbWlzZSIsInJlamVjdCIsInNhdmUiLCJyZW1vdmVFbnRpdHkiLCJyZW1vdmUiLCJ0aGVuIiwiZW5kIiwiaGFuZGxlRW50aXR5Tm90Rm91bmQiLCJoYW5kbGVFcnJvciIsInNlbmQiLCJyZXEiLCJmaW5kIiwiZXhlYyIsImNhdGNoIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsImJvZHkiLCJfaWQiLCJmaW5kT25lQW5kVXBkYXRlIiwic2V0RGVmYXVsdHNPbkluc2VydCIsInJ1blZhbGlkYXRvcnMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0FBVUE7Ozs7O1FBd0RnQkEsSyxHQUFBQSxLO1FBT0FDLEksR0FBQUEsSTtRQVFBQyxNLEdBQUFBLE07UUFPQUMsTSxHQUFBQSxNO1FBV0FDLEssR0FBQUEsSztRQVlBQyxPLEdBQUFBLE87O0FBbkdoQjs7OztBQUNBOzs7Ozs7QUFFQSxTQUFTQyxpQkFBVCxDQUEyQkMsR0FBM0IsRUFBZ0NDLFVBQWhDLEVBQTRDO0FBQzFDQSxlQUFhQSxjQUFjLEdBQTNCO0FBQ0EsU0FBTyxVQUFTQyxNQUFULEVBQWlCO0FBQ3RCLFFBQUdBLE1BQUgsRUFBVztBQUNULGFBQU9GLElBQUlHLE1BQUosQ0FBV0YsVUFBWCxFQUF1QkcsSUFBdkIsQ0FBNEJGLE1BQTVCLENBQVA7QUFDRDtBQUNELFdBQU8sSUFBUDtBQUNELEdBTEQ7QUFNRDs7QUFFRCxTQUFTRyxZQUFULENBQXNCQyxPQUF0QixFQUErQjtBQUM3QixTQUFPLFVBQVNKLE1BQVQsRUFBaUI7QUFDdEIsUUFBSTtBQUNGLDhCQUFV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QjtBQUNmLFdBQU9SLElBQUlPLElBQUosQ0FBU0MsR0FBaEI7QUFDRDtBQUNELFNBQU8sZUFBS0osUUFBTCxDQUFjSixJQUFJSyxNQUFKLENBQVdDLEVBQXpCLEVBQTZCSixJQUE3QixHQUNKUCxJQURJLENBQ0NFLHFCQUFxQmhCLEdBQXJCLENBREQsRUFFSmMsSUFGSSxDQUVDVCxhQUFhYyxJQUFJTyxJQUFqQixDQUZELEVBR0paLElBSEksQ0FHQ2Ysa0JBQWtCQyxHQUFsQixDQUhELEVBSUpzQixLQUpJLENBSUVMLFlBQVlqQixHQUFaLENBSkYsQ0FBUDtBQUtEOztBQUVEO0FBQ08sU0FBU0YsT0FBVCxDQUFpQnFCLEdBQWpCLEVBQXNCbkIsR0FBdEIsRUFBMkI7QUFDaEMsU0FBTyxlQUFLdUIsUUFBTCxDQUFjSixJQUFJSyxNQUFKLENBQVdDLEVBQXpCLEVBQTZCSixJQUE3QixHQUNKUCxJQURJLENBQ0NFLHFCQUFxQmhCLEdBQXJCLENBREQsRUFFSmMsSUFGSSxDQUVDRixhQUFhWixHQUFiLENBRkQsRUFHSnNCLEtBSEksQ0FHRUwsWUFBWWpCLEdBQVosQ0FIRixDQUFQO0FBSUQiLCJmaWxlIjoiZ2FtZS5jb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL25pdHJvdXMvc2VydmVyL2FwaS9nYW1lIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVc2luZyBSYWlscy1saWtlIHN0YW5kYXJkIG5hbWluZyBjb252ZW50aW9uIGZvciBlbmRwb2ludHMuXG4gKiBHRVQgICAgIC9hcGkvZ2FtZXMgICAgICAgICAgICAgIC0+ICBpbmRleFxuICogUE9TVCAgICAvYXBpL2dhbWVzICAgICAgICAgICAgICAtPiAgY3JlYXRlXG4gKiBHRVQgICAgIC9hcGkvZ2FtZXMvOmlkICAgICAgICAgIC0+ICBzaG93XG4gKiBQVVQgICAgIC9hcGkvZ2FtZXMvOmlkICAgICAgICAgIC0+ICB1cHNlcnRcbiAqIFBBVENIICAgL2FwaS9nYW1lcy86aWQgICAgICAgICAgLT4gIHBhdGNoXG4gKiBERUxFVEUgIC9hcGkvZ2FtZXMvOmlkICAgICAgICAgIC0+ICBkZXN0cm95XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQganNvbnBhdGNoIGZyb20gJ2Zhc3QtanNvbi1wYXRjaCc7XG5pbXBvcnQgR2FtZSBmcm9tICcuL2dhbWUubW9kZWwnO1xuXG5mdW5jdGlvbiByZXNwb25kV2l0aFJlc3VsdChyZXMsIHN0YXR1c0NvZGUpIHtcbiAgc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGUgfHwgMjAwO1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoZW50aXR5KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKGVudGl0eSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRjaFVwZGF0ZXMocGF0Y2hlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGpzb25wYXRjaC5hcHBseShlbnRpdHksIHBhdGNoZXMsIC8qdmFsaWRhdGUqLyB0cnVlKTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGl0eS5zYXZlKCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVudGl0eShyZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVudGl0eSkge1xuICAgIGlmKGVudGl0eSkge1xuICAgICAgcmV0dXJuIGVudGl0eS5yZW1vdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDQpLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVudGl0eU5vdEZvdW5kKHJlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYoIWVudGl0eSkge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmVuZCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdHk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlcywgc3RhdHVzQ29kZSkge1xuICBzdGF0dXNDb2RlID0gc3RhdHVzQ29kZSB8fCA1MDA7XG4gIHJldHVybiBmdW5jdGlvbihlcnIpIHtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLnNlbmQoZXJyKTtcbiAgfTtcbn1cblxuLy8gR2V0cyBhIGxpc3Qgb2YgR2FtZXNcbmV4cG9ydCBmdW5jdGlvbiBpbmRleChyZXEsIHJlcykge1xuICByZXR1cm4gR2FtZS5maW5kKCkuZXhlYygpXG4gICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIEdldHMgYSBzaW5nbGUgR2FtZSBmcm9tIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIHNob3cocmVxLCByZXMpIHtcbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkuZXhlYygpXG4gICAgLnRoZW4oaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSlcbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gQ3JlYXRlcyBhIG5ldyBHYW1lIGluIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcykge1xuICByZXR1cm4gR2FtZS5jcmVhdGUocmVxLmJvZHkpXG4gICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzLCAyMDEpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gVXBzZXJ0cyB0aGUgZ2l2ZW4gR2FtZSBpbiB0aGUgREIgYXQgdGhlIHNwZWNpZmllZCBJRFxuZXhwb3J0IGZ1bmN0aW9uIHVwc2VydChyZXEsIHJlcykge1xuICBpZihyZXEuYm9keS5faWQpIHtcbiAgICBkZWxldGUgcmVxLmJvZHkuX2lkO1xuICB9XG4gIHJldHVybiBHYW1lLmZpbmRPbmVBbmRVcGRhdGUoe19pZDogcmVxLnBhcmFtcy5pZH0sIHJlcS5ib2R5LCB7dXBzZXJ0OiB0cnVlLCBzZXREZWZhdWx0c09uSW5zZXJ0OiB0cnVlLCBydW5WYWxpZGF0b3JzOiB0cnVlfSkuZXhlYygpXG5cbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gVXBkYXRlcyBhbiBleGlzdGluZyBHYW1lIGluIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHJlcSwgcmVzKSB7XG4gIGlmKHJlcS5ib2R5Ll9pZCkge1xuICAgIGRlbGV0ZSByZXEuYm9keS5faWQ7XG4gIH1cbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkuZXhlYygpXG4gICAgLnRoZW4oaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSlcbiAgICAudGhlbihwYXRjaFVwZGF0ZXMocmVxLmJvZHkpKVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcykpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vLyBEZWxldGVzIGEgR2FtZSBmcm9tIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3kocmVxLCByZXMpIHtcbiAgcmV0dXJuIEdhbWUuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkuZXhlYygpXG4gICAgLnRoZW4oaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSlcbiAgICAudGhlbihyZW1vdmVFbnRpdHkocmVzKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "game.controller.js"
      ],
      "names": [
        "index",
        "show",
        "create",
        "upsert",
        "patch",
        "destroy",
        "respondWithResult",
        "res",
        "statusCode",
        "entity",
        "status",
        "json",
        "patchUpdates",
        "patches",
        "apply",
        "err",
        "Promise",
        "reject",
        "save",
        "removeEntity",
        "remove",
        "then",
        "end",
        "handleEntityNotFound",
        "handleError",
        "send",
        "req",
        "find",
        "exec",
        "catch",
        "findById",
        "params",
        "id",
        "body",
        "_id",
        "findOneAndUpdate",
        "setDefaultsOnInsert",
        "runValidators"
      ],
      "mappings": "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",
      "file": "game.controller.js",
      "sourceRoot": "/home/nitrous/server/api/game",
      "sourcesContent": [
        "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/games              ->  index\n * POST    /api/games              ->  create\n * GET     /api/games/:id          ->  show\n * PUT     /api/games/:id          ->  upsert\n * PATCH   /api/games/:id          ->  patch\n * DELETE  /api/games/:id          ->  destroy\n */\n\n'use strict';\n\nimport jsonpatch from 'fast-json-patch';\nimport Game from './game.model';\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if(entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\nfunction patchUpdates(patches) {\n  return function(entity) {\n    try {\n      jsonpatch.apply(entity, patches, /*validate*/ true);\n    } catch(err) {\n      return Promise.reject(err);\n    }\n\n    return entity.save();\n  };\n}\n\nfunction removeEntity(res) {\n  return function(entity) {\n    if(entity) {\n      return entity.remove()\n        .then(() => {\n          res.status(204).end();\n        });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if(!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Games\nexport function index(req, res) {\n  return Game.find().exec()\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Gets a single Game from the DB\nexport function show(req, res) {\n  return Game.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Creates a new Game in the DB\nexport function create(req, res) {\n  return Game.create(req.body)\n    .then(respondWithResult(res, 201))\n    .catch(handleError(res));\n}\n\n// Upserts the given Game in the DB at the specified ID\nexport function upsert(req, res) {\n  if(req.body._id) {\n    delete req.body._id;\n  }\n  return Game.findOneAndUpdate({_id: req.params.id}, req.body, {upsert: true, setDefaultsOnInsert: true, runValidators: true}).exec()\n\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Updates an existing Game in the DB\nexport function patch(req, res) {\n  if(req.body._id) {\n    delete req.body._id;\n  }\n  return Game.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(patchUpdates(req.body))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Deletes a Game from the DB\nexport function destroy(req, res) {\n  return Game.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(removeEntity(res))\n    .catch(handleError(res));\n}\n"
      ]
    },
    "mtime": 1475483241053
  }
}